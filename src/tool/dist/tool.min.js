!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("stream"),require("events"),require("buffer"),require("util")):"function"==typeof define&&define.amd?define(["stream","events","buffer","util"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).require$$0,t.require$$2,t.require$$0$1,t.require$$1)}(this,(function(t,e,n,r){"use strict";var i="top",o="bottom",a="right",s="left",u="auto",l=[i,o,a,s],c="start",f="end",h="clippingParents",d="viewport",p="popper",m="reference",g=l.reduce((function(t,e){return t.concat([e+"-"+c,e+"-"+f])}),[]),y=[].concat(l,[u]).reduce((function(t,e){return t.concat([e,e+"-"+c,e+"-"+f])}),[]),v=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function w(t){return t?(t.nodeName||"").toLowerCase():null}function b(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function x(t){return t instanceof b(t).Element||t instanceof Element}function _(t){return t instanceof b(t).HTMLElement||t instanceof HTMLElement}function D(t){return"undefined"!=typeof ShadowRoot&&(t instanceof b(t).ShadowRoot||t instanceof ShadowRoot)}var E={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},i=e.elements[t];_(i)&&w(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(t){var e=r[t];!1===e?i.removeAttribute(t):i.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var r=e.elements[t],i=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});_(r)&&w(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(t){r.removeAttribute(t)})))}))}},requires:["computeStyles"]};function A(t){return t.split("-")[0]}var M=Math.max,S=Math.min,C=Math.round;function k(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function F(){return!/^((?!chrome|android).)*safari/i.test(k())}function N(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&_(t)&&(i=t.offsetWidth>0&&C(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&C(r.height)/t.offsetHeight||1);var a=(x(t)?b(t):window).visualViewport,s=!F()&&n,u=(r.left+(s&&a?a.offsetLeft:0))/i,l=(r.top+(s&&a?a.offsetTop:0))/o,c=r.width/i,f=r.height/o;return{width:c,height:f,top:l,right:u+c,bottom:l+f,left:u,x:u,y:l}}function T(t){var e=N(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function B(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&D(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function O(t){return b(t).getComputedStyle(t)}function z(t){return["table","td","th"].indexOf(w(t))>=0}function I(t){return((x(t)?t.ownerDocument:t.document)||window.document).documentElement}function R(t){return"html"===w(t)?t:t.assignedSlot||t.parentNode||(D(t)?t.host:null)||I(t)}function P(t){return _(t)&&"fixed"!==O(t).position?t.offsetParent:null}function $(t){for(var e=b(t),n=P(t);n&&z(n)&&"static"===O(n).position;)n=P(n);return n&&("html"===w(n)||"body"===w(n)&&"static"===O(n).position)?e:n||function(t){var e=/firefox/i.test(k());if(/Trident/i.test(k())&&_(t)&&"fixed"===O(t).position)return null;var n=R(t);for(D(n)&&(n=n.host);_(n)&&["html","body"].indexOf(w(n))<0;){var r=O(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||e&&"filter"===r.willChange||e&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(t)||e}function j(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function L(t,e,n){return M(t,S(e,n))}function U(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function q(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}var V={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,r=t.name,u=t.options,c=n.elements.arrow,f=n.modifiersData.popperOffsets,h=A(n.placement),d=j(h),p=[s,a].indexOf(h)>=0?"height":"width";if(c&&f){var m=function(t,e){return U("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:q(t,l))}(u.padding,n),g=T(c),y="y"===d?i:s,v="y"===d?o:a,w=n.rects.reference[p]+n.rects.reference[d]-f[d]-n.rects.popper[p],b=f[d]-n.rects.reference[d],x=$(c),_=x?"y"===d?x.clientHeight||0:x.clientWidth||0:0,D=w/2-b/2,E=m[y],M=_-g[p]-m[v],S=_/2-g[p]/2+D,C=L(E,S,M),k=d;n.modifiersData[r]=((e={})[k]=C,e.centerOffset=C-S,e)}},effect:function(t){var e=t.state,n=t.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=e.elements.popper.querySelector(r)))&&B(e.elements.popper,r)&&(e.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function W(t){return t.split("-")[1]}var H={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Z(t){var e,n=t.popper,r=t.popperRect,u=t.placement,l=t.variation,c=t.offsets,h=t.position,d=t.gpuAcceleration,p=t.adaptive,m=t.roundOffsets,g=t.isFixed,y=c.x,v=void 0===y?0:y,w=c.y,x=void 0===w?0:w,_="function"==typeof m?m({x:v,y:x}):{x:v,y:x};v=_.x,x=_.y;var D=c.hasOwnProperty("x"),E=c.hasOwnProperty("y"),A=s,M=i,S=window;if(p){var k=$(n),F="clientHeight",N="clientWidth";if(k===b(n)&&"static"!==O(k=I(n)).position&&"absolute"===h&&(F="scrollHeight",N="scrollWidth"),u===i||(u===s||u===a)&&l===f)M=o,x-=(g&&k===S&&S.visualViewport?S.visualViewport.height:k[F])-r.height,x*=d?1:-1;if(u===s||(u===i||u===o)&&l===f)A=a,v-=(g&&k===S&&S.visualViewport?S.visualViewport.width:k[N])-r.width,v*=d?1:-1}var T,B=Object.assign({position:h},p&&H),z=!0===m?function(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:C(n*i)/i||0,y:C(r*i)/i||0}}({x:v,y:x},b(n)):{x:v,y:x};return v=z.x,x=z.y,d?Object.assign({},B,((T={})[M]=E?"0":"",T[A]=D?"0":"",T.transform=(S.devicePixelRatio||1)<=1?"translate("+v+"px, "+x+"px)":"translate3d("+v+"px, "+x+"px, 0)",T)):Object.assign({},B,((e={})[M]=E?x+"px":"",e[A]=D?v+"px":"",e.transform="",e))}var Y={passive:!0};var X={left:"right",right:"left",bottom:"top",top:"bottom"};function K(t){return t.replace(/left|right|bottom|top/g,(function(t){return X[t]}))}var J={start:"end",end:"start"};function G(t){return t.replace(/start|end/g,(function(t){return J[t]}))}function Q(t){var e=b(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function tt(t){return N(I(t)).left+Q(t).scrollLeft}function et(t){var e=O(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function nt(t){return["html","body","#document"].indexOf(w(t))>=0?t.ownerDocument.body:_(t)&&et(t)?t:nt(R(t))}function rt(t,e){var n;void 0===e&&(e=[]);var r=nt(t),i=r===(null==(n=t.ownerDocument)?void 0:n.body),o=b(r),a=i?[o].concat(o.visualViewport||[],et(r)?r:[]):r,s=e.concat(a);return i?s:s.concat(rt(R(a)))}function ot(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function at(t,e,n){return e===d?ot(function(t,e){var n=b(t),r=I(t),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,u=0;if(i){o=i.width,a=i.height;var l=F();(l||!l&&"fixed"===e)&&(s=i.offsetLeft,u=i.offsetTop)}return{width:o,height:a,x:s+tt(t),y:u}}(t,n)):x(e)?function(t,e){var n=N(t,!1,"fixed"===e);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}(e,n):ot(function(t){var e,n=I(t),r=Q(t),i=null==(e=t.ownerDocument)?void 0:e.body,o=M(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=M(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+tt(t),u=-r.scrollTop;return"rtl"===O(i||n).direction&&(s+=M(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:u}}(I(t)))}function st(t,e,n,r){var i="clippingParents"===e?function(t){var e=rt(R(t)),n=["absolute","fixed"].indexOf(O(t).position)>=0&&_(t)?$(t):t;return x(n)?e.filter((function(t){return x(t)&&B(t,n)&&"body"!==w(t)})):[]}(t):[].concat(e),o=[].concat(i,[n]),a=o[0],s=o.reduce((function(e,n){var i=at(t,n,r);return e.top=M(i.top,e.top),e.right=S(i.right,e.right),e.bottom=S(i.bottom,e.bottom),e.left=M(i.left,e.left),e}),at(t,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function ut(t){var e,n=t.reference,r=t.element,u=t.placement,l=u?A(u):null,h=u?W(u):null,d=n.x+n.width/2-r.width/2,p=n.y+n.height/2-r.height/2;switch(l){case i:e={x:d,y:n.y-r.height};break;case o:e={x:d,y:n.y+n.height};break;case a:e={x:n.x+n.width,y:p};break;case s:e={x:n.x-r.width,y:p};break;default:e={x:n.x,y:n.y}}var m=l?j(l):null;if(null!=m){var g="y"===m?"height":"width";switch(h){case c:e[m]=e[m]-(n[g]/2-r[g]/2);break;case f:e[m]=e[m]+(n[g]/2-r[g]/2)}}return e}function lt(t,e){void 0===e&&(e={});var n=e,r=n.placement,s=void 0===r?t.placement:r,u=n.strategy,c=void 0===u?t.strategy:u,f=n.boundary,g=void 0===f?h:f,y=n.rootBoundary,v=void 0===y?d:y,w=n.elementContext,b=void 0===w?p:w,_=n.altBoundary,D=void 0!==_&&_,E=n.padding,A=void 0===E?0:E,M=U("number"!=typeof A?A:q(A,l)),S=b===p?m:p,C=t.rects.popper,k=t.elements[D?S:b],F=st(x(k)?k:k.contextElement||I(t.elements.popper),g,v,c),T=N(t.elements.reference),B=ut({reference:T,element:C,strategy:"absolute",placement:s}),O=ot(Object.assign({},C,B)),z=b===p?O:T,R={top:F.top-z.top+M.top,bottom:z.bottom-F.bottom+M.bottom,left:F.left-z.left+M.left,right:z.right-F.right+M.right},P=t.modifiersData.offset;if(b===p&&P){var $=P[s];Object.keys(R).forEach((function(t){var e=[a,o].indexOf(t)>=0?1:-1,n=[i,o].indexOf(t)>=0?"y":"x";R[t]+=$[n]*e}))}return R}function ct(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?y:u,f=W(r),h=f?s?g:g.filter((function(t){return W(t)===f})):l,d=h.filter((function(t){return c.indexOf(t)>=0}));0===d.length&&(d=h);var p=d.reduce((function(e,n){return e[n]=lt(t,{placement:n,boundary:i,rootBoundary:o,padding:a})[A(n)],e}),{});return Object.keys(p).sort((function(t,e){return p[t]-p[e]}))}var ft={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var l=n.mainAxis,f=void 0===l||l,h=n.altAxis,d=void 0===h||h,p=n.fallbackPlacements,m=n.padding,g=n.boundary,y=n.rootBoundary,v=n.altBoundary,w=n.flipVariations,b=void 0===w||w,x=n.allowedAutoPlacements,_=e.options.placement,D=A(_),E=p||(D===_||!b?[K(_)]:function(t){if(A(t)===u)return[];var e=K(t);return[G(t),e,G(e)]}(_)),M=[_].concat(E).reduce((function(t,n){return t.concat(A(n)===u?ct(e,{placement:n,boundary:g,rootBoundary:y,padding:m,flipVariations:b,allowedAutoPlacements:x}):n)}),[]),S=e.rects.reference,C=e.rects.popper,k=new Map,F=!0,N=M[0],T=0;T<M.length;T++){var B=M[T],O=A(B),z=W(B)===c,I=[i,o].indexOf(O)>=0,R=I?"width":"height",P=lt(e,{placement:B,boundary:g,rootBoundary:y,altBoundary:v,padding:m}),$=I?z?a:s:z?o:i;S[R]>C[R]&&($=K($));var j=K($),L=[];if(f&&L.push(P[O]<=0),d&&L.push(P[$]<=0,P[j]<=0),L.every((function(t){return t}))){N=B,F=!1;break}k.set(B,L)}if(F)for(var U=function(t){var e=M.find((function(e){var n=k.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return N=e,"break"},q=b?3:1;q>0;q--){if("break"===U(q))break}e.placement!==N&&(e.modifiersData[r]._skip=!0,e.placement=N,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ht(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function dt(t){return[i,a,o,s].some((function(e){return t[e]>=0}))}var pt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,r=t.name,o=n.offset,u=void 0===o?[0,0]:o,l=y.reduce((function(t,n){return t[n]=function(t,e,n){var r=A(t),o=[s,i].indexOf(r)>=0?-1:1,u="function"==typeof n?n(Object.assign({},e,{placement:t})):n,l=u[0],c=u[1];return l=l||0,c=(c||0)*o,[s,a].indexOf(r)>=0?{x:c,y:l}:{x:l,y:c}}(n,e.rects,u),t}),{}),c=l[e.placement],f=c.x,h=c.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=h),e.modifiersData[r]=l}};var mt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name,u=n.mainAxis,l=void 0===u||u,f=n.altAxis,h=void 0!==f&&f,d=n.boundary,p=n.rootBoundary,m=n.altBoundary,g=n.padding,y=n.tether,v=void 0===y||y,w=n.tetherOffset,b=void 0===w?0:w,x=lt(e,{boundary:d,rootBoundary:p,padding:g,altBoundary:m}),_=A(e.placement),D=W(e.placement),E=!D,C=j(_),k=function(t){return"x"===t?"y":"x"}(C),F=e.modifiersData.popperOffsets,N=e.rects.reference,B=e.rects.popper,O="function"==typeof b?b(Object.assign({},e.rects,{placement:e.placement})):b,z="number"==typeof O?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),I=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,R={x:0,y:0};if(F){if(l){var P,U="y"===C?i:s,q="y"===C?o:a,V="y"===C?"height":"width",H=F[C],Z=H+x[U],Y=H-x[q],X=v?-B[V]/2:0,K=D===c?N[V]:B[V],J=D===c?-B[V]:-N[V],G=e.elements.arrow,Q=v&&G?T(G):{width:0,height:0},tt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},et=tt[U],nt=tt[q],rt=L(0,N[V],Q[V]),it=E?N[V]/2-X-rt-et-z.mainAxis:K-rt-et-z.mainAxis,ot=E?-N[V]/2+X+rt+nt+z.mainAxis:J+rt+nt+z.mainAxis,at=e.elements.arrow&&$(e.elements.arrow),st=at?"y"===C?at.clientTop||0:at.clientLeft||0:0,ut=null!=(P=null==I?void 0:I[C])?P:0,ct=H+ot-ut,ft=L(v?S(Z,H+it-ut-st):Z,H,v?M(Y,ct):Y);F[C]=ft,R[C]=ft-H}if(h){var ht,dt="x"===C?i:s,pt="x"===C?o:a,mt=F[k],gt="y"===k?"height":"width",yt=mt+x[dt],vt=mt-x[pt],wt=-1!==[i,s].indexOf(_),bt=null!=(ht=null==I?void 0:I[k])?ht:0,xt=wt?yt:mt-N[gt]-B[gt]-bt+z.altAxis,_t=wt?mt+N[gt]+B[gt]-bt-z.altAxis:vt,Dt=v&&wt?function(t,e,n){var r=L(t,e,n);return r>n?n:r}(xt,mt,_t):L(v?xt:yt,mt,v?_t:vt);F[k]=Dt,R[k]=Dt-mt}e.modifiersData[r]=R}},requiresIfExists:["offset"]};function gt(t,e,n){void 0===n&&(n=!1);var r=_(e),i=_(e)&&function(t){var e=t.getBoundingClientRect(),n=C(e.width)/t.offsetWidth||1,r=C(e.height)/t.offsetHeight||1;return 1!==n||1!==r}(e),o=I(e),a=N(t,i,n),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==w(e)||et(o))&&(s=function(t){return t!==b(t)&&_(t)?{scrollLeft:(e=t).scrollLeft,scrollTop:e.scrollTop}:Q(t);var e}(e)),_(e)?((u=N(e,!0)).x+=e.clientLeft,u.y+=e.clientTop):o&&(u.x=tt(o))),{x:a.left+s.scrollLeft-u.x,y:a.top+s.scrollTop-u.y,width:a.width,height:a.height}}function yt(t){var e=new Map,n=new Set,r=[];function i(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var r=e.get(t);r&&i(r)}})),r.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||i(t)})),r}function vt(t){var e;return function(){return e||(e=new Promise((function(n){Promise.resolve().then((function(){e=void 0,n(t())}))}))),e}}var wt={placement:"bottom",modifiers:[],strategy:"absolute"};function bt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function xt(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,i=e.defaultOptions,o=void 0===i?wt:i;return function(t,e,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},wt,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},a=[],s=!1,u={state:i,setOptions:function(n){var s="function"==typeof n?n(i.options):n;l(),i.options=Object.assign({},o,i.options,s),i.scrollParents={reference:x(t)?rt(t):t.contextElement?rt(t.contextElement):[],popper:rt(e)};var c,f,h=function(t){var e=yt(t);return v.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}((c=[].concat(r,i.options.modifiers),f=c.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{}),Object.keys(f).map((function(t){return f[t]}))));return i.orderedModifiers=h.filter((function(t){return t.enabled})),i.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,r=void 0===n?{}:n,o=t.effect;if("function"==typeof o){var s=o({state:i,name:e,instance:u,options:r}),l=function(){};a.push(s||l)}})),u.update()},forceUpdate:function(){if(!s){var t=i.elements,e=t.reference,n=t.popper;if(bt(e,n)){i.rects={reference:gt(e,$(n),"fixed"===i.options.strategy),popper:T(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(t){return i.modifiersData[t.name]=Object.assign({},t.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],a=o.fn,l=o.options,c=void 0===l?{}:l,f=o.name;"function"==typeof a&&(i=a({state:i,options:c,name:f,instance:u})||i)}else i.reset=!1,r=-1}}},update:vt((function(){return new Promise((function(t){u.forceUpdate(),t(i)}))})),destroy:function(){l(),s=!0}};if(!bt(t,e))return u;function l(){a.forEach((function(t){return t()})),a=[]}return u.setOptions(n).then((function(t){!s&&n.onFirstUpdate&&n.onFirstUpdate(t)})),u}}var _t=xt({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,u=b(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&l.forEach((function(t){t.addEventListener("scroll",n.update,Y)})),s&&u.addEventListener("resize",n.update,Y),function(){o&&l.forEach((function(t){t.removeEventListener("scroll",n.update,Y)})),s&&u.removeEventListener("resize",n.update,Y)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=ut({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,u=void 0===s||s,l={placement:A(e.placement),variation:W(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,Z(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:u})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,Z(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},E,pt,ft,mt,V,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=lt(e,{elementContext:"reference"}),s=lt(e,{altBoundary:!0}),u=ht(a,r),l=ht(s,i,o),c=dt(u),f=dt(l);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}}]}),Dt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Et(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var At,Mt,St,Ct,kt,Ft={},Nt={},Tt={},Bt={exports:{}},Ot={exports:{}};function zt(){if(At)return Ot.exports;return At=1,"undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?Ot.exports={nextTick:function(t,e,n,r){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var i,o,a=arguments.length;switch(a){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick((function(){t.call(null,e)}));case 3:return process.nextTick((function(){t.call(null,e,n)}));case 4:return process.nextTick((function(){t.call(null,e,n,r)}));default:for(i=new Array(a-1),o=0;o<i.length;)i[o++]=arguments[o];return process.nextTick((function(){t.apply(null,i)}))}}}:Ot.exports=process,Ot.exports}function It(){return kt?Ct:(kt=1,Ct=t)}var Rt,Pt={exports:{}};function $t(){return Rt||(Rt=1,function(t,e){var r=n,i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=a),o(i,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}}(Pt,Pt.exports)),Pt.exports}var jt,Lt={};function Ut(){if(jt)return Lt;function t(t){return Object.prototype.toString.call(t)}return jt=1,Lt.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===t(e)},Lt.isBoolean=function(t){return"boolean"==typeof t},Lt.isNull=function(t){return null===t},Lt.isNullOrUndefined=function(t){return null==t},Lt.isNumber=function(t){return"number"==typeof t},Lt.isString=function(t){return"string"==typeof t},Lt.isSymbol=function(t){return"symbol"==typeof t},Lt.isUndefined=function(t){return void 0===t},Lt.isRegExp=function(e){return"[object RegExp]"===t(e)},Lt.isObject=function(t){return"object"==typeof t&&null!==t},Lt.isDate=function(e){return"[object Date]"===t(e)},Lt.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},Lt.isFunction=function(t){return"function"==typeof t},Lt.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},Lt.isBuffer=n.Buffer.isBuffer,Lt}var qt,Vt,Wt={exports:{}},Ht={exports:{}};function Zt(){if(Vt)return Wt.exports;Vt=1;try{var t=require("util");if("function"!=typeof t.inherits)throw"";Wt.exports=t.inherits}catch(t){Wt.exports=(qt||(qt=1,"function"==typeof Object.create?Ht.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Ht.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}),Ht.exports)}return Wt.exports}var Yt,Xt,Kt,Jt,Gt,Qt,te,ee,ne,re={exports:{}};function ie(){return Yt||(Yt=1,function(t){var e=$t().Buffer,n=r;function i(t,e,n){t.copy(e,n)}t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return e.alloc(0);for(var n=e.allocUnsafe(t>>>0),r=this.head,o=0;r;)i(r.data,n,o),o+=r.data.length,r=r.next;return n},t}(),n&&n.inspect&&n.inspect.custom&&(t.exports.prototype[n.inspect.custom]=function(){var t=n.inspect({length:this.length});return this.constructor.name+" "+t})}(re)),re.exports}function oe(){if(Kt)return Xt;Kt=1;var t=zt();function e(t,e){t.emit("error",e)}return Xt={destroy:function(n,r){var i=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(r?r(n):n&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(e,this,n)):t.nextTick(e,this,n)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(n||null,(function(n){!r&&n?i._writableState?i._writableState.errorEmitted||(i._writableState.errorEmitted=!0,t.nextTick(e,i,n)):t.nextTick(e,i,n):r&&r(n)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}},Xt}function ae(){if(te)return Qt;te=1;var t=zt();function e(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree.next=t}(e,t)}}Qt=p;var n,i=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:t.nextTick;p.WritableState=d;var o=Object.create(Ut());o.inherits=Zt();var a={deprecate:Gt?Jt:(Gt=1,Jt=r.deprecate)},s=It(),u=$t().Buffer,l=(void 0!==Dt?Dt:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var c,f=oe();function h(){}function d(r,o){n=n||se(),r=r||{};var a=o instanceof n;this.objectMode=!!r.objectMode,a&&(this.objectMode=this.objectMode||!!r.writableObjectMode);var s=r.highWaterMark,u=r.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=s||0===s?s:a&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===r.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=r.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,n){var r=e._writableState,o=r.sync,a=r.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),n)!function(e,n,r,i,o){--n.pendingcb,r?(t.nextTick(o,i),t.nextTick(b,e,n),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),b(e,n))}(e,r,o,n,a);else{var s=v(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||y(e,r),o?i(g,e,r,s,a):g(e,r,s,a)}}(o,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}function p(t){if(n=n||se(),!(c.call(p,this)||this instanceof n))return new p(t);this._writableState=new d(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),s.call(this)}function m(t,e,n,r,i,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function g(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),b(t,e)}function y(t,n){n.bufferProcessing=!0;var r=n.bufferedRequest;if(t._writev&&r&&r.next){var i=n.bufferedRequestCount,o=new Array(i),a=n.corkedRequestsFree;a.entry=r;for(var s=0,u=!0;r;)o[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;o.allBuffers=u,m(t,n,!0,n.length,o,"",a.finish),n.pendingcb++,n.lastBufferedRequest=null,a.next?(n.corkedRequestsFree=a.next,a.next=null):n.corkedRequestsFree=new e(n),n.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,c=r.encoding,f=r.callback;if(m(t,n,!1,n.objectMode?1:l.length,l,c,f),r=r.next,n.bufferedRequestCount--,n.writing)break}null===r&&(n.lastBufferedRequest=null)}n.bufferedRequest=r,n.bufferProcessing=!1}function v(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function w(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),b(t,e)}))}function b(e,n){var r=v(n);return r&&(!function(e,n){n.prefinished||n.finalCalled||("function"==typeof e._final?(n.pendingcb++,n.finalCalled=!0,t.nextTick(w,e,n)):(n.prefinished=!0,e.emit("prefinish")))}(e,n),0===n.pendingcb&&(n.finished=!0,e.emit("finish"))),r}return o.inherits(p,s),d.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(d.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(p,Symbol.hasInstance,{value:function(t){return!!c.call(this,t)||this===p&&(t&&t._writableState instanceof d)}})):c=function(t){return t instanceof this},p.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},p.prototype.write=function(e,n,r){var i,o=this._writableState,a=!1,s=!o.objectMode&&(i=e,u.isBuffer(i)||i instanceof l);return s&&!u.isBuffer(e)&&(e=function(t){return u.from(t)}(e)),"function"==typeof n&&(r=n,n=null),s?n="buffer":n||(n=o.defaultEncoding),"function"!=typeof r&&(r=h),o.ended?function(e,n){var r=new Error("write after end");e.emit("error",r),t.nextTick(n,r)}(this,r):(s||function(e,n,r,i){var o=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||n.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),t.nextTick(i,a),o=!1),o}(this,o,e,r))&&(o.pendingcb++,a=function(t,e,n,r,i,o){if(!n){var a=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=u.from(e,n));return e}(e,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=e.objectMode?1:r.length;e.length+=s;var l=e.length<e.highWaterMark;l||(e.needDrain=!0);if(e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else m(t,e,!1,s,r,i,o);return l}(this,o,s,e,n,r)),a},p.prototype.cork=function(){this._writableState.corked++},p.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||y(this,t))},p.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),p.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},p.prototype._writev=null,p.prototype.end=function(e,n,r){var i=this._writableState;"function"==typeof e?(r=e,e=null,n=null):"function"==typeof n&&(r=n,n=null),null!=e&&this.write(e,n),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,n,r){n.ending=!0,b(e,n),r&&(n.finished?t.nextTick(r):e.once("finish",r));n.ended=!0,e.writable=!1}(this,i,r)},Object.defineProperty(p.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),p.prototype.destroy=f.destroy,p.prototype._undestroy=f.undestroy,p.prototype._destroy=function(t,e){this.end(),e(t)},Qt}function se(){if(ne)return ee;ne=1;var t=zt(),e=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};ee=u;var n=Object.create(Ut());n.inherits=Zt();var r=ve(),i=ae();n.inherits(u,r);for(var o=e(i.prototype),a=0;a<o.length;a++){var s=o[a];u.prototype[s]||(u.prototype[s]=i.prototype[s])}function u(t){if(!(this instanceof u))return new u(t);r.call(this,t),i.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",l)}function l(){this.allowHalfOpen||this._writableState.ended||t.nextTick(c,this)}function c(t){t.end()}return Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),u.prototype._destroy=function(e,n){this.push(null),this.end(),t.nextTick(n,e)},ee}var ue,le,ce,fe,he,de,pe,me,ge={};function ye(){if(ue)return ge;ue=1;var t=$t().Buffer,e=t.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(n){var r;switch(this.encoding=function(n){var r=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(n);if("string"!=typeof r&&(t.isEncoding===e||!e(n)))throw new Error("Unknown encoding: "+n);return r||n}(n),this.encoding){case"utf16le":this.text=o,this.end=a,r=4;break;case"utf8":this.fillLast=i,r=4;break;case"base64":this.text=s,this.end=u,r=3;break;default:return this.write=l,void(this.end=c)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(r)}function r(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function i(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function o(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function a(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function s(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function u(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function l(t){return t.toString(this.encoding)}function c(t){return t&&t.length?this.write(t):""}return ge.StringDecoder=n,n.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},n.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},n.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var o=r(e[i]);if(o>=0)return o>0&&(t.lastNeed=o-1),o;if(--i<n||-2===o)return 0;if(o=r(e[i]),o>=0)return o>0&&(t.lastNeed=o-2),o;if(--i<n||-2===o)return 0;if(o=r(e[i]),o>=0)return o>0&&(2===o?o=0:t.lastNeed=o-3),o;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},n.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length},ge}function ve(){if(ce)return le;ce=1;var t=zt();le=y;var n,i=function(){if(St)return Mt;St=1;var t={}.toString;return Mt=Array.isArray||function(e){return"[object Array]"==t.call(e)}}();y.ReadableState=g,e.EventEmitter;var o=function(t,e){return t.listeners(e).length},a=It(),s=$t().Buffer,u=(void 0!==Dt?Dt:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var l=Object.create(Ut());l.inherits=Zt();var c=r,f=void 0;f=c&&c.debuglog?c.debuglog("stream"):function(){};var h,d=ie(),p=oe();l.inherits(y,a);var m=["error","close","destroy","pause","resume"];function g(t,e){t=t||{};var r=e instanceof(n=n||se());this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,o=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(h||(h=ye().StringDecoder),this.decoder=new h(t.encoding),this.encoding=t.encoding)}function y(t){if(n=n||se(),!(this instanceof y))return new y(t);this._readableState=new g(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),a.call(this)}function v(t,e,n,r,i){var o,a=t._readableState;null===e?(a.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,_(t)}(t,a)):(i||(o=function(t,e){var n;r=e,s.isBuffer(r)||r instanceof u||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(a,e)),o?t.emit("error",o):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===s.prototype||(e=function(t){return s.from(t)}(e)),r?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):w(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?w(t,a,e,!1):E(t,a)):w(t,a,e,!1))):r||(a.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function w(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&_(t)),E(t,e)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),y.prototype.destroy=p.destroy,y.prototype._undestroy=p.undestroy,y.prototype._destroy=function(t,e){this.push(null),e(t)},y.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=s.from(t,e),e=""),n=!0),v(this,t,e,!1,n)},y.prototype.unshift=function(t){return v(this,t,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(t){return h||(h=ye().StringDecoder),this._readableState.decoder=new h(t),this._readableState.encoding=t,this};var b=8388608;function x(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=b?t=b:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function _(e){var n=e._readableState;n.needReadable=!1,n.emittedReadable||(f("emitReadable",n.flowing),n.emittedReadable=!0,n.sync?t.nextTick(D,e):D(e))}function D(t){f("emit readable"),t.emit("readable"),C(t)}function E(e,n){n.readingMore||(n.readingMore=!0,t.nextTick(A,e,n))}function A(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(f("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function M(t){f("readable nexttick read 0"),t.read(0)}function S(t,e){e.reading||(f("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),C(t),e.flowing&&!e.reading&&t.read(0)}function C(t){var e=t._readableState;for(f("flow",e.flowing);e.flowing&&null!==t.read(););}function k(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;t-=i.length;for(;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(a===o.length?i+=o:i+=o.slice(0,t),0===(t-=a)){a===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=s.allocUnsafe(t),r=e.head,i=1;r.data.copy(n),t-=r.data.length;for(;r=r.next;){var o=r.data,a=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,a),0===(t-=a)){a===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(a));break}++i}return e.length-=i,n}(t,e);return r}(t,e.buffer,e.decoder),n);var n}function F(e){var n=e._readableState;if(n.length>0)throw new Error('"endReadable()" called on non-empty stream');n.endEmitted||(n.ended=!0,t.nextTick(N,n,e))}function N(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function T(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}return y.prototype.read=function(t){f("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return f("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?F(this):_(this),null;if(0===(t=x(t,e))&&e.ended)return 0===e.length&&F(this),null;var r,i=e.needReadable;return f("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&f("length less than watermark",i=!0),e.ended||e.reading?f("reading or ended",i=!1):i&&(f("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=x(n,e))),null===(r=t>0?k(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&F(this)),null!==r&&this.emit("data",r),r},y.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,n){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,f("pipe count=%d opts=%j",a.pipesCount,n);var s=(!n||!1!==n.end)&&e!==process.stdout&&e!==process.stderr?l:v;function u(t,n){f("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,f("cleanup"),e.removeListener("close",g),e.removeListener("finish",y),e.removeListener("drain",c),e.removeListener("error",m),e.removeListener("unpipe",u),r.removeListener("end",l),r.removeListener("end",v),r.removeListener("data",p),h=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}function l(){f("onend"),e.end()}a.endEmitted?t.nextTick(s):r.once("end",s),e.on("unpipe",u);var c=function(t){return function(){var e=t._readableState;f("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&o(t,"data")&&(e.flowing=!0,C(t))}}(r);e.on("drain",c);var h=!1;var d=!1;function p(t){f("ondata"),d=!1,!1!==e.write(t)||d||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==T(a.pipes,e))&&!h&&(f("false write response, pause",a.awaitDrain),a.awaitDrain++,d=!0),r.pause())}function m(t){f("onerror",t),v(),e.removeListener("error",m),0===o(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",y),v()}function y(){f("onfinish"),e.removeListener("close",g),v()}function v(){f("unpipe"),r.unpipe(e)}return r.on("data",p),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?i(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(e,"error",m),e.once("close",g),e.once("finish",y),e.emit("pipe",r),a.flowing||(f("pipe resume"),r.resume()),e},y.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=T(e.pipes,t);return-1===a||(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},y.prototype.on=function(e,n){var r=a.prototype.on.call(this,e,n);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&_(this):t.nextTick(M,this))}return r},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!0,function(e,n){n.resumeScheduled||(n.resumeScheduled=!0,t.nextTick(S,e,n))}(this,e)),this},y.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(f("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(f("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<m.length;o++)t.on(m[o],this.emit.bind(this,m[o]));return this._read=function(e){f("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=k,le}function we(){if(he)return fe;he=1,fe=r;var t=se(),e=Object.create(Ut());function n(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function r(e){if(!(this instanceof r))return new r(e);t.call(this,e),this._transformState={afterTransform:n.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",i)}function i(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){o(t,e,n)})):o(this,null,null)}function o(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}return e.inherits=Zt(),e.inherits(r,t),r.prototype.push=function(e,n){return this._transformState.needTransform=!1,t.prototype.push.call(this,e,n)},r.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},r.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},r.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},r.prototype._destroy=function(e,n){var r=this;t.prototype._destroy.call(this,e,(function(t){n(t),r.emit("close")}))},fe}function be(){return me||(me=1,function(e,n){var r=t;"disable"===process.env.READABLE_STREAM&&r?(e.exports=r,(n=e.exports=r.Readable).Readable=r.Readable,n.Writable=r.Writable,n.Duplex=r.Duplex,n.Transform=r.Transform,n.PassThrough=r.PassThrough,n.Stream=r):((n=e.exports=ve()).Stream=r||n,n.Readable=n,n.Writable=ae(),n.Duplex=se(),n.Transform=we(),n.PassThrough=function(){if(pe)return de;pe=1,de=n;var t=we(),e=Object.create(Ut());function n(e){if(!(this instanceof n))return new n(e);t.call(this,e)}return e.inherits=Zt(),e.inherits(n,t),n.prototype._transform=function(t,e,n){n(null,t)},de}())}(Bt,Bt.exports)),Bt.exports}if(Tt.base64=!0,Tt.array=!0,Tt.string=!0,Tt.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,Tt.nodebuffer="undefined"!=typeof Buffer,Tt.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)Tt.blob=!1;else{var xe=new ArrayBuffer(0);try{Tt.blob=0===new Blob([xe],{type:"application/zip"}).size}catch(DT){try{var _e=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);_e.append(xe),Tt.blob=0===_e.getBlob("application/zip").size}catch(DT){Tt.blob=!1}}}try{Tt.nodestream=!!be().Readable}catch(DT){Tt.nodestream=!1}var De,Ee={};function Ae(){if(De)return Ee;De=1;var t=Oe(),e=Tt,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return Ee.encode=function(e){for(var r,i,o,a,s,u,l,c=[],f=0,h=e.length,d=h,p="string"!==t.getTypeOf(e);f<e.length;)d=h-f,p?(r=e[f++],i=f<h?e[f++]:0,o=f<h?e[f++]:0):(r=e.charCodeAt(f++),i=f<h?e.charCodeAt(f++):0,o=f<h?e.charCodeAt(f++):0),a=r>>2,s=(3&r)<<4|i>>4,u=d>1?(15&i)<<2|o>>6:64,l=d>2?63&o:64,c.push(n.charAt(a)+n.charAt(s)+n.charAt(u)+n.charAt(l));return c.join("")},Ee.decode=function(t){var r,i,o,a,s,u,l=0,c=0,f="data:";if(t.substr(0,5)===f)throw new Error("Invalid base64 input, it looks like a data url.");var h,d=3*(t=t.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(t.charAt(t.length-1)===n.charAt(64)&&d--,t.charAt(t.length-2)===n.charAt(64)&&d--,d%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=e.uint8array?new Uint8Array(0|d):new Array(0|d);l<t.length;)r=n.indexOf(t.charAt(l++))<<2|(a=n.indexOf(t.charAt(l++)))>>4,i=(15&a)<<4|(s=n.indexOf(t.charAt(l++)))>>2,o=(3&s)<<6|(u=n.indexOf(t.charAt(l++))),h[c++]=r,64!==s&&(h[c++]=i),64!==u&&(h[c++]=o);return h},Ee}var Me,Se,Ce,ke,Fe={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(t,e){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(t,e);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new Buffer(t,e)},allocBuffer:function(t){if(Buffer.alloc)return Buffer.alloc(t);var e=new Buffer(t);return e.fill(0),e},isBuffer:function(t){return Buffer.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}};var Ne=null;Ne="undefined"!=typeof Promise?Promise:function(){if(ke)return Ce;ke=1;var t=function(){if(Se)return Me;Se=1;var t,e,n=Dt.MutationObserver||Dt.WebKitMutationObserver;if(process.browser)if(n){var r=0,i=new n(u),o=Dt.document.createTextNode("");i.observe(o,{characterData:!0}),t=function(){o.data=r=++r%2}}else if(Dt.setImmediate||void 0===Dt.MessageChannel)t="document"in Dt&&"onreadystatechange"in Dt.document.createElement("script")?function(){var t=Dt.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},Dt.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var a=new Dt.MessageChannel;a.port1.onmessage=u,t=function(){a.port2.postMessage(0)}}else t=function(){process.nextTick(u)};var s=[];function u(){var t,n;e=!0;for(var r=s.length;r;){for(n=s,s=[],t=-1;++t<r;)n[t]();r=s.length}e=!1}return Me=function(n){1!==s.push(n)||e||t()}}();function e(){}var n={},r=["REJECTED"],i=["FULFILLED"],o=["PENDING"];if(!process.browser)var a=["UNHANDLED"];function s(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=o,this.queue=[],this.outcome=void 0,process.browser||(this.handled=a),t!==e&&f(this,t)}function u(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function l(e,r,i){t((function(){var t;try{t=r(i)}catch(t){return n.reject(e,t)}t===e?n.reject(e,new TypeError("Cannot resolve promise with itself")):n.resolve(e,t)}))}function c(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function f(t,e){var r=!1;function i(e){r||(r=!0,n.reject(t,e))}function o(e){r||(r=!0,n.resolve(t,e))}var a=h((function(){e(o,i)}));"error"===a.status&&i(a.value)}function h(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}return Ce=s,s.prototype.finally=function(t){if("function"!=typeof t)return this;var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){throw n}))}))},s.prototype.catch=function(t){return this.then(null,t)},s.prototype.then=function(t,n){if("function"!=typeof t&&this.state===i||"function"!=typeof n&&this.state===r)return this;var s=new this.constructor(e);return process.browser||this.handled===a&&(this.handled=null),this.state!==o?l(s,this.state===i?t:n,this.outcome):this.queue.push(new u(s,t,n)),s},u.prototype.callFulfilled=function(t){n.resolve(this.promise,t)},u.prototype.otherCallFulfilled=function(t){l(this.promise,this.onFulfilled,t)},u.prototype.callRejected=function(t){n.reject(this.promise,t)},u.prototype.otherCallRejected=function(t){l(this.promise,this.onRejected,t)},n.resolve=function(t,e){var r=h(c,e);if("error"===r.status)return n.reject(t,r.value);var o=r.value;if(o)f(t,o);else{t.state=i,t.outcome=e;for(var a=-1,s=t.queue.length;++a<s;)t.queue[a].callFulfilled(e)}return t},n.reject=function(e,n){e.state=r,e.outcome=n,process.browser||e.handled===a&&t((function(){e.handled===a&&process.emit("unhandledRejection",n,e)}));for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callRejected(n);return e},s.resolve=function(t){return t instanceof this?t:n.resolve(new this(e),t)},s.reject=function(t){var r=new this(e);return n.reject(r,t)},s.all=function(t){var r=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,o=!1;if(!i)return this.resolve([]);for(var a=new Array(i),s=0,u=-1,l=new this(e);++u<i;)c(t[u],u);return l;function c(t,e){r.resolve(t).then((function(t){a[e]=t,++s!==i||o||(o=!0,n.resolve(l,a))}),(function(t){o||(o=!0,n.reject(l,t))}))}},s.race=function(t){var r=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,o=!1;if(!i)return this.resolve([]);for(var a,s=-1,u=new this(e);++s<i;)a=t[s],r.resolve(a).then((function(t){o||(o=!0,n.resolve(u,t))}),(function(t){o||(o=!0,n.reject(u,t))}));return u},Ce}();var Te,Be={Promise:Ne};function Oe(){return Te||(Te=1,function(t){var e=Tt,n=Ae(),r=Fe,i=Be;function o(t){return t}function a(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}t.newBlob=function(e,n){t.checkSupport("blob");try{return new Blob([e],{type:n})}catch(t){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(n)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var s={stringifyByChunk:function(t,e,n){var r=[],i=0,o=t.length;if(o<=n)return String.fromCharCode.apply(null,t);for(;i<o;)"array"===e||"nodebuffer"===e?r.push(String.fromCharCode.apply(null,t.slice(i,Math.min(i+n,o)))):r.push(String.fromCharCode.apply(null,t.subarray(i,Math.min(i+n,o)))),i+=n;return r.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return e.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return e.nodebuffer&&1===String.fromCharCode.apply(null,r.allocBuffer(1)).length}catch(t){return!1}}()}};function u(e){var n=65536,r=t.getTypeOf(e),i=!0;if("uint8array"===r?i=s.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=s.applyCanBeUsed.nodebuffer),i)for(;n>1;)try{return s.stringifyByChunk(e,r,n)}catch(t){n=Math.floor(n/2)}return s.stringifyByChar(e)}function l(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}t.applyFromCharCode=u;var c={};c.string={string:o,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){return c.string.uint8array(t).buffer},uint8array:function(t){return a(t,new Uint8Array(t.length))},nodebuffer:function(t){return a(t,r.allocBuffer(t.length))}},c.array={string:u,array:o,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return r.newBufferFrom(t)}},c.arraybuffer={string:function(t){return u(new Uint8Array(t))},array:function(t){return l(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:o,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return r.newBufferFrom(new Uint8Array(t))}},c.uint8array={string:u,array:function(t){return l(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:o,nodebuffer:function(t){return r.newBufferFrom(t)}},c.nodebuffer={string:u,array:function(t){return l(t,new Array(t.length))},arraybuffer:function(t){return c.nodebuffer.uint8array(t).buffer},uint8array:function(t){return l(t,new Uint8Array(t.length))},nodebuffer:o},t.transformTo=function(e,n){if(n||(n=""),!e)return n;t.checkSupport(e);var r=t.getTypeOf(n);return c[r][e](n)},t.resolve=function(t){for(var e=t.split("/"),n=[],r=0;r<e.length;r++){var i=e[r];"."===i||""===i&&0!==r&&r!==e.length-1||(".."===i?n.pop():n.push(i))}return n.join("/")},t.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":e.nodebuffer&&r.isBuffer(t)?"nodebuffer":e.uint8array&&t instanceof Uint8Array?"uint8array":e.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(t){if(!e[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(t){var e,n,r="";for(n=0;n<(t||"").length;n++)r+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return r},t.delay=function(t,e,n){setImmediate((function(){t.apply(n||null,e||[])}))},t.inherits=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n},t.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n},t.prepareContent=function(r,o,s,u,l){var c=i.Promise.resolve(o).then((function(t){return e.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new i.Promise((function(e,n){var r=new FileReader;r.onload=function(t){e(t.target.result)},r.onerror=function(t){n(t.target.error)},r.readAsArrayBuffer(t)})):t}));return c.then((function(o){var c,f=t.getTypeOf(o);return f?("arraybuffer"===f?o=t.transformTo("uint8array",o):"string"===f&&(l?o=n.decode(o):s&&!0!==u&&(o=a(c=o,e.uint8array?new Uint8Array(c.length):new Array(c.length)))),o):i.Promise.reject(new Error("Can't read the data of '"+r+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}}(Nt)),Nt}function ze(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}!function(t,e){if(!t.setImmediate){var n,r,i,o,a,s=1,u={},l=!1,c=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?n=function(t){process.nextTick((function(){d(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){d(t.data)},n=function(t){i.port2.postMessage(t)}):c&&"onreadystatechange"in c.createElement("script")?(r=c.documentElement,n=function(t){var e=c.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):n=function(t){setTimeout(d,0,t)}:(o="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(o)&&d(+e.data.slice(o.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),n=function(e){t.postMessage(o+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var i={callback:t,args:e};return u[s]=i,n(s),s++},f.clearImmediate=h}function h(t){delete u[t]}function d(t){if(l)setTimeout(d,0,t);else{var n=u[t];if(n){l=!0;try{!function(t){var n=t.callback,r=t.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(e,r)}}(n)}finally{h(t),l=!1}}}}}("undefined"==typeof self?Dt:self),ze.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.end()})),t.on("error",(function(t){e.error(t)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var t=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}};var Ie=ze;!function(t){for(var e=Oe(),n=Tt,r=Fe,i=Ie,o=new Array(256),a=0;a<256;a++)o[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;o[254]=o[254]=1;function s(){i.call(this,"utf-8 decode"),this.leftOver=null}function u(){i.call(this,"utf-8 encode")}t.utf8encode=function(t){return n.nodebuffer?r.newBufferFrom(t,"utf-8"):function(t){var e,r,i,o,a,s=t.length,u=0;for(o=0;o<s;o++)55296==(64512&(r=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),u+=r<128?1:r<2048?2:r<65536?3:4;for(e=n.uint8array?new Uint8Array(u):new Array(u),a=0,o=0;a<u;o++)55296==(64512&(r=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|63&r):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|63&r):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|63&r);return e}(t)},t.utf8decode=function(t){return n.nodebuffer?e.transformTo("nodebuffer",t).toString("utf-8"):function(t){var n,r,i,a,s=t.length,u=new Array(2*s);for(r=0,n=0;n<s;)if((i=t[n++])<128)u[r++]=i;else if((a=o[i])>4)u[r++]=65533,n+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&n<s;)i=i<<6|63&t[n++],a--;a>1?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return u.length!==r&&(u.subarray?u=u.subarray(0,r):u.length=r),e.applyFromCharCode(u)}(t=e.transformTo(n.uint8array?"uint8array":"array",t))},e.inherits(s,i),s.prototype.processChunk=function(r){var i=e.transformTo(n.uint8array?"uint8array":"array",r.data);if(this.leftOver&&this.leftOver.length){if(n.uint8array){var a=i;(i=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),i.set(a,this.leftOver.length)}else i=this.leftOver.concat(i);this.leftOver=null}var s=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+o[t[n]]>e?n:e}(i),u=i;s!==i.length&&(n.uint8array?(u=i.subarray(0,s),this.leftOver=i.subarray(s,i.length)):(u=i.slice(0,s),this.leftOver=i.slice(s,i.length))),this.push({data:t.utf8decode(u),meta:r.meta})},s.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=s,e.inherits(u,i),u.prototype.processChunk=function(e){this.push({data:t.utf8encode(e.data),meta:e.meta})},t.Utf8EncodeWorker=u}(Ft);var Re=Ie,Pe=Oe();function $e(t){Re.call(this,"ConvertWorker to "+t),this.destType=t}Pe.inherits($e,Re),$e.prototype.processChunk=function(t){this.push({data:Pe.transformTo(this.destType,t.data),meta:t.meta})};var je,Le,Ue=$e;var qe=Oe(),Ve=Ue,We=Ie,He=Ae(),Ze=Be,Ye=null;if(Tt.nodestream)try{Ye=function(){if(Le)return je;Le=1;var t=be().Readable;function e(e,n,r){t.call(this,n),this._helper=e;var i=this;e.on("data",(function(t,e){i.push(t)||i._helper.pause(),r&&r(e)})).on("error",(function(t){i.emit("error",t)})).on("end",(function(){i.push(null)}))}return Oe().inherits(e,t),e.prototype._read=function(){this._helper.resume()},je=e}()}catch(DT){}function Xe(t,e){return new Ze.Promise((function(n,r){var i=[],o=t._internalType,a=t._outputType,s=t._mimeType;t.on("data",(function(t,n){i.push(t),e&&e(n)})).on("error",(function(t){i=[],r(t)})).on("end",(function(){try{var t=function(t,e,n){switch(t){case"blob":return qe.newBlob(qe.transformTo("arraybuffer",e),n);case"base64":return He.encode(e);default:return qe.transformTo(t,e)}}(a,function(t,e){var n,r=0,i=null,o=0;for(n=0;n<e.length;n++)o+=e[n].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(i=new Uint8Array(o),n=0;n<e.length;n++)i.set(e[n],r),r+=e[n].length;return i;case"nodebuffer":return Buffer.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}(o,i),s);n(t)}catch(t){r(t)}i=[]})).resume()}))}function Ke(t,e,n){var r=e;switch(e){case"blob":case"arraybuffer":r="uint8array";break;case"base64":r="string"}try{this._internalType=r,this._outputType=e,this._mimeType=n,qe.checkSupport(r),this._worker=t.pipe(new Ve(r)),t.lock()}catch(t){this._worker=new We("error"),this._worker.error(t)}}Ke.prototype={accumulate:function(t){return Xe(this,t)},on:function(t,e){var n=this;return"data"===t?this._worker.on(t,(function(t){e.call(n,t.data,t.meta)})):this._worker.on(t,(function(){qe.delay(e,arguments,n)})),this},resume:function(){return qe.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(qe.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new Ye(this,{objectMode:"nodebuffer"!==this._outputType},t)}};var Je=Ke,Ge={base64:!1,binary:!1,dir:!1,createFolders:!0,date:null,compression:null,compressionOptions:null,comment:null,unixPermissions:null,dosPermissions:null},Qe=Oe(),tn=Ie;function en(t){tn.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then((function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=Qe.getTypeOf(t),e.isPaused||e._tickAndRepeat()}),(function(t){e.error(t)}))}Qe.inherits(en,tn),en.prototype.cleanUp=function(){tn.prototype.cleanUp.call(this),this.data=null},en.prototype.resume=function(){return!!tn.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,Qe.delay(this._tickAndRepeat,[],this)),!0)},en.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(Qe.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},en.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})};var nn=en,rn=Oe();var on=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();var an=function(t,e){return void 0!==t&&t.length?"string"!==rn.getTypeOf(t)?function(t,e,n,r){var i=on,o=r+n;t^=-1;for(var a=r;a<o;a++)t=t>>>8^i[255&(t^e[a])];return-1^t}(0|e,t,t.length,0):function(t,e,n,r){var i=on,o=r+n;t^=-1;for(var a=r;a<o;a++)t=t>>>8^i[255&(t^e.charCodeAt(a))];return-1^t}(0|e,t,t.length,0):0},sn=Ie,un=an;function ln(){sn.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}Oe().inherits(ln,sn),ln.prototype.processChunk=function(t){this.streamInfo.crc32=un(t.data,this.streamInfo.crc32||0),this.push(t)};var cn=ln,fn=Oe(),hn=Ie;function dn(t){hn.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}fn.inherits(dn,hn),dn.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}hn.prototype.processChunk.call(this,t)};var pn=Be,mn=nn,gn=cn,yn=dn;function vn(t,e,n,r,i){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=r,this.compressedContent=i}vn.prototype={getContentWorker:function(){var t=new mn(pn.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new yn("data_length")),e=this;return t.on("end",(function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),t},getCompressedWorker:function(){return new mn(pn.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},vn.createWorkerFrom=function(t,e,n){return t.pipe(new gn).pipe(new yn("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new yn("compressedSize")).withStreamInfo("compression",e)};var wn=vn,bn=Je,xn=nn,_n=Ft,Dn=wn,En=Ie,An=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};An.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var r="string"===(n=t.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker();var i=!this._dataBinary;i&&!r&&(e=e.pipe(new _n.Utf8EncodeWorker)),!i&&r&&(e=e.pipe(new _n.Utf8DecodeWorker))}catch(t){(e=new En("error")).error(t)}return new bn(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof Dn&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new _n.Utf8EncodeWorker)),Dn.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof Dn?this._data.getContentWorker():this._data instanceof En?this._data:new xn(this._data)}};for(var Mn=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],Sn=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},Cn=0;Cn<Mn.length;Cn++)An.prototype[Mn[Cn]]=Sn;var kn=An,Fn={},Nn={},Tn={},Bn={};!function(t){var e="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var i in r)n(r,i)&&(t[i]=r[i])}}return t},t.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,a;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(a=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)o=t[e],a.set(o,i),i+=o.length;return a}},i={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,r)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,i))},t.setTyped(e)}(Bn);var On={},zn={},In={},Rn=Bn,Pn=0,$n=1;function jn(t){for(var e=t.length;--e>=0;)t[e]=0}var Ln=0,Un=29,qn=256,Vn=qn+1+Un,Wn=30,Hn=19,Zn=2*Vn+1,Yn=15,Xn=16,Kn=7,Jn=256,Gn=16,Qn=17,tr=18,er=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],nr=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],rr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ir=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],or=new Array(2*(Vn+2));jn(or);var ar=new Array(2*Wn);jn(ar);var sr=new Array(512);jn(sr);var ur=new Array(256);jn(ur);var lr=new Array(Un);jn(lr);var cr,fr,hr,dr=new Array(Wn);function pr(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function mr(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function gr(t){return t<256?sr[t]:sr[256+(t>>>7)]}function yr(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function vr(t,e,n){t.bi_valid>Xn-n?(t.bi_buf|=e<<t.bi_valid&65535,yr(t,t.bi_buf),t.bi_buf=e>>Xn-t.bi_valid,t.bi_valid+=n-Xn):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function wr(t,e,n){vr(t,n[2*e],n[2*e+1])}function br(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function xr(t,e,n){var r,i,o=new Array(Yn+1),a=0;for(r=1;r<=Yn;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=br(o[s]++,s))}}function _r(t){var e;for(e=0;e<Vn;e++)t.dyn_ltree[2*e]=0;for(e=0;e<Wn;e++)t.dyn_dtree[2*e]=0;for(e=0;e<Hn;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*Jn]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function Dr(t){t.bi_valid>8?yr(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function Er(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function Ar(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&Er(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!Er(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function Mr(t,e,n){var r,i,o,a,s=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],i=t.pending_buf[t.l_buf+s],s++,0===r?wr(t,i,e):(wr(t,(o=ur[i])+qn+1,e),0!==(a=er[o])&&vr(t,i-=lr[o],a),wr(t,o=gr(--r),n),0!==(a=nr[o])&&vr(t,r-=dr[o],a))}while(s<t.last_lit);wr(t,Jn,e)}function Sr(t,e){var n,r,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=Zn,n=0;n<u;n++)0!==o[2*n]?(t.heap[++t.heap_len]=l=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=l,n=t.heap_len>>1;n>=1;n--)Ar(t,o,n);i=u;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Ar(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*i]=o[2*n]+o[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=i,t.heap[1]=i++,Ar(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,o,a,s,u=e.dyn_tree,l=e.max_code,c=e.stat_desc.static_tree,f=e.stat_desc.has_stree,h=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(o=0;o<=Yn;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<Zn;n++)(o=u[2*u[2*(r=t.heap[n])+1]+1]+1)>p&&(o=p,m++),u[2*r+1]=o,r>l||(t.bl_count[o]++,a=0,r>=d&&(a=h[r-d]),s=u[2*r],t.opt_len+=s*(o+a),f&&(t.static_len+=s*(c[2*r+1]+a)));if(0!==m){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(r=t.bl_count[o];0!==r;)(i=t.heap[--n])>l||(u[2*i+1]!==o&&(t.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}(t,e),xr(o,l,t.bl_count)}function Cr(t,e,n){var r,i,o=-1,a=e[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=e[2*(r+1)+1],++s<u&&i===a||(s<l?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[2*Gn]++):s<=10?t.bl_tree[2*Qn]++:t.bl_tree[2*tr]++,s=0,o=i,0===a?(u=138,l=3):i===a?(u=6,l=3):(u=7,l=4))}function kr(t,e,n){var r,i,o=-1,a=e[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),r=0;r<=n;r++)if(i=a,a=e[2*(r+1)+1],!(++s<u&&i===a)){if(s<l)do{wr(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(wr(t,i,t.bl_tree),s--),wr(t,Gn,t.bl_tree),vr(t,s-3,2)):s<=10?(wr(t,Qn,t.bl_tree),vr(t,s-3,3)):(wr(t,tr,t.bl_tree),vr(t,s-11,7));s=0,o=i,0===a?(u=138,l=3):i===a?(u=6,l=3):(u=7,l=4)}}jn(dr);var Fr=!1;function Nr(t,e,n,r){vr(t,(Ln<<1)+(r?1:0),3),function(t,e,n,r){Dr(t),r&&(yr(t,n),yr(t,~n)),Rn.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}In._tr_init=function(t){Fr||(!function(){var t,e,n,r,i,o=new Array(Yn+1);for(n=0,r=0;r<Un-1;r++)for(lr[r]=n,t=0;t<1<<er[r];t++)ur[n++]=r;for(ur[n-1]=r,i=0,r=0;r<16;r++)for(dr[r]=i,t=0;t<1<<nr[r];t++)sr[i++]=r;for(i>>=7;r<Wn;r++)for(dr[r]=i<<7,t=0;t<1<<nr[r]-7;t++)sr[256+i++]=r;for(e=0;e<=Yn;e++)o[e]=0;for(t=0;t<=143;)or[2*t+1]=8,t++,o[8]++;for(;t<=255;)or[2*t+1]=9,t++,o[9]++;for(;t<=279;)or[2*t+1]=7,t++,o[7]++;for(;t<=287;)or[2*t+1]=8,t++,o[8]++;for(xr(or,Vn+1,o),t=0;t<Wn;t++)ar[2*t+1]=5,ar[2*t]=br(t,5);cr=new pr(or,er,qn+1,Vn,Yn),fr=new pr(ar,nr,0,Wn,Yn),hr=new pr(new Array(0),rr,0,Hn,Kn)}(),Fr=!0),t.l_desc=new mr(t.dyn_ltree,cr),t.d_desc=new mr(t.dyn_dtree,fr),t.bl_desc=new mr(t.bl_tree,hr),t.bi_buf=0,t.bi_valid=0,_r(t)},In._tr_stored_block=Nr,In._tr_flush_block=function(t,e,n,r){var i,o,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return Pn;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return $n;for(e=32;e<qn;e++)if(0!==t.dyn_ltree[2*e])return $n;return Pn}(t)),Sr(t,t.l_desc),Sr(t,t.d_desc),a=function(t){var e;for(Cr(t,t.dyn_ltree,t.l_desc.max_code),Cr(t,t.dyn_dtree,t.d_desc.max_code),Sr(t,t.bl_desc),e=Hn-1;e>=3&&0===t.bl_tree[2*ir[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==e?Nr(t,e,n,r):4===t.strategy||o===i?(vr(t,2+(r?1:0),3),Mr(t,or,ar)):(vr(t,4+(r?1:0),3),function(t,e,n,r){var i;for(vr(t,e-257,5),vr(t,n-1,5),vr(t,r-4,4),i=0;i<r;i++)vr(t,t.bl_tree[2*ir[i]+1],3);kr(t,t.dyn_ltree,e-1),kr(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),Mr(t,t.dyn_ltree,t.dyn_dtree)),_r(t),r&&Dr(t)},In._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(ur[n]+qn+1)]++,t.dyn_dtree[2*gr(e)]++),t.last_lit===t.lit_bufsize-1},In._tr_align=function(t){vr(t,2,3),wr(t,Jn,or),function(t){16===t.bi_valid?(yr(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)};var Tr=function(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+e[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0};var Br=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();var Or,zr=function(t,e,n,r){var i=Br,o=r+n;t^=-1;for(var a=r;a<o;a++)t=t>>>8^i[255&(t^e[a])];return-1^t},Ir={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Rr=Bn,Pr=In,$r=Tr,jr=zr,Lr=Ir,Ur=0,qr=4,Vr=0,Wr=-2,Hr=-1,Zr=4,Yr=2,Xr=8,Kr=9,Jr=286,Gr=30,Qr=19,ti=2*Jr+1,ei=15,ni=3,ri=258,ii=ri+ni+1,oi=42,ai=103,si=113,ui=666,li=1,ci=2,fi=3,hi=4;function di(t,e){return t.msg=Lr[e],e}function pi(t){return(t<<1)-(t>4?9:0)}function mi(t){for(var e=t.length;--e>=0;)t[e]=0}function gi(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(Rr.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function yi(t,e){Pr._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,gi(t.strm)}function vi(t,e){t.pending_buf[t.pending++]=e}function wi(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function bi(t,e,n,r){var i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,Rr.arraySet(e,t.input,t.next_in,i,n),1===t.state.wrap?t.adler=$r(t.adler,e,i,n):2===t.state.wrap&&(t.adler=jr(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)}function xi(t,e){var n,r,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-ii?t.strstart-(t.w_size-ii):0,l=t.window,c=t.w_mask,f=t.prev,h=t.strstart+ri,d=l[o+a-1],p=l[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(l[(n=e)+a]===p&&l[n+a-1]===d&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<h);if(r=ri-(h-o),o=h-ri,r>a){if(t.match_start=e,a=r,r>=s)break;d=l[o+a-1],p=l[o+a]}}}while((e=f[e&c])>u&&0!=--i);return a<=t.lookahead?a:t.lookahead}function _i(t){var e,n,r,i,o,a=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=a+(a-ii)){Rr.arraySet(t.window,t.window,a,a,0),t.match_start-=a,t.strstart-=a,t.block_start-=a,e=n=t.hash_size;do{r=t.head[--e],t.head[e]=r>=a?r-a:0}while(--n);e=n=a;do{r=t.prev[--e],t.prev[e]=r>=a?r-a:0}while(--n);i+=a}if(0===t.strm.avail_in)break;if(n=bi(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=n,t.lookahead+t.insert>=ni)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+ni-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<ni)););}while(t.lookahead<ii&&0!==t.strm.avail_in)}function Di(t,e){for(var n,r;;){if(t.lookahead<ii){if(_i(t),t.lookahead<ii&&e===Ur)return li;if(0===t.lookahead)break}if(n=0,t.lookahead>=ni&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ni-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-ii&&(t.match_length=xi(t,n)),t.match_length>=ni)if(r=Pr._tr_tally(t,t.strstart-t.match_start,t.match_length-ni),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ni){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ni-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=Pr._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(yi(t,!1),0===t.strm.avail_out))return li}return t.insert=t.strstart<ni-1?t.strstart:ni-1,e===qr?(yi(t,!0),0===t.strm.avail_out?fi:hi):t.last_lit&&(yi(t,!1),0===t.strm.avail_out)?li:ci}function Ei(t,e){for(var n,r,i;;){if(t.lookahead<ii){if(_i(t),t.lookahead<ii&&e===Ur)return li;if(0===t.lookahead)break}if(n=0,t.lookahead>=ni&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ni-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ni-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-ii&&(t.match_length=xi(t,n),t.match_length<=5&&(1===t.strategy||t.match_length===ni&&t.strstart-t.match_start>4096)&&(t.match_length=ni-1)),t.prev_length>=ni&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-ni,r=Pr._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-ni),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ni-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=ni-1,t.strstart++,r&&(yi(t,!1),0===t.strm.avail_out))return li}else if(t.match_available){if((r=Pr._tr_tally(t,0,t.window[t.strstart-1]))&&yi(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return li}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=Pr._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ni-1?t.strstart:ni-1,e===qr?(yi(t,!0),0===t.strm.avail_out?fi:hi):t.last_lit&&(yi(t,!1),0===t.strm.avail_out)?li:ci}function Ai(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function Mi(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Xr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Rr.Buf16(2*ti),this.dyn_dtree=new Rr.Buf16(2*(2*Gr+1)),this.bl_tree=new Rr.Buf16(2*(2*Qr+1)),mi(this.dyn_ltree),mi(this.dyn_dtree),mi(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Rr.Buf16(ei+1),this.heap=new Rr.Buf16(2*Jr+1),mi(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Rr.Buf16(2*Jr+1),mi(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Si(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=Yr,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?oi:si,t.adler=2===e.wrap?0:1,e.last_flush=Ur,Pr._tr_init(e),Vr):di(t,Wr)}function Ci(t){var e=Si(t);return e===Vr&&function(t){t.window_size=2*t.w_size,mi(t.head),t.max_lazy_match=Or[t.level].max_lazy,t.good_match=Or[t.level].good_length,t.nice_match=Or[t.level].nice_length,t.max_chain_length=Or[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ni-1,t.match_available=0,t.ins_h=0}(t.state),e}function ki(t,e,n,r,i,o){if(!t)return Wr;var a=1;if(e===Hr&&(e=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>Kr||n!==Xr||r<8||r>15||e<0||e>9||o<0||o>Zr)return di(t,Wr);8===r&&(r=9);var s=new Mi;return t.state=s,s.strm=t,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+ni-1)/ni),s.window=new Rr.Buf8(2*s.w_size),s.head=new Rr.Buf16(s.hash_size),s.prev=new Rr.Buf16(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Rr.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=e,s.strategy=o,s.method=n,Ci(t)}Or=[new Ai(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(_i(t),0===t.lookahead&&e===Ur)return li;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,yi(t,!1),0===t.strm.avail_out))return li;if(t.strstart-t.block_start>=t.w_size-ii&&(yi(t,!1),0===t.strm.avail_out))return li}return t.insert=0,e===qr?(yi(t,!0),0===t.strm.avail_out?fi:hi):(t.strstart>t.block_start&&(yi(t,!1),t.strm.avail_out),li)})),new Ai(4,4,8,4,Di),new Ai(4,5,16,8,Di),new Ai(4,6,32,32,Di),new Ai(4,4,16,16,Ei),new Ai(8,16,32,32,Ei),new Ai(8,16,128,128,Ei),new Ai(8,32,128,256,Ei),new Ai(32,128,258,1024,Ei),new Ai(32,258,258,4096,Ei)],zn.deflateInit=function(t,e){return ki(t,e,Xr,15,8,0)},zn.deflateInit2=ki,zn.deflateReset=Ci,zn.deflateResetKeep=Si,zn.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?Wr:(t.state.gzhead=e,Vr):Wr},zn.deflate=function(t,e){var n,r,i,o;if(!t||!t.state||e>5||e<0)return t?di(t,Wr):Wr;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||r.status===ui&&e!==qr)return di(t,0===t.avail_out?-5:Wr);if(r.strm=t,n=r.last_flush,r.last_flush=e,r.status===oi)if(2===r.wrap)t.adler=0,vi(r,31),vi(r,139),vi(r,8),r.gzhead?(vi(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),vi(r,255&r.gzhead.time),vi(r,r.gzhead.time>>8&255),vi(r,r.gzhead.time>>16&255),vi(r,r.gzhead.time>>24&255),vi(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),vi(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(vi(r,255&r.gzhead.extra.length),vi(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=jr(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(vi(r,0),vi(r,0),vi(r,0),vi(r,0),vi(r,0),vi(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),vi(r,3),r.status=si);else{var a=Xr+(r.w_bits-8<<4)<<8;a|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(a|=32),a+=31-a%31,r.status=si,wi(r,a),0!==r.strstart&&(wi(r,t.adler>>>16),wi(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>i&&(t.adler=jr(t.adler,r.pending_buf,r.pending-i,i)),gi(t),i=r.pending,r.pending!==r.pending_buf_size));)vi(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(t.adler=jr(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(t.adler=jr(t.adler,r.pending_buf,r.pending-i,i)),gi(t),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}o=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,vi(r,o)}while(0!==o);r.gzhead.hcrc&&r.pending>i&&(t.adler=jr(t.adler,r.pending_buf,r.pending-i,i)),0===o&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(t.adler=jr(t.adler,r.pending_buf,r.pending-i,i)),gi(t),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}o=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,vi(r,o)}while(0!==o);r.gzhead.hcrc&&r.pending>i&&(t.adler=jr(t.adler,r.pending_buf,r.pending-i,i)),0===o&&(r.status=ai)}else r.status=ai;if(r.status===ai&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&gi(t),r.pending+2<=r.pending_buf_size&&(vi(r,255&t.adler),vi(r,t.adler>>8&255),t.adler=0,r.status=si)):r.status=si),0!==r.pending){if(gi(t),0===t.avail_out)return r.last_flush=-1,Vr}else if(0===t.avail_in&&pi(e)<=pi(n)&&e!==qr)return di(t,-5);if(r.status===ui&&0!==t.avail_in)return di(t,-5);if(0!==t.avail_in||0!==r.lookahead||e!==Ur&&r.status!==ui){var s=2===r.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(_i(t),0===t.lookahead)){if(e===Ur)return li;break}if(t.match_length=0,n=Pr._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(yi(t,!1),0===t.strm.avail_out))return li}return t.insert=0,e===qr?(yi(t,!0),0===t.strm.avail_out?fi:hi):t.last_lit&&(yi(t,!1),0===t.strm.avail_out)?li:ci}(r,e):3===r.strategy?function(t,e){for(var n,r,i,o,a=t.window;;){if(t.lookahead<=ri){if(_i(t),t.lookahead<=ri&&e===Ur)return li;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=ni&&t.strstart>0&&(r=a[i=t.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){o=t.strstart+ri;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);t.match_length=ri-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ni?(n=Pr._tr_tally(t,1,t.match_length-ni),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=Pr._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(yi(t,!1),0===t.strm.avail_out))return li}return t.insert=0,e===qr?(yi(t,!0),0===t.strm.avail_out?fi:hi):t.last_lit&&(yi(t,!1),0===t.strm.avail_out)?li:ci}(r,e):Or[r.level].func(r,e);if(s!==fi&&s!==hi||(r.status=ui),s===li||s===fi)return 0===t.avail_out&&(r.last_flush=-1),Vr;if(s===ci&&(1===e?Pr._tr_align(r):5!==e&&(Pr._tr_stored_block(r,0,0,!1),3===e&&(mi(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),gi(t),0===t.avail_out))return r.last_flush=-1,Vr}return e!==qr?Vr:r.wrap<=0?1:(2===r.wrap?(vi(r,255&t.adler),vi(r,t.adler>>8&255),vi(r,t.adler>>16&255),vi(r,t.adler>>24&255),vi(r,255&t.total_in),vi(r,t.total_in>>8&255),vi(r,t.total_in>>16&255),vi(r,t.total_in>>24&255)):(wi(r,t.adler>>>16),wi(r,65535&t.adler)),gi(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?Vr:1)},zn.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==oi&&69!==e&&73!==e&&91!==e&&e!==ai&&e!==si&&e!==ui?di(t,Wr):(t.state=null,e===si?di(t,-3):Vr):Wr},zn.deflateSetDictionary=function(t,e){var n,r,i,o,a,s,u,l,c=e.length;if(!t||!t.state)return Wr;if(2===(o=(n=t.state).wrap)||1===o&&n.status!==oi||n.lookahead)return Wr;for(1===o&&(t.adler=$r(t.adler,e,c,0)),n.wrap=0,c>=n.w_size&&(0===o&&(mi(n.head),n.strstart=0,n.block_start=0,n.insert=0),l=new Rr.Buf8(n.w_size),Rr.arraySet(l,e,c-n.w_size,n.w_size,0),e=l,c=n.w_size),a=t.avail_in,s=t.next_in,u=t.input,t.avail_in=c,t.next_in=0,t.input=e,_i(n);n.lookahead>=ni;){r=n.strstart,i=n.lookahead-(ni-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+ni-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=ni-1,_i(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=ni-1,n.match_available=0,t.next_in=s,t.input=u,t.avail_in=a,n.wrap=o,Vr},zn.deflateInfo="pako deflate (from Nodeca project)";var Fi={},Ni=Bn,Ti=!0,Bi=!0;try{String.fromCharCode.apply(null,[0])}catch(t){Ti=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Bi=!1}for(var Oi=new Ni.Buf8(256),zi=0;zi<256;zi++)Oi[zi]=zi>=252?6:zi>=248?5:zi>=240?4:zi>=224?3:zi>=192?2:1;function Ii(t,e){if(e<65534&&(t.subarray&&Bi||!t.subarray&&Ti))return String.fromCharCode.apply(null,Ni.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}Oi[254]=Oi[254]=1,Fi.string2buf=function(t){var e,n,r,i,o,a=t.length,s=0;for(i=0;i<a;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<a&&56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Ni.Buf8(s),o=0,i=0;o<s;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<a&&56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},Fi.buf2binstring=function(t){return Ii(t,t.length)},Fi.binstring2buf=function(t){for(var e=new Ni.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},Fi.buf2string=function(t,e){var n,r,i,o,a=e||t.length,s=new Array(2*a);for(r=0,n=0;n<a;)if((i=t[n++])<128)s[r++]=i;else if((o=Oi[i])>4)s[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<a;)i=i<<6|63&t[n++],o--;o>1?s[r++]=65533:i<65536?s[r++]=i:(i-=65536,s[r++]=55296|i>>10&1023,s[r++]=56320|1023&i)}return Ii(s,r)},Fi.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+Oi[t[n]]>e?n:e};var Ri=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Pi=zn,$i=Bn,ji=Fi,Li=Ir,Ui=Ri,qi=Object.prototype.toString,Vi=0,Wi=-1,Hi=0,Zi=8;function Yi(t){if(!(this instanceof Yi))return new Yi(t);this.options=$i.assign({level:Wi,method:Zi,chunkSize:16384,windowBits:15,memLevel:8,strategy:Hi,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ui,this.strm.avail_out=0;var n=Pi.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==Vi)throw new Error(Li[n]);if(e.header&&Pi.deflateSetHeader(this.strm,e.header),e.dictionary){var r;if(r="string"==typeof e.dictionary?ji.string2buf(e.dictionary):"[object ArrayBuffer]"===qi.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=Pi.deflateSetDictionary(this.strm,r))!==Vi)throw new Error(Li[n]);this._dict_set=!0}}function Xi(t,e){var n=new Yi(e);if(n.push(t,!0),n.err)throw n.msg||Li[n.err];return n.result}Yi.prototype.push=function(t,e){var n,r,i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:!0===e?4:0,"string"==typeof t?i.input=ji.string2buf(t):"[object ArrayBuffer]"===qi.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new $i.Buf8(o),i.next_out=0,i.avail_out=o),1!==(n=Pi.deflate(i,r))&&n!==Vi)return this.onEnd(n),this.ended=!0,!1;0!==i.avail_out&&(0!==i.avail_in||4!==r&&2!==r)||("string"===this.options.to?this.onData(ji.buf2binstring($i.shrinkBuf(i.output,i.next_out))):this.onData($i.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&1!==n);return 4===r?(n=Pi.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Vi):2!==r||(this.onEnd(Vi),i.avail_out=0,!0)},Yi.prototype.onData=function(t){this.chunks.push(t)},Yi.prototype.onEnd=function(t){t===Vi&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=$i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},On.Deflate=Yi,On.deflate=Xi,On.deflateRaw=function(t,e){return(e=e||{}).raw=!0,Xi(t,e)},On.gzip=function(t,e){return(e=e||{}).gzip=!0,Xi(t,e)};var Ki={},Ji={},Gi=Bn,Qi=15,to=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],eo=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],no=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],ro=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],io=Bn,oo=Tr,ao=zr,so=function(t,e){var n,r,i,o,a,s,u,l,c,f,h,d,p,m,g,y,v,w,b,x,_,D,E,A,M;n=t.state,r=t.next_in,A=t.input,i=r+(t.avail_in-5),o=t.next_out,M=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),u=n.dmax,l=n.wsize,c=n.whave,f=n.wnext,h=n.window,d=n.hold,p=n.bits,m=n.lencode,g=n.distcode,y=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;t:do{p<15&&(d+=A[r++]<<p,p+=8,d+=A[r++]<<p,p+=8),w=m[d&y];e:for(;;){if(d>>>=b=w>>>24,p-=b,0===(b=w>>>16&255))M[o++]=65535&w;else{if(!(16&b)){if(0==(64&b)){w=m[(65535&w)+(d&(1<<b)-1)];continue e}if(32&b){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}x=65535&w,(b&=15)&&(p<b&&(d+=A[r++]<<p,p+=8),x+=d&(1<<b)-1,d>>>=b,p-=b),p<15&&(d+=A[r++]<<p,p+=8,d+=A[r++]<<p,p+=8),w=g[d&v];n:for(;;){if(d>>>=b=w>>>24,p-=b,!(16&(b=w>>>16&255))){if(0==(64&b)){w=g[(65535&w)+(d&(1<<b)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(_=65535&w,p<(b&=15)&&(d+=A[r++]<<p,(p+=8)<b&&(d+=A[r++]<<p,p+=8)),(_+=d&(1<<b)-1)>u){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=b,p-=b,_>(b=o-a)){if((b=_-b)>c&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(D=0,E=h,0===f){if(D+=l-b,b<x){x-=b;do{M[o++]=h[D++]}while(--b);D=o-_,E=M}}else if(f<b){if(D+=l+f-b,(b-=f)<x){x-=b;do{M[o++]=h[D++]}while(--b);if(D=0,f<x){x-=b=f;do{M[o++]=h[D++]}while(--b);D=o-_,E=M}}}else if(D+=f-b,b<x){x-=b;do{M[o++]=h[D++]}while(--b);D=o-_,E=M}for(;x>2;)M[o++]=E[D++],M[o++]=E[D++],M[o++]=E[D++],x-=3;x&&(M[o++]=E[D++],x>1&&(M[o++]=E[D++]))}else{D=o-_;do{M[o++]=M[D++],M[o++]=M[D++],M[o++]=M[D++],x-=3}while(x>2);x&&(M[o++]=M[D++],x>1&&(M[o++]=M[D++]))}break}}break}}while(r<i&&o<s);r-=x=p>>3,d&=(1<<(p-=x<<3))-1,t.next_in=r,t.next_out=o,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=o<s?s-o+257:257-(o-s),n.hold=d,n.bits=p},uo=function(t,e,n,r,i,o,a,s){var u,l,c,f,h,d,p,m,g,y=s.bits,v=0,w=0,b=0,x=0,_=0,D=0,E=0,A=0,M=0,S=0,C=null,k=0,F=new Gi.Buf16(16),N=new Gi.Buf16(16),T=null,B=0;for(v=0;v<=Qi;v++)F[v]=0;for(w=0;w<r;w++)F[e[n+w]]++;for(_=y,x=Qi;x>=1&&0===F[x];x--);if(_>x&&(_=x),0===x)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(b=1;b<x&&0===F[b];b++);for(_<b&&(_=b),A=1,v=1;v<=Qi;v++)if(A<<=1,(A-=F[v])<0)return-1;if(A>0&&(0===t||1!==x))return-1;for(N[1]=0,v=1;v<Qi;v++)N[v+1]=N[v]+F[v];for(w=0;w<r;w++)0!==e[n+w]&&(a[N[e[n+w]]++]=w);if(0===t?(C=T=a,d=19):1===t?(C=to,k-=257,T=eo,B-=257,d=256):(C=no,T=ro,d=-1),S=0,w=0,v=b,h=o,D=_,E=0,c=-1,f=(M=1<<_)-1,1===t&&M>852||2===t&&M>592)return 1;for(;;){p=v-E,a[w]<d?(m=0,g=a[w]):a[w]>d?(m=T[B+a[w]],g=C[k+a[w]]):(m=96,g=0),u=1<<v-E,b=l=1<<D;do{i[h+(S>>E)+(l-=u)]=p<<24|m<<16|g|0}while(0!==l);for(u=1<<v-1;S&u;)u>>=1;if(0!==u?(S&=u-1,S+=u):S=0,w++,0==--F[v]){if(v===x)break;v=e[n+a[w]]}if(v>_&&(S&f)!==c){for(0===E&&(E=_),h+=b,A=1<<(D=v-E);D+E<x&&!((A-=F[D+E])<=0);)D++,A<<=1;if(M+=1<<D,1===t&&M>852||2===t&&M>592)return 1;i[c=S&f]=_<<24|D<<16|h-o|0}}return 0!==S&&(i[h+S]=v-E<<24|64<<16|0),s.bits=_,0},lo=1,co=2,fo=0,ho=-2,po=1,mo=12,go=30,yo=852,vo=592;function wo(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function bo(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new io.Buf16(320),this.work=new io.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function xo(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=po,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new io.Buf32(yo),e.distcode=e.distdyn=new io.Buf32(vo),e.sane=1,e.back=-1,fo):ho}function _o(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,xo(t)):ho}function Do(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?ho:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,_o(t))):ho}function Eo(t,e){var n,r;return t?(r=new bo,t.state=r,r.window=null,(n=Do(t,e))!==fo&&(t.state=null),n):ho}var Ao,Mo,So=!0;function Co(t){if(So){var e;for(Ao=new io.Buf32(512),Mo=new io.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(uo(lo,t.lens,0,288,Ao,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;uo(co,t.lens,0,32,Mo,0,t.work,{bits:5}),So=!1}t.lencode=Ao,t.lenbits=9,t.distcode=Mo,t.distbits=5}function ko(t,e,n,r){var i,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new io.Buf8(o.wsize)),r>=o.wsize?(io.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>r&&(i=r),io.arraySet(o.window,e,n-r,i,o.wnext),(r-=i)?(io.arraySet(o.window,e,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}Ji.inflateReset=_o,Ji.inflateReset2=Do,Ji.inflateResetKeep=xo,Ji.inflateInit=function(t){return Eo(t,15)},Ji.inflateInit2=Eo,Ji.inflate=function(t,e){var n,r,i,o,a,s,u,l,c,f,h,d,p,m,g,y,v,w,b,x,_,D,E,A,M=0,S=new io.Buf8(4),C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return ho;(n=t.state).mode===mo&&(n.mode=13),a=t.next_out,i=t.output,u=t.avail_out,o=t.next_in,r=t.input,s=t.avail_in,l=n.hold,c=n.bits,f=s,h=u,D=fo;t:for(;;)switch(n.mode){case po:if(0===n.wrap){n.mode=13;break}for(;c<16;){if(0===s)break t;s--,l+=r[o++]<<c,c+=8}if(2&n.wrap&&35615===l){n.check=0,S[0]=255&l,S[1]=l>>>8&255,n.check=ao(n.check,S,2,0),l=0,c=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&l)<<8)+(l>>8))%31){t.msg="incorrect header check",n.mode=go;break}if(8!=(15&l)){t.msg="unknown compression method",n.mode=go;break}if(c-=4,_=8+(15&(l>>>=4)),0===n.wbits)n.wbits=_;else if(_>n.wbits){t.msg="invalid window size",n.mode=go;break}n.dmax=1<<_,t.adler=n.check=1,n.mode=512&l?10:mo,l=0,c=0;break;case 2:for(;c<16;){if(0===s)break t;s--,l+=r[o++]<<c,c+=8}if(n.flags=l,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=go;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=go;break}n.head&&(n.head.text=l>>8&1),512&n.flags&&(S[0]=255&l,S[1]=l>>>8&255,n.check=ao(n.check,S,2,0)),l=0,c=0,n.mode=3;case 3:for(;c<32;){if(0===s)break t;s--,l+=r[o++]<<c,c+=8}n.head&&(n.head.time=l),512&n.flags&&(S[0]=255&l,S[1]=l>>>8&255,S[2]=l>>>16&255,S[3]=l>>>24&255,n.check=ao(n.check,S,4,0)),l=0,c=0,n.mode=4;case 4:for(;c<16;){if(0===s)break t;s--,l+=r[o++]<<c,c+=8}n.head&&(n.head.xflags=255&l,n.head.os=l>>8),512&n.flags&&(S[0]=255&l,S[1]=l>>>8&255,n.check=ao(n.check,S,2,0)),l=0,c=0,n.mode=5;case 5:if(1024&n.flags){for(;c<16;){if(0===s)break t;s--,l+=r[o++]<<c,c+=8}n.length=l,n.head&&(n.head.extra_len=l),512&n.flags&&(S[0]=255&l,S[1]=l>>>8&255,n.check=ao(n.check,S,2,0)),l=0,c=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((d=n.length)>s&&(d=s),d&&(n.head&&(_=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),io.arraySet(n.head.extra,r,o,d,_)),512&n.flags&&(n.check=ao(n.check,r,d,o)),s-=d,o+=d,n.length-=d),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break t;d=0;do{_=r[o+d++],n.head&&_&&n.length<65536&&(n.head.name+=String.fromCharCode(_))}while(_&&d<s);if(512&n.flags&&(n.check=ao(n.check,r,d,o)),s-=d,o+=d,_)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break t;d=0;do{_=r[o+d++],n.head&&_&&n.length<65536&&(n.head.comment+=String.fromCharCode(_))}while(_&&d<s);if(512&n.flags&&(n.check=ao(n.check,r,d,o)),s-=d,o+=d,_)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;c<16;){if(0===s)break t;s--,l+=r[o++]<<c,c+=8}if(l!==(65535&n.check)){t.msg="header crc mismatch",n.mode=go;break}l=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=mo;break;case 10:for(;c<32;){if(0===s)break t;s--,l+=r[o++]<<c,c+=8}t.adler=n.check=wo(l),l=0,c=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=a,t.avail_out=u,t.next_in=o,t.avail_in=s,n.hold=l,n.bits=c,2;t.adler=n.check=1,n.mode=mo;case mo:if(5===e||6===e)break t;case 13:if(n.last){l>>>=7&c,c-=7&c,n.mode=27;break}for(;c<3;){if(0===s)break t;s--,l+=r[o++]<<c,c+=8}switch(n.last=1&l,c-=1,3&(l>>>=1)){case 0:n.mode=14;break;case 1:if(Co(n),n.mode=20,6===e){l>>>=2,c-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=go}l>>>=2,c-=2;break;case 14:for(l>>>=7&c,c-=7&c;c<32;){if(0===s)break t;s--,l+=r[o++]<<c,c+=8}if((65535&l)!=(l>>>16^65535)){t.msg="invalid stored block lengths",n.mode=go;break}if(n.length=65535&l,l=0,c=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(d=n.length){if(d>s&&(d=s),d>u&&(d=u),0===d)break t;io.arraySet(i,r,o,d,a),s-=d,o+=d,u-=d,a+=d,n.length-=d;break}n.mode=mo;break;case 17:for(;c<14;){if(0===s)break t;s--,l+=r[o++]<<c,c+=8}if(n.nlen=257+(31&l),l>>>=5,c-=5,n.ndist=1+(31&l),l>>>=5,c-=5,n.ncode=4+(15&l),l>>>=4,c-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=go;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;c<3;){if(0===s)break t;s--,l+=r[o++]<<c,c+=8}n.lens[C[n.have++]]=7&l,l>>>=3,c-=3}for(;n.have<19;)n.lens[C[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,E={bits:n.lenbits},D=uo(0,n.lens,0,19,n.lencode,0,n.work,E),n.lenbits=E.bits,D){t.msg="invalid code lengths set",n.mode=go;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;y=(M=n.lencode[l&(1<<n.lenbits)-1])>>>16&255,v=65535&M,!((g=M>>>24)<=c);){if(0===s)break t;s--,l+=r[o++]<<c,c+=8}if(v<16)l>>>=g,c-=g,n.lens[n.have++]=v;else{if(16===v){for(A=g+2;c<A;){if(0===s)break t;s--,l+=r[o++]<<c,c+=8}if(l>>>=g,c-=g,0===n.have){t.msg="invalid bit length repeat",n.mode=go;break}_=n.lens[n.have-1],d=3+(3&l),l>>>=2,c-=2}else if(17===v){for(A=g+3;c<A;){if(0===s)break t;s--,l+=r[o++]<<c,c+=8}c-=g,_=0,d=3+(7&(l>>>=g)),l>>>=3,c-=3}else{for(A=g+7;c<A;){if(0===s)break t;s--,l+=r[o++]<<c,c+=8}c-=g,_=0,d=11+(127&(l>>>=g)),l>>>=7,c-=7}if(n.have+d>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=go;break}for(;d--;)n.lens[n.have++]=_}}if(n.mode===go)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=go;break}if(n.lenbits=9,E={bits:n.lenbits},D=uo(lo,n.lens,0,n.nlen,n.lencode,0,n.work,E),n.lenbits=E.bits,D){t.msg="invalid literal/lengths set",n.mode=go;break}if(n.distbits=6,n.distcode=n.distdyn,E={bits:n.distbits},D=uo(co,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,E),n.distbits=E.bits,D){t.msg="invalid distances set",n.mode=go;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(s>=6&&u>=258){t.next_out=a,t.avail_out=u,t.next_in=o,t.avail_in=s,n.hold=l,n.bits=c,so(t,h),a=t.next_out,i=t.output,u=t.avail_out,o=t.next_in,r=t.input,s=t.avail_in,l=n.hold,c=n.bits,n.mode===mo&&(n.back=-1);break}for(n.back=0;y=(M=n.lencode[l&(1<<n.lenbits)-1])>>>16&255,v=65535&M,!((g=M>>>24)<=c);){if(0===s)break t;s--,l+=r[o++]<<c,c+=8}if(y&&0==(240&y)){for(w=g,b=y,x=v;y=(M=n.lencode[x+((l&(1<<w+b)-1)>>w)])>>>16&255,v=65535&M,!(w+(g=M>>>24)<=c);){if(0===s)break t;s--,l+=r[o++]<<c,c+=8}l>>>=w,c-=w,n.back+=w}if(l>>>=g,c-=g,n.back+=g,n.length=v,0===y){n.mode=26;break}if(32&y){n.back=-1,n.mode=mo;break}if(64&y){t.msg="invalid literal/length code",n.mode=go;break}n.extra=15&y,n.mode=22;case 22:if(n.extra){for(A=n.extra;c<A;){if(0===s)break t;s--,l+=r[o++]<<c,c+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;y=(M=n.distcode[l&(1<<n.distbits)-1])>>>16&255,v=65535&M,!((g=M>>>24)<=c);){if(0===s)break t;s--,l+=r[o++]<<c,c+=8}if(0==(240&y)){for(w=g,b=y,x=v;y=(M=n.distcode[x+((l&(1<<w+b)-1)>>w)])>>>16&255,v=65535&M,!(w+(g=M>>>24)<=c);){if(0===s)break t;s--,l+=r[o++]<<c,c+=8}l>>>=w,c-=w,n.back+=w}if(l>>>=g,c-=g,n.back+=g,64&y){t.msg="invalid distance code",n.mode=go;break}n.offset=v,n.extra=15&y,n.mode=24;case 24:if(n.extra){for(A=n.extra;c<A;){if(0===s)break t;s--,l+=r[o++]<<c,c+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=go;break}n.mode=25;case 25:if(0===u)break t;if(d=h-u,n.offset>d){if((d=n.offset-d)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=go;break}d>n.wnext?(d-=n.wnext,p=n.wsize-d):p=n.wnext-d,d>n.length&&(d=n.length),m=n.window}else m=i,p=a-n.offset,d=n.length;d>u&&(d=u),u-=d,n.length-=d;do{i[a++]=m[p++]}while(--d);0===n.length&&(n.mode=21);break;case 26:if(0===u)break t;i[a++]=n.length,u--,n.mode=21;break;case 27:if(n.wrap){for(;c<32;){if(0===s)break t;s--,l|=r[o++]<<c,c+=8}if(h-=u,t.total_out+=h,n.total+=h,h&&(t.adler=n.check=n.flags?ao(n.check,i,h,a-h):oo(n.check,i,h,a-h)),h=u,(n.flags?l:wo(l))!==n.check){t.msg="incorrect data check",n.mode=go;break}l=0,c=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;c<32;){if(0===s)break t;s--,l+=r[o++]<<c,c+=8}if(l!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=go;break}l=0,c=0}n.mode=29;case 29:D=1;break t;case go:D=-3;break t;case 31:return-4;default:return ho}return t.next_out=a,t.avail_out=u,t.next_in=o,t.avail_in=s,n.hold=l,n.bits=c,(n.wsize||h!==t.avail_out&&n.mode<go&&(n.mode<27||4!==e))&&ko(t,t.output,t.next_out,h-t.avail_out),f-=t.avail_in,h-=t.avail_out,t.total_in+=f,t.total_out+=h,n.total+=h,n.wrap&&h&&(t.adler=n.check=n.flags?ao(n.check,i,h,t.next_out-h):oo(n.check,i,h,t.next_out-h)),t.data_type=n.bits+(n.last?64:0)+(n.mode===mo?128:0)+(20===n.mode||15===n.mode?256:0),(0===f&&0===h||4===e)&&D===fo&&(D=-5),D},Ji.inflateEnd=function(t){if(!t||!t.state)return ho;var e=t.state;return e.window&&(e.window=null),t.state=null,fo},Ji.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?ho:(n.head=e,e.done=!1,fo):ho},Ji.inflateSetDictionary=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?ho:11===n.mode&&oo(1,e,r,0)!==n.check?-3:ko(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,fo):ho},Ji.inflateInfo="pako inflate (from Nodeca project)";var Fo={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};var No=Ji,To=Bn,Bo=Fi,Oo=Fo,zo=Ir,Io=Ri,Ro=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},Po=Object.prototype.toString;function $o(t){if(!(this instanceof $o))return new $o(t);this.options=To.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Io,this.strm.avail_out=0;var n=No.inflateInit2(this.strm,e.windowBits);if(n!==Oo.Z_OK)throw new Error(zo[n]);if(this.header=new Ro,No.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Bo.string2buf(e.dictionary):"[object ArrayBuffer]"===Po.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=No.inflateSetDictionary(this.strm,e.dictionary))!==Oo.Z_OK))throw new Error(zo[n])}function jo(t,e){var n=new $o(e);if(n.push(t,!0),n.err)throw n.msg||zo[n.err];return n.result}$o.prototype.push=function(t,e){var n,r,i,o,a,s=this.strm,u=this.options.chunkSize,l=this.options.dictionary,c=!1;if(this.ended)return!1;r=e===~~e?e:!0===e?Oo.Z_FINISH:Oo.Z_NO_FLUSH,"string"==typeof t?s.input=Bo.binstring2buf(t):"[object ArrayBuffer]"===Po.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new To.Buf8(u),s.next_out=0,s.avail_out=u),(n=No.inflate(s,Oo.Z_NO_FLUSH))===Oo.Z_NEED_DICT&&l&&(n=No.inflateSetDictionary(this.strm,l)),n===Oo.Z_BUF_ERROR&&!0===c&&(n=Oo.Z_OK,c=!1),n!==Oo.Z_STREAM_END&&n!==Oo.Z_OK)return this.onEnd(n),this.ended=!0,!1;s.next_out&&(0!==s.avail_out&&n!==Oo.Z_STREAM_END&&(0!==s.avail_in||r!==Oo.Z_FINISH&&r!==Oo.Z_SYNC_FLUSH)||("string"===this.options.to?(i=Bo.utf8border(s.output,s.next_out),o=s.next_out-i,a=Bo.buf2string(s.output,i),s.next_out=o,s.avail_out=u-o,o&&To.arraySet(s.output,s.output,i,o,0),this.onData(a)):this.onData(To.shrinkBuf(s.output,s.next_out)))),0===s.avail_in&&0===s.avail_out&&(c=!0)}while((s.avail_in>0||0===s.avail_out)&&n!==Oo.Z_STREAM_END);return n===Oo.Z_STREAM_END&&(r=Oo.Z_FINISH),r===Oo.Z_FINISH?(n=No.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Oo.Z_OK):r!==Oo.Z_SYNC_FLUSH||(this.onEnd(Oo.Z_OK),s.avail_out=0,!0)},$o.prototype.onData=function(t){this.chunks.push(t)},$o.prototype.onEnd=function(t){t===Oo.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=To.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},Ki.Inflate=$o,Ki.inflate=jo,Ki.inflateRaw=function(t,e){return(e=e||{}).raw=!0,jo(t,e)},Ki.ungzip=jo;var Lo={};(0,Bn.assign)(Lo,On,Ki,Fo);var Uo="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,qo=Lo,Vo=Oe(),Wo=Ie,Ho=Uo?"uint8array":"array";function Zo(t,e){Wo.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}Tn.magic="\b\0",Vo.inherits(Zo,Wo),Zo.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(Vo.transformTo(Ho,t.data),!1)},Zo.prototype.flush=function(){Wo.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},Zo.prototype.cleanUp=function(){Wo.prototype.cleanUp.call(this),this._pako=null},Zo.prototype._createPako=function(){this._pako=new qo[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},Tn.compressWorker=function(t){return new Zo("Deflate",t)},Tn.uncompressWorker=function(){return new Zo("Inflate",{})};var Yo=Ie;Nn.STORE={magic:"\0\0",compressWorker:function(){return new Yo("STORE compression")},uncompressWorker:function(){return new Yo("STORE decompression")}},Nn.DEFLATE=Tn;var Xo={LOCAL_FILE_HEADER:"PK",CENTRAL_FILE_HEADER:"PK",CENTRAL_DIRECTORY_END:"PK",ZIP64_CENTRAL_DIRECTORY_LOCATOR:"PK",ZIP64_CENTRAL_DIRECTORY_END:"PK",DATA_DESCRIPTOR:"PK\b"},Ko=Oe(),Jo=Ie,Go=Ft,Qo=an,ta=Xo,ea=function(t,e){var n,r="";for(n=0;n<e;n++)r+=String.fromCharCode(255&t),t>>>=8;return r},na=function(t,e,n,r,i,o){var a,s,u=t.file,l=t.compression,c=o!==Go.utf8encode,f=Ko.transformTo("string",o(u.name)),h=Ko.transformTo("string",Go.utf8encode(u.name)),d=u.comment,p=Ko.transformTo("string",o(d)),m=Ko.transformTo("string",Go.utf8encode(d)),g=h.length!==u.name.length,y=m.length!==d.length,v="",w="",b="",x=u.dir,_=u.date,D={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(D.crc32=t.crc32,D.compressedSize=t.compressedSize,D.uncompressedSize=t.uncompressedSize);var E=0;e&&(E|=8),c||!g&&!y||(E|=2048);var A,M,S,C=0,k=0;x&&(C|=16),"UNIX"===i?(k=798,C|=(A=u.unixPermissions,M=x,S=A,A||(S=M?16893:33204),(65535&S)<<16)):(k=20,C|=63&(u.dosPermissions||0)),a=_.getUTCHours(),a<<=6,a|=_.getUTCMinutes(),a<<=5,a|=_.getUTCSeconds()/2,s=_.getUTCFullYear()-1980,s<<=4,s|=_.getUTCMonth()+1,s<<=5,s|=_.getUTCDate(),g&&(w=ea(1,1)+ea(Qo(f),4)+h,v+="up"+ea(w.length,2)+w),y&&(b=ea(1,1)+ea(Qo(p),4)+m,v+="uc"+ea(b.length,2)+b);var F="";return F+="\n\0",F+=ea(E,2),F+=l.magic,F+=ea(a,2),F+=ea(s,2),F+=ea(D.crc32,4),F+=ea(D.compressedSize,4),F+=ea(D.uncompressedSize,4),F+=ea(f.length,2),F+=ea(v.length,2),{fileRecord:ta.LOCAL_FILE_HEADER+F+f+v,dirRecord:ta.CENTRAL_FILE_HEADER+ea(k,2)+F+ea(p.length,2)+"\0\0\0\0"+ea(C,4)+ea(r,4)+f+v+p}},ra=function(t){return ta.DATA_DESCRIPTOR+ea(t.crc32,4)+ea(t.compressedSize,4)+ea(t.uncompressedSize,4)};function ia(t,e,n,r){Jo.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}Ko.inherits(ia,Jo),ia.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,Jo.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-r-1))/n:100}}))},ia.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=na(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},ia.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=na(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:ra(t),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},ia.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t,r=function(t,e,n,r,i){var o=Ko.transformTo("string",i(r));return ta.CENTRAL_DIRECTORY_END+"\0\0\0\0"+ea(t,2)+ea(t,2)+ea(e,4)+ea(n,4)+ea(o.length,2)+o}(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:r,meta:{percent:100}})},ia.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},ia.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()})),t.on("error",(function(t){e.error(t)})),this},ia.prototype.resume=function(){return!!Jo.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},ia.prototype.error=function(t){var e=this._sources;if(!Jo.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},ia.prototype.lock=function(){Jo.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()};var oa=Nn,aa=ia;Fn.generateWorker=function(t,e,n){var r=new aa(e.streamFiles,n,e.platform,e.encodeFileName),i=0;try{t.forEach((function(t,n){i++;var o=function(t,e){var n=t||e,r=oa[n];if(!r)throw new Error(n+" is not a valid compression method !");return r}(n.options.compression,e.compression),a=n.options.compressionOptions||e.compressionOptions||{},s=n.dir,u=n.date;n._compressWorker(o,a).withStreamInfo("file",{name:t,dir:s,date:u,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(r)})),r.entriesCount=i}catch(t){r.error(t)}return r};var sa=Oe(),ua=Ie;function la(t,e){ua.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}sa.inherits(la,ua),la.prototype._bindStream=function(t){var e=this;this._stream=t,t.pause(),t.on("data",(function(t){e.push({data:t,meta:{percent:0}})})).on("error",(function(t){e.isPaused?this.generatedError=t:e.error(t)})).on("end",(function(){e.isPaused?e._upstreamEnded=!0:e.end()}))},la.prototype.pause=function(){return!!ua.prototype.pause.call(this)&&(this._stream.pause(),!0)},la.prototype.resume=function(){return!!ua.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)};var ca=la,fa=Ft,ha=Oe(),da=Ie,pa=Je,ma=Ge,ga=wn,ya=kn,va=Fn,wa=Fe,ba=ca,xa=function(t,e,n){var r,i=ha.getTypeOf(e),o=ha.extend(n||{},ma);o.date=o.date||new Date,null!==o.compression&&(o.compression=o.compression.toUpperCase()),"string"==typeof o.unixPermissions&&(o.unixPermissions=parseInt(o.unixPermissions,8)),o.unixPermissions&&16384&o.unixPermissions&&(o.dir=!0),o.dosPermissions&&16&o.dosPermissions&&(o.dir=!0),o.dir&&(t=Da(t)),o.createFolders&&(r=_a(t))&&Ea.call(this,r,!0);var a="string"===i&&!1===o.binary&&!1===o.base64;n&&void 0!==n.binary||(o.binary=!a),(e instanceof ga&&0===e.uncompressedSize||o.dir||!e||0===e.length)&&(o.base64=!1,o.binary=!0,e="",o.compression="STORE",i="string");var s=null;s=e instanceof ga||e instanceof da?e:wa.isNode&&wa.isStream(e)?new ba(t,e):ha.prepareContent(t,e,o.binary,o.optimizedBinaryString,o.base64);var u=new ya(t,s,o);this.files[t]=u},_a=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},Da=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},Ea=function(t,e){return e=void 0!==e?e:ma.createFolders,t=Da(t),this.files[t]||xa.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function Aa(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var Ma={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,r;for(e in this.files)r=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,r)},filter:function(t){var e=[];return this.forEach((function(n,r){t(n,r)&&e.push(r)})),e},file:function(t,e,n){if(1===arguments.length){if(Aa(t)){var r=t;return this.filter((function(t,e){return!e.dir&&r.test(t)}))}var i=this.files[this.root+t];return i&&!i.dir?i:null}return t=this.root+t,xa.call(this,t,e,n),this},folder:function(t){if(!t)return this;if(Aa(t))return this.filter((function(e,n){return n.dir&&t.test(e)}));var e=this.root+t,n=Ea.call(this,e),r=this.clone();return r.root=n.name,r},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter((function(e,n){return n.name.slice(0,t.length)===t})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,n={};try{if((n=ha.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:fa.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");ha.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";e=va.generateWorker(this,n,r)}catch(t){(e=new da("error")).error(t)}return new pa(e,n.type||"string",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}},Sa=Ma,Ca=Oe();function ka(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}ka.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return Ca.transformTo("string",this.readData(t))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}};var Fa=ka,Na=Fa;function Ta(t){Na.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}Oe().inherits(Ta,Na),Ta.prototype.byteAt=function(t){return this.data[this.zero+t]},Ta.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),i=t.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===e&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o-this.zero;return-1},Ta.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),i=t.charCodeAt(3),o=this.readData(4);return e===o[0]&&n===o[1]&&r===o[2]&&i===o[3]},Ta.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e};var Ba=Ta,Oa=Fa;function za(t){Oa.call(this,t)}Oe().inherits(za,Oa),za.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},za.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},za.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},za.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e};var Ia=za,Ra=Ba;function Pa(t){Ra.call(this,t)}Oe().inherits(Pa,Ra),Pa.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e};var $a=Pa,ja=$a;function La(t){ja.call(this,t)}Oe().inherits(La,ja),La.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e};var Ua=La,qa=Oe(),Va=Tt,Wa=Ba,Ha=Ia,Za=Ua,Ya=$a,Xa=function(t){var e=qa.getTypeOf(t);return qa.checkSupport(e),"string"!==e||Va.uint8array?"nodebuffer"===e?new Za(t):Va.uint8array?new Ya(qa.transformTo("uint8array",t)):new Wa(qa.transformTo("array",t)):new Ha(t)},Ka=Xa,Ja=Oe(),Ga=wn,Qa=an,ts=Ft,es=Nn,ns=Tt;function rs(t,e){this.options=t,this.loadOptions=e}rs.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in es)if(Object.prototype.hasOwnProperty.call(es,e)&&es[e].magic===t)return es[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+Ja.pretty(this.compressionMethod)+" unknown (inner file : "+Ja.transformTo("string",this.fileName)+")");this.decompressed=new Ga(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var t=Ka(this.extraFields[1].value);this.uncompressedSize===Ja.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===Ja.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===Ja.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===Ja.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(t){var e,n,r,i=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<i;)e=t.readInt(2),n=t.readInt(2),r=t.readData(n),this.extraFields[e]={id:e,length:n,value:r};t.setIndex(i)},handleUTF8:function(){var t=ns.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=ts.utf8decode(this.fileName),this.fileCommentStr=ts.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=Ja.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var i=Ja.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=Ka(t.value);return 1!==e.readInt(1)||Qa(this.fileName)!==e.readInt(4)?null:ts.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=Ka(t.value);return 1!==e.readInt(1)||Qa(this.fileComment)!==e.readInt(4)?null:ts.utf8decode(e.readData(t.length-5))}return null}};var is=rs,os=Xa,as=Oe(),ss=Xo,us=is,ls=Tt;function cs(t){this.files=[],this.loadOptions=t}cs.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+as.pretty(e)+", expected "+as.pretty(t)+")")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var r=this.reader.readString(4)===e;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=ls.uint8array?"uint8array":"array",n=as.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,r=this.zip64EndOfCentralSize-44;0<r;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(ss.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(ss.CENTRAL_FILE_HEADER);)(t=new us({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(ss.CENTRAL_DIRECTORY_END);if(t<0)throw!this.isSignature(0,ss.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(t);var e=t;if(this.checkSignature(ss.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===as.MAX_VALUE_16BITS||this.diskWithCentralDirStart===as.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===as.MAX_VALUE_16BITS||this.centralDirRecords===as.MAX_VALUE_16BITS||this.centralDirSize===as.MAX_VALUE_32BITS||this.centralDirOffset===as.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(ss.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(ss.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,ss.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(ss.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(ss.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=e-n;if(r>0)this.isSignature(e,ss.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(t){this.reader=os(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}};var fs=cs,hs=Oe(),ds=Be,ps=Ft,ms=fs,gs=cn,ys=Fe;function vs(t){return new ds.Promise((function(e,n){var r=t.decompressed.getContentWorker().pipe(new gs);r.on("error",(function(t){n(t)})).on("end",(function(){r.streamInfo.crc32!==t.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):e()})).resume()}))}function ws(){if(!(this instanceof ws))return new ws;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var t=new ws;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}ws.prototype=Sa,ws.prototype.loadAsync=function(t,e){var n=this;return e=hs.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:ps.utf8decode}),ys.isNode&&ys.isStream(t)?ds.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):hs.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then((function(t){var n=new ms(e);return n.load(t),n})).then((function(t){var n=[ds.Promise.resolve(t)],r=t.files;if(e.checkCRC32)for(var i=0;i<r.length;i++)n.push(vs(r[i]));return ds.Promise.all(n)})).then((function(t){for(var r=t.shift(),i=r.files,o=0;o<i.length;o++){var a=i[o],s=a.fileNameStr,u=hs.resolve(a.fileNameStr);n.file(u,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:e.createFolders}),a.dir||(n.file(u).unsafeOriginalName=s)}return r.zipComment.length&&(n.comment=r.zipComment),n}))},ws.support=Tt,ws.defaults=Ge,ws.version="3.10.1",ws.loadAsync=function(t,e){return(new ws).loadAsync(t,e)},ws.external=Be;var bs=Et(ws);function xs(t,e){const n=function(t,e){let n,r=0,i=0,o=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(n=e-i,i+=n/++r,o+=n*(e-i));else{let a=-1;for(let s of t)null!=(s=e(s,++a,t))&&(s=+s)>=s&&(n=s-i,i+=n/++r,o+=n*(s-i))}if(r>1)return o/(r-1)}(t,e);return n?Math.sqrt(n):n}function _s(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}function Ds(t,e){let n=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++n,r+=e);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}var Es=function(t){return function(e,n=0,r=e.length){let i=r-(n=+n);for(;i;){const r=t()*i--|0,o=e[i+n];e[i+n]=e[r+n],e[r+n]=o}return e}}(Math.random),As=function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(Math.random);function Ms(t,e){return t.map(((t,n)=>t+e[n]))}function Ss(t,e){return t.map(((t,n)=>t-e[n]))}function Cs(t,e){let n=0;for(let r=0;r<t.length;r++)n+=(t[r]-e[r])**2;return Math.sqrt(n)}class ks{shape;k;initialLr;lr;sigma;maxIter;distanceFunction;locations;dim=-1;weights;constructor(t,e={}){this.shape=t,this.k=this.shape[0]*this.shape[1];const n={lr:1,sigma:1,maxIter:3e3,...e};this.initialLr=n.lr,this.lr=n.lr,this.sigma=n.sigma,this.maxIter=n.maxIter,null!=e.distanceFunction?this.distanceFunction=e.distanceFunction:this.distanceFunction=Cs,this.locations=function(t,e){const n=[];for(let r=0;r<t;r++)for(let t=0;t<e;t++)n.push([r,t]);return n}(this.shape[0],this.shape[1])}fit(t,e=1,n=!0){const r=t.length;this.dim=t[0].length;for(const e of t)if(e.length!=this.dim)throw new Error("Vectors must be of equal length");this.#t(t);let i=0;const o=Math.min(e*r,this.maxIter);for(let a=0;a<e&&!(i>this.maxIter);a++){let e=Array.from({length:r},((t,e)=>e));n&&Es(e);for(const n of e){if(i>this.maxIter)break;const e=t[n];this.#e(e),i++,this.lr=(1-i/o)*this.initialLr}}}getResult(){return{locations:this.locations,weights:this.weights}}#e(t){const e=this.#n(t),n=this.locations[e],r=this.locations.map((t=>function(t,e){let n=0;for(let e of t)(e=+e)&&(n+=e);return n}(Ss(t,n).map((t=>t**2))))),i=r.map((t=>Math.exp(t/this.sigma**2/-1))).map((t=>t*this.lr)),o=this.weights.map(((e,n)=>Ss(t,e).map((t=>t*i[n]))));for(let t=0;t<this.weights.length;t++)this.weights[t]=Ms(this.weights[t],o[t])}#n(t){return function(t,e){let n,r=-1,i=-1;for(const e of t)++i,null!=e&&(n>e||void 0===n&&e>=e)&&(n=e,r=i);return r}(this.weights.map((e=>this.distanceFunction(e,t))))}#t(t){const e=[];for(let n=0;n<this.dim;n++){const r=Ds(t,(t=>t[n])),i=xs(t,(t=>t[n]));e.push(As(r,i))}this.weights=[];for(let t=0;t<this.k;t++)this.weights.push(Array.from({length:this.dim},((t,n)=>e[n]())))}predict(t){return t.map((t=>this.#n(t)))}}function Fs(t,e){let n=0;for(let r=0;r<t.length;r++)n+=(t[r]-e[r])*(t[r]-e[r]);return n}const Ns={distanceFunction:Fs};function Ts(t,e,n=Ns){const r=n.distanceFunction||Ns.distanceFunction,i=n.similarityFunction||Ns.similarityFunction;let o=-1;if("function"==typeof i){let n=Number.MIN_VALUE;for(let r=0;r<t.length;r++){const a=i(e,t[r]);a>n&&(n=a,o=r)}}else{if("function"!=typeof r)throw new Error("A similarity or distance function it's required");{let n=Number.MAX_VALUE;for(let i=0;i<t.length;i++){const a=r(e,t[i]);a<n&&(n=a,o=i)}}}return o}function Bs(t,e,n,r){for(let i=0;i<t.length;i++)n[i]=Ts(e,t[i],{distanceFunction:r});return n}let Os=class{constructor(t,e,n,r,i){this.clusters=t,this.centroids=e,this.converged=n,this.iterations=r,this.distance=i}nearest(t){const e=new Array(t.length);return Bs(t,this.centroids,e,this.distance)}computeInformation(t){let e=this.centroids.map((t=>({centroid:t,error:0,size:0})));for(let n=0;n<t.length;n++)e[this.clusters[n]].error+=this.distance(t[n],this.centroids[this.clusters[n]]),e[this.clusters[n]].size++;for(let t=0;t<this.centroids.length;t++){let n=e[t].error;e[t].size&&-1!==n?n/=e[t].size:e[t].error=-1}return e}};const zs=Object.prototype.toString;function Is(t){const e=zs.call(t);return e.endsWith("Array]")&&!e.includes("Big")}function Rs(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Is(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==n.output){if(!Is(n.output))throw new TypeError("output option must be an array if specified");e=n.output}else e=new Array(t.length);var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Is(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var n=e.fromIndex,r=void 0===n?0:n,i=e.toIndex,o=void 0===i?t.length:i;if(r<0||r>=t.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>t.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[r],s=r+1;s<o;s++)t[s]<a&&(a=t[s]);return a}(t),i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Is(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var n=e.fromIndex,r=void 0===n?0:n,i=e.toIndex,o=void 0===i?t.length:i;if(r<0||r>=t.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=r||o>t.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[r],s=r+1;s<o;s++)t[s]>a&&(a=t[s]);return a}(t);if(r===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var o=n.min,a=void 0===o?n.autoMinMax?r:0:o,s=n.max,u=void 0===s?n.autoMinMax?i:1:s;if(a>=u)throw new RangeError("min option must be smaller than max option");for(var l=(u-a)/(i-r),c=0;c<t.length;c++)e[c]=(t[c]-r)*l+a;return e}const Ps=" ".repeat(2),$s=" ".repeat(4);function js(t,e={}){const{maxRows:n=15,maxColumns:r=10,maxNumSize:i=8,padMinus:o="auto"}=e;return`${t.constructor.name} {\n${Ps}[\n${$s}${function(t,e,n,r,i){const{rows:o,columns:a}=t,s=Math.min(o,e),u=Math.min(a,n),l=[];if("auto"===i){i=!1;t:for(let e=0;e<s;e++)for(let n=0;n<u;n++)if(t.get(e,n)<0){i=!0;break t}}for(let e=0;e<s;e++){let n=[];for(let o=0;o<u;o++)n.push(Ls(t.get(e,o),r,i));l.push(`${n.join(" ")}`)}return u!==a&&(l[l.length-1]+=` ... ${a-n} more columns`),s!==o&&l.push(`... ${o-e} more rows`),l.join(`\n${$s}`)}(t,n,r,i,o)}\n${Ps}]\n${Ps}rows: ${t.rows}\n${Ps}columns: ${t.columns}\n}`}function Ls(t,e,n){return(t>=0&&n?` ${Us(t,e-1)}`:Us(t,e)).padEnd(e)}function Us(t,e){let n=t.toString();if(n.length<=e)return n;let r=t.toFixed(e);if(r.length>e&&(r=t.toFixed(Math.max(0,e-(r.length-e)))),r.length<=e&&!r.startsWith("0.000")&&!r.startsWith("-0.000"))return r;let i=t.toExponential(e);return i.length>e&&(i=t.toExponential(Math.max(0,e-(i.length-e)))),i.slice(0)}function qs(t,e,n){let r=n?t.rows:t.rows-1;if(e<0||e>r)throw new RangeError("Row index out of range")}function Vs(t,e,n){let r=n?t.columns:t.columns-1;if(e<0||e>r)throw new RangeError("Column index out of range")}function Ws(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function Hs(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function Zs(t,e,n,r,i){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(Xs("startRow",e),Xs("endRow",n),Xs("startColumn",r),Xs("endColumn",i),e>n||r>i||e<0||e>=t.rows||n<0||n>=t.rows||r<0||r>=t.columns||i<0||i>=t.columns)throw new RangeError("Submatrix indices are out of range")}function Ys(t,e=0){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function Xs(t,e){if("number"!=typeof e)throw new TypeError(`${t} must be a number`)}function Ks(t){if(t.isEmpty())throw new Error("Empty matrix has no elements to index")}class Js{static from1DArray(t,e,n){if(t*e!==n.length)throw new RangeError("data length does not match given dimensions");let r=new Qs(t,e);for(let i=0;i<t;i++)for(let t=0;t<e;t++)r.set(i,t,n[i*e+t]);return r}static rowVector(t){let e=new Qs(1,t.length);for(let n=0;n<t.length;n++)e.set(0,n,t[n]);return e}static columnVector(t){let e=new Qs(t.length,1);for(let n=0;n<t.length;n++)e.set(n,0,t[n]);return e}static zeros(t,e){return new Qs(t,e)}static ones(t,e){return new Qs(t,e).fill(1)}static rand(t,e,n={}){if("object"!=typeof n)throw new TypeError("options must be an object");const{random:r=Math.random}=n;let i=new Qs(t,e);for(let n=0;n<t;n++)for(let t=0;t<e;t++)i.set(n,t,r());return i}static randInt(t,e,n={}){if("object"!=typeof n)throw new TypeError("options must be an object");const{min:r=0,max:i=1e3,random:o=Math.random}=n;if(!Number.isInteger(r))throw new TypeError("min must be an integer");if(!Number.isInteger(i))throw new TypeError("max must be an integer");if(r>=i)throw new RangeError("min must be smaller than max");let a=i-r,s=new Qs(t,e);for(let n=0;n<t;n++)for(let t=0;t<e;t++){let e=r+Math.round(o()*a);s.set(n,t,e)}return s}static eye(t,e,n){void 0===e&&(e=t),void 0===n&&(n=1);let r=Math.min(t,e),i=this.zeros(t,e);for(let t=0;t<r;t++)i.set(t,t,n);return i}static diag(t,e,n){let r=t.length;void 0===e&&(e=r),void 0===n&&(n=e);let i=Math.min(r,e,n),o=this.zeros(e,n);for(let e=0;e<i;e++)o.set(e,e,t[e]);return o}static min(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let n=t.rows,r=t.columns,i=new Qs(n,r);for(let o=0;o<n;o++)for(let n=0;n<r;n++)i.set(o,n,Math.min(t.get(o,n),e.get(o,n)));return i}static max(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let n=t.rows,r=t.columns,i=new this(n,r);for(let o=0;o<n;o++)for(let n=0;n<r;n++)i.set(o,n,Math.max(t.get(o,n),e.get(o,n)));return i}static checkMatrix(t){return Js.isMatrix(t)?t:new Qs(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(t){if("function"!=typeof t)throw new TypeError("callback must be a function");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.call(this,e,n);return this}to1DArray(){let t=[];for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.push(this.get(e,n));return t}to2DArray(){let t=[];for(let e=0;e<this.rows;e++){t.push([]);for(let n=0;n<this.columns;n++)t[e].push(this.get(e,n))}return t}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isEmpty(){return 0===this.rows||0===this.columns}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}isEchelonForm(){let t=0,e=0,n=-1,r=!0,i=!1;for(;t<this.rows&&r;){for(e=0,i=!1;e<this.columns&&!1===i;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>n?(i=!0,n=e):(r=!1,i=!0);t++}return r}isReducedEchelonForm(){let t=0,e=0,n=-1,r=!0,i=!1;for(;t<this.rows&&r;){for(e=0,i=!1;e<this.columns&&!1===i;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>n?(i=!0,n=e):(r=!1,i=!0);for(let n=e+1;n<this.rows;n++)0!==this.get(t,n)&&(r=!1);t++}return r}echelonForm(){let t=this.clone(),e=0,n=0;for(;e<t.rows&&n<t.columns;){let r=e;for(let i=e;i<t.rows;i++)t.get(i,n)>t.get(r,n)&&(r=i);if(0===t.get(r,n))n++;else{t.swapRows(e,r);let i=t.get(e,n);for(let r=n;r<t.columns;r++)t.set(e,r,t.get(e,r)/i);for(let r=e+1;r<t.rows;r++){let i=t.get(r,n)/t.get(e,n);t.set(r,n,0);for(let o=n+1;o<t.columns;o++)t.set(r,o,t.get(r,o)-t.get(e,o)*i)}e++,n++}}return t}reducedEchelonForm(){let t=this.echelonForm(),e=t.columns,n=t.rows,r=n-1;for(;r>=0;)if(0===t.maxRow(r))r--;else{let i=0,o=!1;for(;i<n&&!1===o;)1===t.get(r,i)?o=!0:i++;for(let n=0;n<r;n++){let o=t.get(n,i);for(let a=i;a<e;a++){let e=t.get(n,a)-o*t.get(r,a);t.set(n,a,e)}}r--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{rows:e=1,columns:n=1}=t;if(!Number.isInteger(e)||e<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(n)||n<=0)throw new TypeError("columns must be a positive integer");let r=new Qs(this.rows*e,this.columns*n);for(let t=0;t<e;t++)for(let e=0;e<n;e++)r.setSubMatrix(this,this.rows*t,this.columns*e);return r}fill(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,t);return this}neg(){return this.mulS(-1)}getRow(t){qs(this,t);let e=[];for(let n=0;n<this.columns;n++)e.push(this.get(t,n));return e}getRowVector(t){return Qs.rowVector(this.getRow(t))}setRow(t,e){qs(this,t),e=Ws(this,e);for(let n=0;n<this.columns;n++)this.set(t,n,e[n]);return this}swapRows(t,e){qs(this,t),qs(this,e);for(let n=0;n<this.columns;n++){let r=this.get(t,n);this.set(t,n,this.get(e,n)),this.set(e,n,r)}return this}getColumn(t){Vs(this,t);let e=[];for(let n=0;n<this.rows;n++)e.push(this.get(n,t));return e}getColumnVector(t){return Qs.columnVector(this.getColumn(t))}setColumn(t,e){Vs(this,t),e=Hs(this,e);for(let n=0;n<this.rows;n++)this.set(n,t,e[n]);return this}swapColumns(t,e){Vs(this,t),Vs(this,e);for(let n=0;n<this.rows;n++){let r=this.get(n,t);this.set(n,t,this.get(n,e)),this.set(n,e,r)}return this}addRowVector(t){t=Ws(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[n]);return this}subRowVector(t){t=Ws(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[n]);return this}mulRowVector(t){t=Ws(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[n]);return this}divRowVector(t){t=Ws(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[n]);return this}addColumnVector(t){t=Hs(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[e]);return this}subColumnVector(t){t=Hs(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[e]);return this}mulColumnVector(t){t=Hs(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[e]);return this}divColumnVector(t){t=Hs(this,t);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[e]);return this}mulRow(t,e){qs(this,t);for(let n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this}mulColumn(t,e){Vs(this,t);for(let n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*e);return this}max(t){if(this.isEmpty())return NaN;switch(t){case"row":{const t=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)>t[e]&&(t[e]=this.get(e,n));return t}case"column":{const t=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)>t[n]&&(t[n]=this.get(e,n));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}default:throw new Error(`invalid option: ${t}`)}}maxIndex(){Ks(this);let t=this.get(0,0),e=[0,0];for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.get(n,r)>t&&(t=this.get(n,r),e[0]=n,e[1]=r);return e}min(t){if(this.isEmpty())return NaN;switch(t){case"row":{const t=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)<t[e]&&(t[e]=this.get(e,n));return t}case"column":{const t=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)<t[n]&&(t[n]=this.get(e,n));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}default:throw new Error(`invalid option: ${t}`)}}minIndex(){Ks(this);let t=this.get(0,0),e=[0,0];for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)this.get(n,r)<t&&(t=this.get(n,r),e[0]=n,e[1]=r);return e}maxRow(t){if(qs(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}maxRowIndex(t){qs(this,t),Ks(this);let e=this.get(t,0),n=[t,0];for(let r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r),n[1]=r);return n}minRow(t){if(qs(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}minRowIndex(t){qs(this,t),Ks(this);let e=this.get(t,0),n=[t,0];for(let r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r),n[1]=r);return n}maxColumn(t){if(Vs(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t));return e}maxColumnIndex(t){Vs(this,t),Ks(this);let e=this.get(0,t),n=[0,t];for(let r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t),n[0]=r);return n}minColumn(t){if(Vs(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t));return e}minColumnIndex(t){Vs(this,t),Ks(this);let e=this.get(0,t),n=[0,t];for(let r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t),n[0]=r);return n}diag(){let t=Math.min(this.rows,this.columns),e=[];for(let n=0;n<t;n++)e.push(this.get(n,n));return e}norm(t="frobenius"){let e=0;if("max"===t)return this.max();if("frobenius"===t){for(let t=0;t<this.rows;t++)for(let n=0;n<this.columns;n++)e+=this.get(t,n)*this.get(t,n);return Math.sqrt(e)}throw new RangeError(`unknown norm type: ${t}`)}cumulativeSum(){let t=0;for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t+=this.get(e,n),this.set(e,n,t);return this}dot(t){Js.isMatrix(t)&&(t=t.to1DArray());let e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");let n=0;for(let r=0;r<e.length;r++)n+=e[r]*t[r];return n}mmul(t){t=Qs.checkMatrix(t);let e=this.rows,n=this.columns,r=t.columns,i=new Qs(e,r),o=new Float64Array(n);for(let a=0;a<r;a++){for(let e=0;e<n;e++)o[e]=t.get(e,a);for(let t=0;t<e;t++){let e=0;for(let r=0;r<n;r++)e+=this.get(t,r)*o[r];i.set(t,a,e)}}return i}strassen2x2(t){t=Qs.checkMatrix(t);let e=new Qs(2,2);const n=this.get(0,0),r=t.get(0,0),i=this.get(0,1),o=t.get(0,1),a=this.get(1,0),s=t.get(1,0),u=this.get(1,1),l=t.get(1,1),c=(n+u)*(r+l),f=(a+u)*r,h=n*(o-l),d=u*(s-r),p=(n+i)*l,m=c+d-p+(i-u)*(s+l),g=h+p,y=f+d,v=c-f+h+(a-n)*(r+o);return e.set(0,0,m),e.set(0,1,g),e.set(1,0,y),e.set(1,1,v),e}strassen3x3(t){t=Qs.checkMatrix(t);let e=new Qs(3,3);const n=this.get(0,0),r=this.get(0,1),i=this.get(0,2),o=this.get(1,0),a=this.get(1,1),s=this.get(1,2),u=this.get(2,0),l=this.get(2,1),c=this.get(2,2),f=t.get(0,0),h=t.get(0,1),d=t.get(0,2),p=t.get(1,0),m=t.get(1,1),g=t.get(1,2),y=t.get(2,0),v=t.get(2,1),w=t.get(2,2),b=(n-o)*(-h+m),x=(-n+o+a)*(f-h+m),_=(o+a)*(-f+h),D=n*f,E=(-n+u+l)*(f-d+g),A=(-n+u)*(d-g),M=(u+l)*(-f+d),S=(-i+l+c)*(m+y-v),C=(i-c)*(m-v),k=i*y,F=(l+c)*(-y+v),N=(-i+a+s)*(g+y-w),T=(i-s)*(g-w),B=(a+s)*(-y+w),O=D+k+r*p,z=(n+r+i-o-a-l-c)*m+x+_+D+S+k+F,I=D+E+M+(n+r+i-a-s-u-l)*g+k+N+B,R=b+a*(-f+h+p-m-g-y+w)+x+D+k+N+T,P=b+x+_+D+s*v,$=k+N+T+B+o*d,j=D+E+A+l*(-f+d+p-m-g-y+v)+S+C+k,L=S+C+k+F+u*h,U=D+E+A+M+c*w;return e.set(0,0,O),e.set(0,1,z),e.set(0,2,I),e.set(1,0,R),e.set(1,1,P),e.set(1,2,$),e.set(2,0,j),e.set(2,1,L),e.set(2,2,U),e}mmulStrassen(t){t=Qs.checkMatrix(t);let e=this.clone(),n=e.rows,r=e.columns,i=t.rows,o=t.columns;function a(t,e,n){let r=t.rows,i=t.columns;if(r===e&&i===n)return t;{let r=Js.zeros(e,n);return r=r.setSubMatrix(t,0,0),r}}r!==i&&console.warn(`Multiplying ${n} x ${r} and ${i} x ${o} matrix: dimensions do not match.`);let s=Math.max(n,i),u=Math.max(r,o);return e=a(e,s,u),function t(e,n,r,i){if(r<=512||i<=512)return e.mmul(n);r%2==1&&i%2==1?(e=a(e,r+1,i+1),n=a(n,r+1,i+1)):r%2==1?(e=a(e,r+1,i),n=a(n,r+1,i)):i%2==1&&(e=a(e,r,i+1),n=a(n,r,i+1));let o=parseInt(e.rows/2,10),s=parseInt(e.columns/2,10),u=e.subMatrix(0,o-1,0,s-1),l=n.subMatrix(0,o-1,0,s-1),c=e.subMatrix(0,o-1,s,e.columns-1),f=n.subMatrix(0,o-1,s,n.columns-1),h=e.subMatrix(o,e.rows-1,0,s-1),d=n.subMatrix(o,n.rows-1,0,s-1),p=e.subMatrix(o,e.rows-1,s,e.columns-1),m=n.subMatrix(o,n.rows-1,s,n.columns-1),g=t(Js.add(u,p),Js.add(l,m),o,s),y=t(Js.add(h,p),l,o,s),v=t(u,Js.sub(f,m),o,s),w=t(p,Js.sub(d,l),o,s),b=t(Js.add(u,c),m,o,s),x=t(Js.sub(h,u),Js.add(l,f),o,s),_=t(Js.sub(c,p),Js.add(d,m),o,s),D=Js.add(g,w);D.sub(b),D.add(_);let E=Js.add(v,b),A=Js.add(y,w),M=Js.sub(g,y);M.add(v),M.add(x);let S=Js.zeros(2*D.rows,2*D.columns);return S=S.setSubMatrix(D,0,0),S=S.setSubMatrix(E,D.rows,0),S=S.setSubMatrix(A,0,D.columns),S=S.setSubMatrix(M,D.rows,D.columns),S.subMatrix(0,r-1,0,i-1)}(e,t=a(t,s,u),s,u)}scaleRows(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{min:e=0,max:n=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(e>=n)throw new RangeError("min must be smaller than max");let r=new Qs(this.rows,this.columns);for(let t=0;t<this.rows;t++){const i=this.getRow(t);i.length>0&&Rs(i,{min:e,max:n,output:i}),r.setRow(t,i)}return r}scaleColumns(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{min:e=0,max:n=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(n))throw new TypeError("max must be a number");if(e>=n)throw new RangeError("min must be smaller than max");let r=new Qs(this.rows,this.columns);for(let t=0;t<this.columns;t++){const i=this.getColumn(t);i.length&&Rs(i,{min:e,max:n,output:i}),r.setColumn(t,i)}return r}flipRows(){const t=Math.ceil(this.columns/2);for(let e=0;e<this.rows;e++)for(let n=0;n<t;n++){let t=this.get(e,n),r=this.get(e,this.columns-1-n);this.set(e,n,r),this.set(e,this.columns-1-n,t)}return this}flipColumns(){const t=Math.ceil(this.rows/2);for(let e=0;e<this.columns;e++)for(let n=0;n<t;n++){let t=this.get(n,e),r=this.get(this.rows-1-n,e);this.set(n,e,r),this.set(this.rows-1-n,e,t)}return this}kroneckerProduct(t){t=Qs.checkMatrix(t);let e=this.rows,n=this.columns,r=t.rows,i=t.columns,o=new Qs(e*r,n*i);for(let a=0;a<e;a++)for(let e=0;e<n;e++)for(let n=0;n<r;n++)for(let s=0;s<i;s++)o.set(r*a+n,i*e+s,this.get(a,e)*t.get(n,s));return o}kroneckerSum(t){if(t=Qs.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let e=this.rows,n=t.rows,r=this.kroneckerProduct(Qs.eye(n,n)),i=Qs.eye(e,e).kroneckerProduct(t);return r.add(i)}transpose(){let t=new Qs(this.columns,this.rows);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.set(n,e,this.get(e,n));return t}sortRows(t=Gs){for(let e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}sortColumns(t=Gs){for(let e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}subMatrix(t,e,n,r){Zs(this,t,e,n,r);let i=new Qs(e-t+1,r-n+1);for(let o=t;o<=e;o++)for(let e=n;e<=r;e++)i.set(o-t,e-n,this.get(o,e));return i}subMatrixRow(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=this.columns-1),e>n||e<0||e>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");let r=new Qs(t.length,n-e+1);for(let i=0;i<t.length;i++)for(let o=e;o<=n;o++){if(t[i]<0||t[i]>=this.rows)throw new RangeError(`Row index out of range: ${t[i]}`);r.set(i,o-e,this.get(t[i],o))}return r}subMatrixColumn(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=this.rows-1),e>n||e<0||e>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");let r=new Qs(n-e+1,t.length);for(let i=0;i<t.length;i++)for(let o=e;o<=n;o++){if(t[i]<0||t[i]>=this.columns)throw new RangeError(`Column index out of range: ${t[i]}`);r.set(o-e,i,this.get(o,t[i]))}return r}setSubMatrix(t,e,n){if((t=Qs.checkMatrix(t)).isEmpty())return this;Zs(this,e,e+t.rows-1,n,n+t.columns-1);for(let r=0;r<t.rows;r++)for(let i=0;i<t.columns;i++)this.set(e+r,n+i,t.get(r,i));return this}selection(t,e){!function(t,e){if(!Is(e))throw new TypeError("row indices must be an array");for(let n=0;n<e.length;n++)if(e[n]<0||e[n]>=t.rows)throw new RangeError("row indices are out of range")}(this,t),function(t,e){if(!Is(e))throw new TypeError("column indices must be an array");for(let n=0;n<e.length;n++)if(e[n]<0||e[n]>=t.columns)throw new RangeError("column indices are out of range")}(this,e);let n=new Qs(t.length,e.length);for(let r=0;r<t.length;r++){let i=t[r];for(let t=0;t<e.length;t++){let o=e[t];n.set(r,t,this.get(i,o))}}return n}trace(){let t=Math.min(this.rows,this.columns),e=0;for(let n=0;n<t;n++)e+=this.get(n,n);return e}clone(){let t=new Qs(this.rows,this.columns);for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)t.set(e,n,this.get(e,n));return t}sum(t){switch(t){case"row":return function(t){let e=Ys(t.rows);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[n]+=t.get(n,r);return e}(this);case"column":return function(t){let e=Ys(t.columns);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[r]+=t.get(n,r);return e}(this);case void 0:return function(t){let e=0;for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)e+=t.get(n,r);return e}(this);default:throw new Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return function(t){let e=Ys(t.rows,1);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[n]*=t.get(n,r);return e}(this);case"column":return function(t){let e=Ys(t.columns,1);for(let n=0;n<t.rows;++n)for(let r=0;r<t.columns;++r)e[r]*=t.get(n,r);return e}(this);case void 0:return function(t){let e=1;for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)e*=t.get(n,r);return e}(this);default:throw new Error(`invalid option: ${t}`)}}mean(t){const e=this.sum(t);switch(t){case"row":for(let t=0;t<this.rows;t++)e[t]/=this.columns;return e;case"column":for(let t=0;t<this.columns;t++)e[t]/=this.rows;return e;case void 0:return e/this.size;default:throw new Error(`invalid option: ${t}`)}}variance(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");const{unbiased:n=!0,mean:r=this.mean(t)}=e;if("boolean"!=typeof n)throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!Is(r))throw new TypeError("mean must be an array");return function(t,e,n){const r=t.rows,i=t.columns,o=[];for(let a=0;a<r;a++){let r=0,s=0,u=0;for(let e=0;e<i;e++)u=t.get(a,e)-n[a],r+=u,s+=u*u;e?o.push((s-r*r/i)/(i-1)):o.push((s-r*r/i)/i)}return o}(this,n,r);case"column":if(!Is(r))throw new TypeError("mean must be an array");return function(t,e,n){const r=t.rows,i=t.columns,o=[];for(let a=0;a<i;a++){let i=0,s=0,u=0;for(let e=0;e<r;e++)u=t.get(e,a)-n[a],i+=u,s+=u*u;e?o.push((s-i*i/r)/(r-1)):o.push((s-i*i/r)/r)}return o}(this,n,r);case void 0:if("number"!=typeof r)throw new TypeError("mean must be a number");return function(t,e,n){const r=t.rows,i=t.columns,o=r*i;let a=0,s=0,u=0;for(let e=0;e<r;e++)for(let r=0;r<i;r++)u=t.get(e,r)-n,a+=u,s+=u*u;return e?(s-a*a/o)/(o-1):(s-a*a/o)/o}(this,n,r);default:throw new Error(`invalid option: ${t}`)}}standardDeviation(t,e){"object"==typeof t&&(e=t,t=void 0);const n=this.variance(t,e);if(void 0===t)return Math.sqrt(n);for(let t=0;t<n.length;t++)n[t]=Math.sqrt(n[t]);return n}center(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");const{center:n=this.mean(t)}=e;switch(t){case"row":if(!Is(n))throw new TypeError("center must be an array");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e[n])}(this,n),this;case"column":if(!Is(n))throw new TypeError("center must be an array");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e[r])}(this,n),this;case void 0:if("number"!=typeof n)throw new TypeError("center must be a number");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e)}(this,n),this;default:throw new Error(`invalid option: ${t}`)}}scale(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");let n=e.scale;switch(t){case"row":if(void 0===n)n=function(t){const e=[];for(let n=0;n<t.rows;n++){let r=0;for(let e=0;e<t.columns;e++)r+=Math.pow(t.get(n,e),2)/(t.columns-1);e.push(Math.sqrt(r))}return e}(this);else if(!Is(n))throw new TypeError("scale must be an array");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e[n])}(this,n),this;case"column":if(void 0===n)n=function(t){const e=[];for(let n=0;n<t.columns;n++){let r=0;for(let e=0;e<t.rows;e++)r+=Math.pow(t.get(e,n),2)/(t.rows-1);e.push(Math.sqrt(r))}return e}(this);else if(!Is(n))throw new TypeError("scale must be an array");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e[r])}(this,n),this;case void 0:if(void 0===n)n=function(t){const e=t.size-1;let n=0;for(let r=0;r<t.columns;r++)for(let i=0;i<t.rows;i++)n+=Math.pow(t.get(i,r),2)/e;return Math.sqrt(n)}(this);else if("number"!=typeof n)throw new TypeError("scale must be a number");return function(t,e){for(let n=0;n<t.rows;n++)for(let r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e)}(this,n),this;default:throw new Error(`invalid option: ${t}`)}}toString(t){return js(this,t)}}function Gs(t,e){return t-e}Js.prototype.klass="Matrix","undefined"!=typeof Symbol&&(Js.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return js(this)}),Js.random=Js.rand,Js.randomInt=Js.randInt,Js.diagonal=Js.diag,Js.prototype.diagonal=Js.prototype.diag,Js.identity=Js.eye,Js.prototype.negate=Js.prototype.neg,Js.prototype.tensorProduct=Js.prototype.kroneckerProduct;let Qs=class t extends Js{constructor(e,n){if(super(),t.isMatrix(e))return e.clone();if(Number.isInteger(e)&&e>=0){if(this.data=[],!(Number.isInteger(n)&&n>=0))throw new TypeError("nColumns must be a positive integer");for(let t=0;t<e;t++)this.data.push(new Float64Array(n))}else{if(!Is(e))throw new TypeError("First argument must be a positive number or an array");{const t=e;if("number"!=typeof(n=(e=t.length)?t[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let r=0;r<e;r++){if(t[r].length!==n)throw new RangeError("Inconsistent array dimensions");if(!t[r].every((t=>"number"==typeof t)))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(t[r]))}}}this.rows=e,this.columns=n}set(t,e,n){return this.data[t][e]=n,this}get(t,e){return this.data[t][e]}removeRow(t){return qs(this,t),this.data.splice(t,1),this.rows-=1,this}addRow(t,e){return void 0===e&&(e=t,t=this.rows),qs(this,t,!0),e=Float64Array.from(Ws(this,e)),this.data.splice(t,0,e),this.rows+=1,this}removeColumn(t){Vs(this,t);for(let e=0;e<this.rows;e++){const n=new Float64Array(this.columns-1);for(let r=0;r<t;r++)n[r]=this.data[e][r];for(let r=t+1;r<this.columns;r++)n[r-1]=this.data[e][r];this.data[e]=n}return this.columns-=1,this}addColumn(t,e){void 0===e&&(e=t,t=this.columns),Vs(this,t,!0),e=Hs(this,e);for(let n=0;n<this.rows;n++){const r=new Float64Array(this.columns+1);let i=0;for(;i<t;i++)r[i]=this.data[n][i];for(r[i++]=e[n];i<this.columns+1;i++)r[i]=this.data[n][i-1];this.data[n]=r}return this.columns+=1,this}};!function(t,e){t.prototype.add=function(t){return"number"==typeof t?this.addS(t):this.addM(t)},t.prototype.addS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t);return this},t.prototype.addM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t.get(e,n));return this},t.add=function(t,n){return new e(t).add(n)},t.prototype.sub=function(t){return"number"==typeof t?this.subS(t):this.subM(t)},t.prototype.subS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t);return this},t.prototype.subM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t.get(e,n));return this},t.sub=function(t,n){return new e(t).sub(n)},t.prototype.subtract=t.prototype.sub,t.prototype.subtractS=t.prototype.subS,t.prototype.subtractM=t.prototype.subM,t.subtract=t.sub,t.prototype.mul=function(t){return"number"==typeof t?this.mulS(t):this.mulM(t)},t.prototype.mulS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this},t.prototype.mulM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t.get(e,n));return this},t.mul=function(t,n){return new e(t).mul(n)},t.prototype.multiply=t.prototype.mul,t.prototype.multiplyS=t.prototype.mulS,t.prototype.multiplyM=t.prototype.mulM,t.multiply=t.mul,t.prototype.div=function(t){return"number"==typeof t?this.divS(t):this.divM(t)},t.prototype.divS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t);return this},t.prototype.divM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t.get(e,n));return this},t.div=function(t,n){return new e(t).div(n)},t.prototype.divide=t.prototype.div,t.prototype.divideS=t.prototype.divS,t.prototype.divideM=t.prototype.divM,t.divide=t.div,t.prototype.mod=function(t){return"number"==typeof t?this.modS(t):this.modM(t)},t.prototype.modS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)%t);return this},t.prototype.modM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)%t.get(e,n));return this},t.mod=function(t,n){return new e(t).mod(n)},t.prototype.modulus=t.prototype.mod,t.prototype.modulusS=t.prototype.modS,t.prototype.modulusM=t.prototype.modM,t.modulus=t.mod,t.prototype.and=function(t){return"number"==typeof t?this.andS(t):this.andM(t)},t.prototype.andS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)&t);return this},t.prototype.andM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)&t.get(e,n));return this},t.and=function(t,n){return new e(t).and(n)},t.prototype.or=function(t){return"number"==typeof t?this.orS(t):this.orM(t)},t.prototype.orS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)|t);return this},t.prototype.orM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)|t.get(e,n));return this},t.or=function(t,n){return new e(t).or(n)},t.prototype.xor=function(t){return"number"==typeof t?this.xorS(t):this.xorM(t)},t.prototype.xorS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)^t);return this},t.prototype.xorM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)^t.get(e,n));return this},t.xor=function(t,n){return new e(t).xor(n)},t.prototype.leftShift=function(t){return"number"==typeof t?this.leftShiftS(t):this.leftShiftM(t)},t.prototype.leftShiftS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)<<t);return this},t.prototype.leftShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)<<t.get(e,n));return this},t.leftShift=function(t,n){return new e(t).leftShift(n)},t.prototype.signPropagatingRightShift=function(t){return"number"==typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},t.prototype.signPropagatingRightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>t);return this},t.prototype.signPropagatingRightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>t.get(e,n));return this},t.signPropagatingRightShift=function(t,n){return new e(t).signPropagatingRightShift(n)},t.prototype.rightShift=function(t){return"number"==typeof t?this.rightShiftS(t):this.rightShiftM(t)},t.prototype.rightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>>t);return this},t.prototype.rightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>>t.get(e,n));return this},t.rightShift=function(t,n){return new e(t).rightShift(n)},t.prototype.zeroFillRightShift=t.prototype.rightShift,t.prototype.zeroFillRightShiftS=t.prototype.rightShiftS,t.prototype.zeroFillRightShiftM=t.prototype.rightShiftM,t.zeroFillRightShift=t.rightShift,t.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},t.not=function(t){return new e(t).not()},t.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},t.abs=function(t){return new e(t).abs()},t.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},t.acos=function(t){return new e(t).acos()},t.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},t.acosh=function(t){return new e(t).acosh()},t.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},t.asin=function(t){return new e(t).asin()},t.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},t.asinh=function(t){return new e(t).asinh()},t.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},t.atan=function(t){return new e(t).atan()},t.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},t.atanh=function(t){return new e(t).atanh()},t.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},t.cbrt=function(t){return new e(t).cbrt()},t.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},t.ceil=function(t){return new e(t).ceil()},t.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},t.clz32=function(t){return new e(t).clz32()},t.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},t.cos=function(t){return new e(t).cos()},t.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},t.cosh=function(t){return new e(t).cosh()},t.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},t.exp=function(t){return new e(t).exp()},t.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},t.expm1=function(t){return new e(t).expm1()},t.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},t.floor=function(t){return new e(t).floor()},t.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},t.fround=function(t){return new e(t).fround()},t.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},t.log=function(t){return new e(t).log()},t.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},t.log1p=function(t){return new e(t).log1p()},t.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},t.log10=function(t){return new e(t).log10()},t.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},t.log2=function(t){return new e(t).log2()},t.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},t.round=function(t){return new e(t).round()},t.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},t.sign=function(t){return new e(t).sign()},t.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},t.sin=function(t){return new e(t).sin()},t.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},t.sinh=function(t){return new e(t).sinh()},t.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},t.sqrt=function(t){return new e(t).sqrt()},t.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},t.tan=function(t){return new e(t).tan()},t.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},t.tanh=function(t){return new e(t).tanh()},t.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},t.trunc=function(t){return new e(t).trunc()},t.pow=function(t,n){return new e(t).pow(n)},t.prototype.pow=function(t){return"number"==typeof t?this.powS(t):this.powM(t)},t.prototype.powS=function(t){for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,Math.pow(this.get(e,n),t));return this},t.prototype.powM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let n=0;n<this.columns;n++)this.set(e,n,Math.pow(this.get(e,n),t.get(e,n)));return this}}(Js,Qs);class tu extends Js{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,n){return this.data[t][e]=n,this}get(t,e){return this.data[t][e]}}class eu{constructor(t){let e,n,r,i,o,a,s,u,l,c=(t=tu.checkMatrix(t)).clone(),f=c.rows,h=c.columns,d=new Float64Array(f),p=1;for(e=0;e<f;e++)d[e]=e;for(u=new Float64Array(f),n=0;n<h;n++){for(e=0;e<f;e++)u[e]=c.get(e,n);for(e=0;e<f;e++){for(l=Math.min(e,n),o=0,r=0;r<l;r++)o+=c.get(e,r)*u[r];u[e]-=o,c.set(e,n,u[e])}for(i=n,e=n+1;e<f;e++)Math.abs(u[e])>Math.abs(u[i])&&(i=e);if(i!==n){for(r=0;r<h;r++)a=c.get(i,r),c.set(i,r,c.get(n,r)),c.set(n,r,a);s=d[i],d[i]=d[n],d[n]=s,p=-p}if(n<f&&0!==c.get(n,n))for(e=n+1;e<f;e++)c.set(e,n,c.get(e,n)/c.get(n,n))}this.LU=c,this.pivotVector=d,this.pivotSign=p}isSingular(){let t=this.LU,e=t.columns;for(let n=0;n<e;n++)if(0===t.get(n,n))return!0;return!1}solve(t){t=Qs.checkMatrix(t);let e=this.LU;if(e.rows!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let n,r,i,o=t.columns,a=t.subMatrixRow(this.pivotVector,0,o-1),s=e.columns;for(i=0;i<s;i++)for(n=i+1;n<s;n++)for(r=0;r<o;r++)a.set(n,r,a.get(n,r)-a.get(i,r)*e.get(n,i));for(i=s-1;i>=0;i--){for(r=0;r<o;r++)a.set(i,r,a.get(i,r)/e.get(i,i));for(n=0;n<i;n++)for(r=0;r<o;r++)a.set(n,r,a.get(n,r)-a.get(i,r)*e.get(n,i))}return a}get determinant(){let t=this.LU;if(!t.isSquare())throw new Error("Matrix must be square");let e=this.pivotSign,n=t.columns;for(let r=0;r<n;r++)e*=t.get(r,r);return e}get lowerTriangularMatrix(){let t=this.LU,e=t.rows,n=t.columns,r=new Qs(e,n);for(let i=0;i<e;i++)for(let e=0;e<n;e++)i>e?r.set(i,e,t.get(i,e)):i===e?r.set(i,e,1):r.set(i,e,0);return r}get upperTriangularMatrix(){let t=this.LU,e=t.rows,n=t.columns,r=new Qs(e,n);for(let i=0;i<e;i++)for(let e=0;e<n;e++)i<=e?r.set(i,e,t.get(i,e)):r.set(i,e,0);return r}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function nu(t,e){let n=0;return Math.abs(t)>Math.abs(e)?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):0!==e?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):0}class ru{constructor(t){let e,n,r,i,o=(t=tu.checkMatrix(t)).clone(),a=t.rows,s=t.columns,u=new Float64Array(s);for(r=0;r<s;r++){let t=0;for(e=r;e<a;e++)t=nu(t,o.get(e,r));if(0!==t){for(o.get(r,r)<0&&(t=-t),e=r;e<a;e++)o.set(e,r,o.get(e,r)/t);for(o.set(r,r,o.get(r,r)+1),n=r+1;n<s;n++){for(i=0,e=r;e<a;e++)i+=o.get(e,r)*o.get(e,n);for(i=-i/o.get(r,r),e=r;e<a;e++)o.set(e,n,o.get(e,n)+i*o.get(e,r))}}u[r]=-t}this.QR=o,this.Rdiag=u}solve(t){t=Qs.checkMatrix(t);let e=this.QR,n=e.rows;if(t.rows!==n)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let r,i,o,a,s=t.columns,u=t.clone(),l=e.columns;for(o=0;o<l;o++)for(i=0;i<s;i++){for(a=0,r=o;r<n;r++)a+=e.get(r,o)*u.get(r,i);for(a=-a/e.get(o,o),r=o;r<n;r++)u.set(r,i,u.get(r,i)+a*e.get(r,o))}for(o=l-1;o>=0;o--){for(i=0;i<s;i++)u.set(o,i,u.get(o,i)/this.Rdiag[o]);for(r=0;r<o;r++)for(i=0;i<s;i++)u.set(r,i,u.get(r,i)-u.get(o,i)*e.get(r,o))}return u.subMatrix(0,l-1,0,s-1)}isFullRank(){let t=this.QR.columns;for(let e=0;e<t;e++)if(0===this.Rdiag[e])return!1;return!0}get upperTriangularMatrix(){let t,e,n=this.QR,r=n.columns,i=new Qs(r,r);for(t=0;t<r;t++)for(e=0;e<r;e++)t<e?i.set(t,e,n.get(t,e)):t===e?i.set(t,e,this.Rdiag[t]):i.set(t,e,0);return i}get orthogonalMatrix(){let t,e,n,r,i=this.QR,o=i.rows,a=i.columns,s=new Qs(o,a);for(n=a-1;n>=0;n--){for(t=0;t<o;t++)s.set(t,n,0);for(s.set(n,n,1),e=n;e<a;e++)if(0!==i.get(n,n)){for(r=0,t=n;t<o;t++)r+=i.get(t,n)*s.get(t,e);for(r=-r/i.get(n,n),t=n;t<o;t++)s.set(t,e,s.get(t,e)+r*i.get(t,n))}}return s}}class iu{constructor(t,e={}){if((t=tu.checkMatrix(t)).isEmpty())throw new Error("Matrix must be non-empty");let n=t.rows,r=t.columns;const{computeLeftSingularVectors:i=!0,computeRightSingularVectors:o=!0,autoTranspose:a=!1}=e;let s,u=Boolean(i),l=Boolean(o),c=!1;if(n<r)if(a){s=t.transpose(),n=s.rows,r=s.columns,c=!0;let e=u;u=l,l=e}else s=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else s=t.clone();let f=Math.min(n,r),h=Math.min(n+1,r),d=new Float64Array(h),p=new Qs(n,f),m=new Qs(r,r),g=new Float64Array(r),y=new Float64Array(n),v=new Float64Array(h);for(let t=0;t<h;t++)v[t]=t;let w=Math.min(n-1,r),b=Math.max(0,Math.min(r-2,n)),x=Math.max(w,b);for(let t=0;t<x;t++){if(t<w){d[t]=0;for(let e=t;e<n;e++)d[t]=nu(d[t],s.get(e,t));if(0!==d[t]){s.get(t,t)<0&&(d[t]=-d[t]);for(let e=t;e<n;e++)s.set(e,t,s.get(e,t)/d[t]);s.set(t,t,s.get(t,t)+1)}d[t]=-d[t]}for(let e=t+1;e<r;e++){if(t<w&&0!==d[t]){let r=0;for(let i=t;i<n;i++)r+=s.get(i,t)*s.get(i,e);r=-r/s.get(t,t);for(let i=t;i<n;i++)s.set(i,e,s.get(i,e)+r*s.get(i,t))}g[e]=s.get(t,e)}if(u&&t<w)for(let e=t;e<n;e++)p.set(e,t,s.get(e,t));if(t<b){g[t]=0;for(let e=t+1;e<r;e++)g[t]=nu(g[t],g[e]);if(0!==g[t]){g[t+1]<0&&(g[t]=0-g[t]);for(let e=t+1;e<r;e++)g[e]/=g[t];g[t+1]+=1}if(g[t]=-g[t],t+1<n&&0!==g[t]){for(let e=t+1;e<n;e++)y[e]=0;for(let e=t+1;e<n;e++)for(let n=t+1;n<r;n++)y[e]+=g[n]*s.get(e,n);for(let e=t+1;e<r;e++){let r=-g[e]/g[t+1];for(let i=t+1;i<n;i++)s.set(i,e,s.get(i,e)+r*y[i])}}if(l)for(let e=t+1;e<r;e++)m.set(e,t,g[e])}}let _=Math.min(r,n+1);if(w<r&&(d[w]=s.get(w,w)),n<_&&(d[_-1]=0),b+1<_&&(g[b]=s.get(b,_-1)),g[_-1]=0,u){for(let t=w;t<f;t++){for(let e=0;e<n;e++)p.set(e,t,0);p.set(t,t,1)}for(let t=w-1;t>=0;t--)if(0!==d[t]){for(let e=t+1;e<f;e++){let r=0;for(let i=t;i<n;i++)r+=p.get(i,t)*p.get(i,e);r=-r/p.get(t,t);for(let i=t;i<n;i++)p.set(i,e,p.get(i,e)+r*p.get(i,t))}for(let e=t;e<n;e++)p.set(e,t,-p.get(e,t));p.set(t,t,1+p.get(t,t));for(let e=0;e<t-1;e++)p.set(e,t,0)}else{for(let e=0;e<n;e++)p.set(e,t,0);p.set(t,t,1)}}if(l)for(let t=r-1;t>=0;t--){if(t<b&&0!==g[t])for(let e=t+1;e<r;e++){let n=0;for(let i=t+1;i<r;i++)n+=m.get(i,t)*m.get(i,e);n=-n/m.get(t+1,t);for(let i=t+1;i<r;i++)m.set(i,e,m.get(i,e)+n*m.get(i,t))}for(let e=0;e<r;e++)m.set(e,t,0);m.set(t,t,1)}let D=_-1,E=Number.EPSILON;for(;_>0;){let t,e;for(t=_-2;t>=-1&&-1!==t;t--){const e=Number.MIN_VALUE+E*Math.abs(d[t]+Math.abs(d[t+1]));if(Math.abs(g[t])<=e||Number.isNaN(g[t])){g[t]=0;break}}if(t===_-2)e=4;else{let n;for(n=_-1;n>=t&&n!==t;n--){let e=(n!==_?Math.abs(g[n]):0)+(n!==t+1?Math.abs(g[n-1]):0);if(Math.abs(d[n])<=E*e){d[n]=0;break}}n===t?e=3:n===_-1?e=1:(e=2,t=n)}switch(t++,e){case 1:{let e=g[_-2];g[_-2]=0;for(let n=_-2;n>=t;n--){let i=nu(d[n],e),o=d[n]/i,a=e/i;if(d[n]=i,n!==t&&(e=-a*g[n-1],g[n-1]=o*g[n-1]),l)for(let t=0;t<r;t++)i=o*m.get(t,n)+a*m.get(t,_-1),m.set(t,_-1,-a*m.get(t,n)+o*m.get(t,_-1)),m.set(t,n,i)}break}case 2:{let e=g[t-1];g[t-1]=0;for(let r=t;r<_;r++){let i=nu(d[r],e),o=d[r]/i,a=e/i;if(d[r]=i,e=-a*g[r],g[r]=o*g[r],u)for(let e=0;e<n;e++)i=o*p.get(e,r)+a*p.get(e,t-1),p.set(e,t-1,-a*p.get(e,r)+o*p.get(e,t-1)),p.set(e,r,i)}break}case 3:{const e=Math.max(Math.abs(d[_-1]),Math.abs(d[_-2]),Math.abs(g[_-2]),Math.abs(d[t]),Math.abs(g[t])),i=d[_-1]/e,o=d[_-2]/e,a=g[_-2]/e,s=d[t]/e,c=g[t]/e,f=((o+i)*(o-i)+a*a)/2,h=i*a*(i*a);let y=0;0===f&&0===h||(y=f<0?0-Math.sqrt(f*f+h):Math.sqrt(f*f+h),y=h/(f+y));let v=(s+i)*(s-i)+y,w=s*c;for(let e=t;e<_-1;e++){let i=nu(v,w);0===i&&(i=Number.MIN_VALUE);let o=v/i,a=w/i;if(e!==t&&(g[e-1]=i),v=o*d[e]+a*g[e],g[e]=o*g[e]-a*d[e],w=a*d[e+1],d[e+1]=o*d[e+1],l)for(let t=0;t<r;t++)i=o*m.get(t,e)+a*m.get(t,e+1),m.set(t,e+1,-a*m.get(t,e)+o*m.get(t,e+1)),m.set(t,e,i);if(i=nu(v,w),0===i&&(i=Number.MIN_VALUE),o=v/i,a=w/i,d[e]=i,v=o*g[e]+a*d[e+1],d[e+1]=-a*g[e]+o*d[e+1],w=a*g[e+1],g[e+1]=o*g[e+1],u&&e<n-1)for(let t=0;t<n;t++)i=o*p.get(t,e)+a*p.get(t,e+1),p.set(t,e+1,-a*p.get(t,e)+o*p.get(t,e+1)),p.set(t,e,i)}g[_-2]=v;break}case 4:if(d[t]<=0&&(d[t]=d[t]<0?-d[t]:0,l))for(let e=0;e<=D;e++)m.set(e,t,-m.get(e,t));for(;t<D&&!(d[t]>=d[t+1]);){let e=d[t];if(d[t]=d[t+1],d[t+1]=e,l&&t<r-1)for(let n=0;n<r;n++)e=m.get(n,t+1),m.set(n,t+1,m.get(n,t)),m.set(n,t,e);if(u&&t<n-1)for(let r=0;r<n;r++)e=p.get(r,t+1),p.set(r,t+1,p.get(r,t)),p.set(r,t,e);t++}_--}}if(c){let t=m;m=p,p=t}this.m=n,this.n=r,this.s=d,this.U=p,this.V=m}solve(t){let e=t,n=this.threshold,r=this.s.length,i=Qs.zeros(r,r);for(let t=0;t<r;t++)Math.abs(this.s[t])<=n?i.set(t,t,0):i.set(t,t,1/this.s[t]);let o=this.U,a=this.rightSingularVectors,s=a.mmul(i),u=a.rows,l=o.rows,c=Qs.zeros(u,l);for(let t=0;t<u;t++)for(let e=0;e<l;e++){let n=0;for(let i=0;i<r;i++)n+=s.get(t,i)*o.get(e,i);c.set(t,e,n)}return c.mmul(e)}solveForDiagonal(t){return this.solve(Qs.diag(t))}inverse(){let t=this.V,e=this.threshold,n=t.rows,r=t.columns,i=new Qs(n,this.s.length);for(let o=0;o<n;o++)for(let n=0;n<r;n++)Math.abs(this.s[n])>e&&i.set(o,n,t.get(o,n)/this.s[n]);let o=this.U,a=o.rows,s=o.columns,u=new Qs(n,a);for(let t=0;t<n;t++)for(let e=0;e<a;e++){let n=0;for(let r=0;r<s;r++)n+=i.get(t,r)*o.get(e,r);u.set(t,e,n)}return u}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,n=this.s;for(let r=0,i=n.length;r<i;r++)n[r]>t&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return Qs.diag(this.s)}}function ou(t,e){const n=65535&(t>>>=0);return((t-n)*(e>>>=0)>>>0)+n*e>>>0}class au{constructor(t=Date.now()){this.state=new Uint32Array(4),this.init(t),this.random=this.getFloat.bind(this)}getUint32(){return this.nextState(),this.state[3]+this.state[2]>>>0}getFloat(){return 5.960464477539063e-8*(this.getUint32()>>>8)}init(t){if(!Number.isInteger(t))throw new TypeError("seed must be an integer");this.state[0]=t,this.state[1]=0,this.state[2]=0,this.state[3]=0;for(let t=1;t<8;t++)this.state[3&t]^=t+ou(1812433253,this.state[t-1&3]^this.state[t-1&3]>>>30>>>0)>>>0;this.periodCertification();for(let t=0;t<8;t++)this.nextState()}periodCertification(){0===this.state[0]&&0===this.state[1]&&0===this.state[2]&&0===this.state[3]&&(this.state[0]=88,this.state[1]=83,this.state[2]=65,this.state[3]=68)}nextState(){let t=this.state[0];t^=t<<15,t^=t>>>18,t^=this.state[3]<<11,this.state[0]=this.state[1],this.state[1]=this.state[2],this.state[2]=this.state[3],this.state[3]=t}}function su(t,e,n){const r=e();if(n){let t=0;for(;r>n[t];)t++;return t}return Math.floor(r*t)}class uu{constructor(t=Math.random){if("number"==typeof t){const e=new au(t);this.randomGenerator=e.random}else this.randomGenerator=t}choice(t,e){return function(t,e={},n=Math.random){const{size:r=1,replace:i=!1,probabilities:o}=e;let a,s;if(a="number"==typeof t?function(t){const e=[];for(let n=0;n<t;n++)e.push(n);return e}(t):t.slice(),o){if(!i)throw new Error("choice with probabilities and no replacement is not implemented");if(o.length!==a.length)throw new Error("the length of probabilities option should be equal to the number of choices");s=[o[0]];for(let t=1;t<o.length;t++)s[t]=s[t-1]+o[t];if(Math.abs(1-s[s.length-1])>1e-8)throw new Error(`probabilities should sum to 1, but instead sums to ${s[s.length-1]}`)}if(!1===i&&r>a.length)throw new Error("size option is too large");const u=[];for(let t=0;t<r;t++){const t=su(a.length,n,s);u.push(a[t]),i||a.splice(t,1)}return u}(t,e,this.randomGenerator)}random(){return this.randomGenerator()}randInt(t,e){return void 0===e&&(e=t,t=0),t+Math.floor(this.randomGenerator()*(e-t))}randomSample(t){const e=[];for(let n=0;n<t;n++)e.push(this.random());return e}}function lu(t,e){const n=new Qs(t.rows,e.rows);for(let r=0;r<t.rows;r++)for(let i=0;i<e.rows;i++)n.set(r,i,Fs(t.getRow(r),e.getRow(i)));return n}function cu(t){let e=[];for(let n=0;n<t;n++)e.push(n);return e}function fu(t){let e=[t[0]];for(let n=1;n<t.length;n++)e[n]=e[n-1]+t[n];return e}const hu={maxIterations:100,tolerance:1e-6,initialization:"kmeans++",distanceFunction:Fs};function du(t,e,n,r,i,o){let a=function(t,e,n,r){const i=e[0].length;let o=new Array(r),a=new Array(r);for(let t=0;t<r;t++){o[t]=new Array(i),a[t]=0;for(let e=0;e<i;e++)o[t][e]=0}for(let t=0;t<e.length;t++){a[n[t]]++;for(let r=0;r<i;r++)o[n[t]][r]+=e[t][r]}for(let e=0;e<r;e++)for(let n=0;n<i;n++)a[e]?o[e][n]/=a[e]:o[e][n]=t[e][n];return o}(t,e,n=Bs(e,t,n,i.distanceFunction),r),s=function(t,e,n,r){for(let i=0;i<t.length;i++)if(n(t[i],e[i])>r)return!1;return!0}(a,t,i.distanceFunction,i.tolerance);return new Os(n,a,s,o,i.distanceFunction)}var pu="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function mu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gu,yu,vu={exports:{}};gu=vu,yu=function(){function t(t){return u(t,l(s(c(t.length),t),1/t.length))}function e(t){return s(f(t),t)}function n(t,e){return l(t,e?1/(t.length-1):1/t.length)}function r(t){var e=function(t){var e,n=Math.pow(2,-52),r=1e-64/n,i=0,o=0,a=0,s=0,u=0,l=h(t),c=l.length,f=l[0].length;if(c<f)throw"Need more rows than columns";var d=new Array(f),p=new Array(f);for(o=0;o<f;o++)d[o]=p[o]=0;var m=function t(e,n,r){void 0===r&&(r=0);var i,o=e[r],a=Array(o);if(r===e.length-1){for(i=o-2;i>=0;i-=2)a[i+1]=n,a[i]=n;return-1===i&&(a[0]=n),a}for(i=o-1;i>=0;i--)a[i]=t(e,n,r+1);return a}([f,f],0);function g(t,e){return(t=Math.abs(t))>(e=Math.abs(e))?t*Math.sqrt(1+e*e/t/t):0==e?t:e*Math.sqrt(1+t*t/e/e)}var y=0,v=0,w=0,b=0,x=0,_=0,D=0;for(o=0;o<f;o++){for(d[o]=v,D=0,u=o+1,a=o;a<c;a++)D+=l[a][o]*l[a][o];if(D<=r)v=0;else for(y=l[o][o],v=Math.sqrt(D),y>=0&&(v=-v),w=y*v-D,l[o][o]=y-v,a=u;a<f;a++){for(D=0,s=o;s<c;s++)D+=l[s][o]*l[s][a];for(y=D/w,s=o;s<c;s++)l[s][a]+=y*l[s][o]}for(p[o]=v,D=0,a=u;a<f;a++)D+=l[o][a]*l[o][a];if(D<=r)v=0;else{for(y=l[o][o+1],v=Math.sqrt(D),y>=0&&(v=-v),w=y*v-D,l[o][o+1]=y-v,a=u;a<f;a++)d[a]=l[o][a]/w;for(a=u;a<c;a++){for(D=0,s=u;s<f;s++)D+=l[a][s]*l[o][s];for(s=u;s<f;s++)l[a][s]+=D*d[s]}}(x=Math.abs(p[o])+Math.abs(d[o]))>b&&(b=x)}for(o=f-1;-1!=o;o+=-1){if(0!=v){for(w=v*l[o][o+1],a=u;a<f;a++)m[a][o]=l[o][a]/w;for(a=u;a<f;a++){for(D=0,s=u;s<f;s++)D+=l[o][s]*m[s][a];for(s=u;s<f;s++)m[s][a]+=D*m[s][o]}}for(a=u;a<f;a++)m[o][a]=0,m[a][o]=0;m[o][o]=1,v=d[o],u=o}for(o=f-1;-1!=o;o+=-1){for(u=o+1,v=p[o],a=u;a<f;a++)l[o][a]=0;if(0!=v){for(w=l[o][o]*v,a=u;a<f;a++){for(D=0,s=u;s<c;s++)D+=l[s][o]*l[s][a];for(y=D/w,s=o;s<c;s++)l[s][a]+=y*l[s][o]}for(a=o;a<c;a++)l[a][o]=l[a][o]/v}else for(a=o;a<c;a++)l[a][o]=0;l[o][o]+=1}for(n*=b,s=f-1;-1!=s;s+=-1)for(var E=0;E<50;E++){var A=!1;for(u=s;-1!=u;u+=-1){if(Math.abs(d[u])<=n){A=!0;break}if(Math.abs(p[u-1])<=n)break}if(!A){i=0,D=1;var M=u-1;for(o=u;o<s+1&&(y=D*d[o],d[o]=i*d[o],!(Math.abs(y)<=n));o++)for(w=g(y,v=p[o]),p[o]=w,i=v/w,D=-y/w,a=0;a<c;a++)x=l[a][M],_=l[a][o],l[a][M]=x*i+_*D,l[a][o]=-x*D+_*i}if(_=p[s],u==s){if(_<0)for(p[s]=-_,a=0;a<f;a++)m[a][s]=-m[a][s];break}if(E>=49)throw"Error: no convergence.";for(b=p[u],v=g(y=(((x=p[s-1])-_)*(x+_)+((v=d[s-1])-(w=d[s]))*(v+w))/(2*w*x),1),y=y<0?((b-_)*(b+_)+w*(x/(y-v)-w))/b:((b-_)*(b+_)+w*(x/(y+v)-w))/b,i=1,D=1,o=u+1;o<s+1;o++){for(v=d[o],x=p[o],w=D*v,v*=i,_=g(y,w),d[o-1]=_,y=b*(i=y/_)+v*(D=w/_),v=-b*D+v*i,w=x*D,x*=i,a=0;a<f;a++)b=m[a][o-1],_=m[a][o],m[a][o-1]=b*i+_*D,m[a][o]=-b*D+_*i;for(_=g(y,w),p[o-1]=_,y=(i=y/_)*v+(D=w/_)*x,b=-D*v+i*x,a=0;a<c;a++)x=l[a][o-1],_=l[a][o],l[a][o-1]=x*i+_*D,l[a][o]=-x*D+_*i}d[u]=0,d[s]=y,p[s]=b}for(o=0;o<p.length;o++)p[o]<n&&(p[o]=0);for(o=0;o<f;o++)for(a=o-1;a>=0;a--)if(p[a]<p[o]){for(i=p[a],p[a]=p[o],p[o]=i,s=0;s<l.length;s++)e=l[s][o],l[s][o]=l[s][a],l[s][a]=e;for(s=0;s<m.length;s++)e=m[s][o],m[s][o]=m[s][a],m[s][a]=e;o=a}return{U:l,S:p,V:m}}(t);console.log(e);var n=e.U;return e.S.map((function(t,e){var r={};return r.eigenvalue=t,r.vector=n.map((function(t,n){return-1*t[e]})),r}))}function i(e,...n){var r=n.map((function(t){return t.vector})),i=s(r,f(t(e))),o=l(s(c(e.length),e),-1/e.length);return{adjustedData:i,formattedAdjustedData:a(i,2),avgData:o,selectedVectors:r}}function o(i){return r(n(e(t(i)),!1))}function a(t,e){var n=Math.pow(10,e||2);return t.map((function(t,e){return t.map((function(t){return Math.round(t*n)/n}))}))}function s(t,e){if(!(t[0]&&e[0]&&t.length&&e.length))throw new Error("Both A and B should be matrices");if(e.length!==t[0].length)throw new Error("Columns in A should be the same as the number of rows in B");for(var n=[],r=0;r<t.length;r++){n[r]=[];for(var i=0;i<e[0].length;i++)for(var o=0;o<t[0].length;o++)n[r][i]=n[r][i]?n[r][i]+t[r][o]*e[o][i]:t[r][o]*e[o][i]}return n}function u(t,e){if(t.length!==e.length||t[0].length!==e[0].length)throw new Error("Both A and B should have the same dimensions");for(var n=[],r=0;r<t.length;r++){n[r]=[];for(var i=0;i<e[0].length;i++)n[r][i]=t[r][i]-e[r][i]}return n}function l(t,e){for(var n=[],r=0;r<t.length;r++){n[r]=[];for(var i=0;i<t[0].length;i++)n[r][i]=t[r][i]*e}return n}function c(t){for(var e=[],n=0;n<t;n++){e[n]=[];for(var r=0;r<t;r++)e[n][r]=1}return e}function f(t){return h(t)[0].map((function(e,n){return t.map((function(t){return t[n]}))}))}function h(t){var e=JSON.stringify(t);return JSON.parse(e)}return{computeDeviationScores:e,computeDeviationMatrix:t,computeSVD:r,computePercentageExplained:function(t,...e){var n=t.map((function(t){return t.eigenvalue})).reduce((function(t,e){return t+e}));return e.map((function(t){return t.eigenvalue})).reduce((function(t,e){return t+e}))/n},computeOriginalData:function(t,e,n){var r=u(f(s(f(e),t)),n);return{originalData:r,formattedOriginalData:a(r,2)}},computeVarianceCovariance:n,computeAdjustedData:i,getEigenVectors:o,analyseTopResult:function(t){var e=o(t).sort((function(t,e){return e.eigenvalue-t.eigenvalue}));return console.log("Sorted Vectors",e),i(t,e[0].vector)},transpose:f,multiply:s,clone:h,scale:l}}(),gu.exports=yu;var wu=vu.exports,bu={},xu={},_u={},Du={},Eu=pu&&pu.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};function Au(t,e){return Math.floor(e()*t)}function Mu(t){for(var e=[],n=0;n<t;n++)e.push(void 0);return e}function Su(t,e){return Mu(t).map((function(){return e}))}function Cu(t){return Su(t,0)}function ku(t){return t.reduce((function(t,e){return t+e}))}Object.defineProperty(Du,"__esModule",{value:!0}),Du.tauRandInt=Au,Du.tauRand=function(t){return t()},Du.norm=function(t){var e,n,r=0;try{for(var i=Eu(t),o=i.next();!o.done;o=i.next()){var a=o.value;r+=Math.pow(a,2)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return Math.sqrt(r)},Du.empty=Mu,Du.range=function(t){return Mu(t).map((function(t,e){return e}))},Du.filled=Su,Du.zeros=Cu,Du.ones=function(t){return Su(t,1)},Du.linear=function(t,e,n){return Mu(n).map((function(r,i){return t+i*((e-t)/(n-1))}))},Du.sum=ku,Du.mean=function(t){return ku(t)/t.length},Du.max=function(t){for(var e=0,n=0;n<t.length;n++)e=t[n]>e?t[n]:e;return e},Du.max2d=function(t){for(var e=0,n=0;n<t.length;n++)for(var r=0;r<t[n].length;r++)e=t[n][r]>e?t[n][r]:e;return e},Du.rejectionSample=function(t,e,n){for(var r=Cu(t),i=0;i<t;i++)for(var o=!0;o;){for(var a=Au(e,n),s=!1,u=0;u<i;u++)if(a===r[u]){s=!0;break}s||(o=!1),r[i]=a}return r},Du.reshape2d=function(t,e,n){var r=[],i=0;if(t.length!==e*n)throw new Error("Array dimensions must match input length.");for(var o=0;o<e;o++){for(var a=[],s=0;s<n;s++)a.push(t[i]),i+=1;r.push(a)}return r};var Fu=pu&&pu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(_u,"__esModule",{value:!0});var Nu=Fu(Du);function Tu(t,e){var n=function(n){return Nu.empty(t).map((function(){return Nu.filled(e,n)}))},r=[];return r.push(n(-1)),r.push(n(1/0)),r.push(n(0)),r}function Bu(t,e,n,r,i){e=Math.floor(e);var o=t[0][e],a=t[1][e];if(t[2][e],n>=a[0])return 0;for(var s=0;s<o.length;s++)if(r===o[s])return 0;return Ou(t,e,n,r,i)}function Ou(t,e,n,r,i){var o=t[0][e],a=t[1][e],s=t[2][e];if(n>=a[0])return 0;a[0]=n,o[0]=r,s[0]=i;for(var u=0,l=0;;){var c=2*u+1,f=c+1,h=t[0][0].length;if(c>=h)break;if(f>=h){if(!(a[c]>n))break;l=c}else if(a[c]>=a[f]){if(!(n<a[c]))break;l=c}else{if(!(n<a[f]))break;l=f}a[u]=a[l],o[u]=o[l],s[u]=s[l],u=l}return a[u]=n,o[u]=r,s[u]=i,1}function zu(t,e,n,r){for(;2*r+1<n;){var i=2*r+1,o=i+1,a=r;if(t[a]<t[i]&&(a=i),o<n&&t[a]<t[o]&&(a=o),a===r)break;var s=t[r];t[r]=t[a],t[a]=s;var u=e[r];e[r]=e[a],e[a]=u,r=a}}_u.makeHeap=Tu,_u.rejectionSample=function(t,e,n){for(var r=Nu.zeros(t),i=0;i<t;i++){for(var o=!0,a=0;o;){a=Nu.tauRandInt(e,n);for(var s=!1,u=0;u<i;u++)if(a===r[u]){s=!0;break}s||(o=!1)}r[i]=a}return r},_u.heapPush=Bu,_u.uncheckedHeapPush=Ou,_u.buildCandidates=function(t,e,n,r,i){for(var o=Tu(e,r),a=0;a<e;a++)for(var s=0;s<n;s++)if(!(t[0][a][s]<0)){var u=t[0][a][s],l=t[2][a][s],c=Nu.tauRand(i);Bu(o,a,c,u,l),Bu(o,u,c,a,l),t[2][a][s]=0}return o},_u.deheapSort=function(t){for(var e=t[0],n=t[1],r=0;r<e.length;r++)for(var i=e[r],o=n[r],a=0;a<i.length-1;a++){var s=i.length-a-1,u=o.length-a-1,l=i[0];i[0]=i[s],i[s]=l;var c=o[0];o[0]=o[u],o[u]=c,zu(o,i,u,0)}return{indices:e,weights:n}},_u.smallestFlagged=function(t,e){for(var n=t[0][e],r=t[1][e],i=t[2][e],o=1/0,a=-1,s=0;s>n.length;s++)1===i[s]&&r[s]<o&&(o=r[s],a=s);return a>=0?(i[a]=0,Math.floor(n[a])):-1};var Iu,Ru={},Pu=pu&&pu.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},$u=pu&&pu.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},ju=pu&&pu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(Ru,"__esModule",{value:!0});var Lu=ju(Du),Uu=function(){function t(t,e,n,r){if(this.entries=new Map,this.nRows=0,this.nCols=0,t.length!==e.length||t.length!==n.length)throw new Error("rows, cols and values arrays must all have the same length");this.nRows=r[0],this.nCols=r[1];for(var i=0;i<n.length;i++){var o=t[i],a=e[i];this.checkDims(o,a);var s=this.makeKey(o,a);this.entries.set(s,{value:n[i],row:o,col:a})}}return t.prototype.makeKey=function(t,e){return t+":"+e},t.prototype.checkDims=function(t,e){if(!(t<this.nRows&&e<this.nCols))throw new Error("row and/or col specified outside of matrix dimensions")},t.prototype.set=function(t,e,n){this.checkDims(t,e);var r=this.makeKey(t,e);this.entries.has(r)?this.entries.get(r).value=n:this.entries.set(r,{value:n,row:t,col:e})},t.prototype.get=function(t,e,n){void 0===n&&(n=0),this.checkDims(t,e);var r=this.makeKey(t,e);return this.entries.has(r)?this.entries.get(r).value:n},t.prototype.getAll=function(t){void 0===t&&(t=!0);var e=[];return this.entries.forEach((function(t){e.push(t)})),t&&e.sort((function(t,e){return t.row===e.row?t.col-e.col:t.row-e.row})),e},t.prototype.getDims=function(){return[this.nRows,this.nCols]},t.prototype.getRows=function(){return Array.from(this.entries,(function(t){var e=Pu(t,2);return e[0],e[1].row}))},t.prototype.getCols=function(){return Array.from(this.entries,(function(t){var e=Pu(t,2);return e[0],e[1].col}))},t.prototype.getValues=function(){return Array.from(this.entries,(function(t){var e=Pu(t,2);return e[0],e[1].value}))},t.prototype.forEach=function(t){this.entries.forEach((function(e){return t(e.value,e.row,e.col)}))},t.prototype.map=function(e){var n=[];this.entries.forEach((function(t){n.push(e(t.value,t.row,t.col))}));var r=[this.nRows,this.nCols];return new t(this.getRows(),this.getCols(),n,r)},t.prototype.toArray=function(){var t=this,e=Lu.empty(this.nRows).map((function(){return Lu.zeros(t.nCols)}));return this.entries.forEach((function(t){e[t.row][t.col]=t.value})),e},t}();Ru.SparseMatrix=Uu,Ru.transpose=function(t){var e=[],n=[],r=[];t.forEach((function(t,i,o){e.push(i),n.push(o),r.push(t)}));var i=[t.nCols,t.nRows];return new Uu(n,e,r,i)},Ru.identity=function(t){for(var e=Pu(t,1)[0],n=new Uu([],[],[],t),r=0;r<e;r++)n.set(r,r,1);return n},Ru.pairwiseMultiply=function(t,e){return Vu(t,e,(function(t,e){return t*e}))},Ru.add=function(t,e){return Vu(t,e,(function(t,e){return t+e}))},Ru.subtract=function(t,e){return Vu(t,e,(function(t,e){return t-e}))},Ru.maximum=function(t,e){return Vu(t,e,(function(t,e){return t>e?t:e}))},Ru.multiplyScalar=function(t,e){return t.map((function(t){return t*e}))},Ru.eliminateZeros=function(t){for(var e=new Set,n=t.getValues(),r=t.getRows(),i=t.getCols(),o=0;o<n.length;o++)0===n[o]&&e.add(o);var a=function(t,n){return!e.has(n)},s=n.filter(a),u=r.filter(a),l=i.filter(a);return new Uu(u,l,s,t.getDims())},Ru.normalize=function(t,e){var n,r;void 0===e&&(e="l2");var i=qu[e],o=new Map;t.forEach((function(t,e,n){var r=o.get(e)||[];r.push(n),o.set(e,r)}));var a=new Uu([],[],[],t.getDims()),s=function(e){for(var n=o.get(e).sort(),r=n.map((function(n){return t.get(e,n)})),s=i(r),u=0;u<s.length;u++)a.set(e,n[u],s[u])};try{for(var u=$u(o.keys()),l=u.next();!l.done;l=u.next())s(l.value)}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return a};var qu=((Iu={}).max=function(t){for(var e=-1/0,n=0;n<t.length;n++)e=t[n]>e?t[n]:e;return t.map((function(t){return t/e}))},Iu.l1=function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return t.map((function(t){return t/e}))},Iu.l2=function(t){for(var e=0,n=0;n<t.length;n++)e+=Math.pow(t[n],2);return t.map((function(t){return Math.sqrt(Math.pow(t,2)/e)}))},Iu);function Vu(t,e,n){for(var r=new Set,i=[],o=[],a=[],s=function(r,s){i.push(r),o.push(s);var u=n(t.get(r,s),e.get(r,s));a.push(u)},u=t.getValues(),l=t.getRows(),c=t.getCols(),f=0;f<u.length;f++){var h=(g=l[f])+":"+(y=c[f]);r.add(h),s(g,y)}var d=e.getValues(),p=e.getRows(),m=e.getCols();for(f=0;f<d.length;f++){var g,y;h=(g=p[f])+":"+(y=m[f]),r.has(h)||s(g,y)}var v=[t.nRows,t.nCols];return new Uu(i,o,a,v)}Ru.getCSR=function(t){var e=[];t.forEach((function(t,n,r){e.push({value:t,row:n,col:r})})),e.sort((function(t,e){return t.row===e.row?t.col-e.col:t.row-e.row}));for(var n=[],r=[],i=[],o=-1,a=0;a<e.length;a++){var s=e[a],u=s.row,l=s.col,c=s.value;u!==o&&(o=u,i.push(a)),n.push(l),r.push(c)}return{indices:n,values:r,indptr:i}};var Wu={},Hu={},Zu=pu&&pu.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Yu=pu&&pu.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Zu(arguments[e]));return t},Xu=pu&&pu.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},Ku=pu&&pu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(Hu,"__esModule",{value:!0});var Ju=Ku(Du),Gu=function(t,e,n,r){this.hyperplanes=t,this.offsets=e,this.children=n,this.indices=r};function Qu(t,e,n,r,i){if(void 0===n&&(n=30),e.length>n){var o=function(t,e,n){var r=t[0].length,i=Ju.tauRandInt(e.length,n),o=Ju.tauRandInt(e.length,n);o=(o+=i===o?1:0)%e.length;for(var a=e[i],s=e[o],u=0,l=Ju.zeros(r),c=0;c<l.length;c++)l[c]=t[a][c]-t[s][c],u-=l[c]*(t[a][c]+t[s][c])/2;var f=0,h=0,d=Ju.zeros(e.length);for(c=0;c<e.length;c++){for(var p=u,m=0;m<r;m++)p+=l[m]*t[e[c]][m];0===p?(d[c]=Ju.tauRandInt(2,n),0===d[c]?f+=1:h+=1):p>0?(d[c]=0,f+=1):(d[c]=1,h+=1)}var g=Ju.zeros(f),y=Ju.zeros(h);for(f=0,h=0,c=0;c<d.length;c++)0===d[c]?(g[f]=e[c],f+=1):(y[h]=e[c],h+=1);return{indicesLeft:g,indicesRight:y,hyperplane:l,offset:u}}(t,e,i),a=o.indicesLeft,s=o.indicesRight,u=o.hyperplane,l=o.offset;return{leftChild:Qu(t,a,n,r+1,i),rightChild:Qu(t,s,n,r+1,i),isLeaf:!1,hyperplane:u,offset:l}}return{indices:e,isLeaf:!0}}function tl(t,e,n,r,i,o,a){var s;if(t.isLeaf)return r[o][0]=-a,(s=i[a]).splice.apply(s,Yu([0,t.indices.length],t.indices)),{nodeNum:o,leafNum:a+=1};e[o]=t.hyperplane,n[o]=t.offset,r[o][0]=o+1;var u=o,l=tl(t.leftChild,e,n,r,i,o+1,a);return o=l.nodeNum,a=l.leafNum,r[u][1]=o+1,{nodeNum:(l=tl(t.rightChild,e,n,r,i,o+1,a)).nodeNum,leafNum:l.leafNum}}function el(t){return t.isLeaf?1:1+el(t.leftChild)+el(t.rightChild)}function nl(t){return t.isLeaf?1:nl(t.leftChild)+nl(t.rightChild)}function rl(t,e,n,r){for(var i=e,o=0;o<n.length;o++)i+=t[o]*n[o];return 0===i?Ju.tauRandInt(2,r):i>0?0:1}Hu.FlatTree=Gu,Hu.makeForest=function(t,e,n,r){var i=Math.max(10,e),o=Ju.range(n).map((function(e,n){return function(t,e,n,r){return void 0===e&&(e=30),Qu(t,Ju.range(t.length),e,n,r)}(t,i,n,r)})),a=o.map((function(t){return function(t,e){var n=el(t),r=nl(t),i=Ju.range(n).map((function(){return Ju.zeros(t.hyperplane?t.hyperplane.length:0)})),o=Ju.zeros(n),a=Ju.range(n).map((function(){return[-1,-1]})),s=Ju.range(r).map((function(){return Ju.range(e).map((function(){return-1}))}));return tl(t,i,o,a,s,0,0),new Gu(i,o,a,s)}(t,i)}));return a},Hu.makeLeafArray=function(t){var e,n;if(t.length>0){var r=[];try{for(var i=Xu(t),o=i.next();!o.done;o=i.next()){var a=o.value;r.push.apply(r,Yu(a.indices))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return[[-1]]},Hu.searchFlatTree=function(t,e,n){for(var r=0;e.children[r][0]>0;)r=0===rl(e.hyperplanes[r],e.offsets[r],t,n)?e.children[r][0]:e.children[r][1];var i=-1*e.children[r][0];return e.indices[i]};var il=pu&&pu.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},ol=pu&&pu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(Wu,"__esModule",{value:!0});var al=ol(_u),sl=ol(Ru),ul=ol(Hu),ll=ol(Du);Wu.makeNNDescent=function(t,e){return function(n,r,i,o,a,s,u,l){void 0===o&&(o=10),void 0===a&&(a=50),void 0===s&&(s=.001),void 0===u&&(u=.5),void 0===l&&(l=!0);for(var c=n.length,f=al.makeHeap(n.length,i),h=0;h<n.length;h++)for(var d=al.rejectionSample(i,n.length,e),p=0;p<d.length;p++){var m=t(n[h],n[d[p]]);al.heapPush(f,h,m,d[p],1),al.heapPush(f,d[p],m,h,1)}if(l)for(var g=0;g<r.length;g++)for(h=0;h<r[g].length&&!(r[g][h]<0);h++)for(p=h+1;p<r[g].length&&!(r[g][p]<0);p++)m=t(n[r[g][h]],n[r[g][p]]),al.heapPush(f,r[g][h],m,r[g][p],1),al.heapPush(f,r[g][p],m,r[g][h],1);for(g=0;g<o;g++){var y=al.buildCandidates(f,c,i,a,e),v=0;for(h=0;h<c;h++)for(p=0;p<a;p++){var w=Math.floor(y[0][h][p]);if(!(w<0||ll.tauRand(e)<u))for(var b=0;b<a;b++){var x=Math.floor(y[0][h][b]),_=y[2][h][p],D=y[2][h][b];x<0||!_&&!D||(m=t(n[w],n[x]),v+=al.heapPush(f,w,m,x,1),v+=al.heapPush(f,x,m,w,1))}}if(v<=s*i*n.length)break}return al.deheapSort(f)}},Wu.makeInitializations=function(t){return{initFromRandom:function(e,n,r,i,o){for(var a=0;a<r.length;a++)for(var s=ll.rejectionSample(e,n.length,o),u=0;u<s.length;u++)if(!(s[u]<0)){var l=t(n[s[u]],r[a]);al.heapPush(i,a,l,s[u],1)}},initFromTree:function(e,n,r,i,o){for(var a=0;a<r.length;a++)for(var s=ul.searchFlatTree(r[a],e,o),u=0;u<s.length;u++){if(s[u]<0)return;var l=t(n[s[u]],r[a]);al.heapPush(i,a,l,s[u],1)}}}},Wu.makeInitializedNNSearch=function(t){return function(e,n,r,i){for(var o,a,s=sl.getCSR(n),u=s.indices,l=s.indptr,c=0;c<i.length;c++)for(var f=new Set(r[0][c]);;){var h=al.smallestFlagged(r,c);if(-1===h)break;var d=u.slice(l[h],l[h+1]);try{for(var p=il(d),m=p.next();!m.done;m=p.next()){var g=m.value;if(g!==h&&-1!==g&&!f.has(g)){var y=t(e[g],i[c]);al.uncheckedHeapPush(r,c,y,g,1),f.add(g)}}}catch(t){o={error:t}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}}return r}},Wu.initializeSearch=function(t,e,n,r,i,o,a){var s,u,l=al.makeHeap(n.length,r);if(i(r,e,n,l,a),t)try{for(var c=il(t),f=c.next();!f.done;f=c.next())o(f.value,e,n,l,a)}catch(t){s={error:t}}finally{try{f&&!f.done&&(u=c.return)&&u.call(c)}finally{if(s)throw s.error}}return l};const cl=Object.prototype.toString;function fl(t){return cl.call(t).endsWith("Array]")}function hl(t,e,n){let r=0;const i=n(e);for(let e=0;e<t.x.length;e++)r+=Math.abs(t.y[e]-i(t.x[e]));return r}function dl(t,e,n,r,i){let o=n*r*r,a=Qs.eye(e.length,e.length,o);const s=i(e);let u=new Float64Array(t.x.length);for(let e=0;e<t.x.length;e++)u[e]=s(t.x[e]);let l=function(t,e,n,r,i){const o=n.length,a=t.x.length;let s=new Array(o);for(let u=0;u<o;u++){s[u]=new Array(a);let o=n.slice();o[u]+=r;let l=i(o);for(let n=0;n<a;n++)s[u][n]=e[n]-l(t.x[n])}return new Qs(s)}(t,u,e,r,i),c=function(t,e){const n=t.x.length;let r=new Array(n);for(let i=0;i<n;i++)r[i]=[t.y[i]-e[i]];return new Qs(r)}(t,u),f=function(t,e=!1){return t=tu.checkMatrix(t),e?new iu(t).inverse():function(t,e,n=!1){return t=tu.checkMatrix(t),e=tu.checkMatrix(e),n?new iu(t).solve(e):t.isSquare()?new eu(t).solve(e):new ru(t).solve(e)}(t,Qs.eye(t.rows))}(a.add(l.mmul(l.transpose())));return(e=(e=new Qs([e])).sub(f.mmul(l).mmul(c).mul(r).transpose())).to1DArray()}var pl=function(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var n=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var r=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,r.get?r:{enumerable:!0,get:function(){return t[e]}})})),n}(Object.freeze({__proto__:null,default:function(t,e,n={}){let{maxIterations:r=100,gradientDifference:i=.1,damping:o=0,errorTolerance:a=.01,minValues:s,maxValues:u,initialValues:l}=n;if(o<=0)throw new Error("The damping option must be a positive number");if(!t.x||!t.y)throw new Error("The data parameter must have x and y elements");if(!fl(t.x)||t.x.length<2||!fl(t.y)||t.y.length<2)throw new Error("The data parameter elements must be an array with more than 2 points");if(t.x.length!==t.y.length)throw new Error("The data parameter elements must have the same size");let c=l||new Array(e.length).fill(1),f=c.length;if(u=u||new Array(f).fill(Number.MAX_SAFE_INTEGER),s=s||new Array(f).fill(Number.MIN_SAFE_INTEGER),u.length!==s.length)throw new Error("minValues and maxValues must be the same size");if(!fl(c))throw new Error("initialValues must be an array");let h,d=hl(t,c,e),p=d<=a;for(h=0;h<r&&!p;h++){c=dl(t,c,o,i,e);for(let t=0;t<f;t++)c[t]=Math.min(Math.max(s[t],c[t]),u[t]);if(d=hl(t,c,e),isNaN(d))break;p=d<=a}return{parameterValues:c,parameterError:d,iterations:h}}})),ml=pu&&pu.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))},gl=pu&&pu.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},yl=pu&&pu.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},vl=pu&&pu.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(yl(arguments[e]));return t},wl=pu&&pu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},bl=pu&&pu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xu,"__esModule",{value:!0});var xl=wl(_u),_l=wl(Ru),Dl=wl(Wu),El=wl(Hu),Al=wl(Du),Ml=bl(pl),Sl=1e-5,Cl=.001,kl=function(){function t(t){void 0===t&&(t={});var e=this;this.learningRate=1,this.localConnectivity=1,this.minDist=.1,this.nComponents=2,this.nEpochs=0,this.nNeighbors=15,this.negativeSampleRate=5,this.random=Math.random,this.repulsionStrength=1,this.setOpMixRatio=1,this.spread=1,this.transformQueueSize=4,this.targetMetric="categorical",this.targetWeight=.5,this.targetNNeighbors=this.nNeighbors,this.distanceFn=Fl,this.isInitialized=!1,this.rpForest=[],this.embedding=[],this.optimizationState=new Nl;var n=function(n){void 0!==t[n]&&(e[n]=t[n])};n("distanceFn"),n("learningRate"),n("localConnectivity"),n("minDist"),n("nComponents"),n("nEpochs"),n("nNeighbors"),n("negativeSampleRate"),n("random"),n("repulsionStrength"),n("setOpMixRatio"),n("spread"),n("transformQueueSize")}return t.prototype.fit=function(t){return this.initializeFit(t),this.optimizeLayout(),this.embedding},t.prototype.fitAsync=function(t,e){return void 0===e&&(e=function(){return!0}),ml(this,void 0,void 0,(function(){return gl(this,(function(n){switch(n.label){case 0:return this.initializeFit(t),[4,this.optimizeLayoutAsync(e)];case 1:return n.sent(),[2,this.embedding]}}))}))},t.prototype.setSupervisedProjection=function(t,e){void 0===e&&(e={}),this.Y=t,this.targetMetric=e.targetMetric||this.targetMetric,this.targetWeight=e.targetWeight||this.targetWeight,this.targetNNeighbors=e.targetNNeighbors||this.targetNNeighbors},t.prototype.setPrecomputedKNN=function(t,e){this.knnIndices=t,this.knnDistances=e},t.prototype.initializeFit=function(t){if(t.length<=this.nNeighbors)throw new Error("Not enough data points ("+t.length+") to create nNeighbors: "+this.nNeighbors+".  Add more data points or adjust the configuration.");if(this.X===t&&this.isInitialized)return this.getNEpochs();if(this.X=t,!this.knnIndices&&!this.knnDistances){var e=this.nearestNeighbors(t);this.knnIndices=e.knnIndices,this.knnDistances=e.knnDistances}this.graph=this.fuzzySimplicialSet(t,this.nNeighbors,this.setOpMixRatio),this.makeSearchFns(),this.searchGraph=this.makeSearchGraph(t),this.processGraphForSupervisedProjection();var n=this.initializeSimplicialSetEmbedding(),r=n.head,i=n.tail,o=n.epochsPerSample;return this.optimizationState.head=r,this.optimizationState.tail=i,this.optimizationState.epochsPerSample=o,this.initializeOptimization(),this.prepareForOptimizationLoop(),this.isInitialized=!0,this.getNEpochs()},t.prototype.makeSearchFns=function(){var t=Dl.makeInitializations(this.distanceFn),e=t.initFromTree,n=t.initFromRandom;this.initFromTree=e,this.initFromRandom=n,this.search=Dl.makeInitializedNNSearch(this.distanceFn)},t.prototype.makeSearchGraph=function(t){for(var e=this.knnIndices,n=this.knnDistances,r=[t.length,t.length],i=new _l.SparseMatrix([],[],[],r),o=0;o<e.length;o++)for(var a=e[o],s=n[o],u=0;u<a.length;u++){var l=a[u],c=s[u];c>0&&i.set(o,l,c)}var f=_l.transpose(i);return _l.maximum(i,f)},t.prototype.transform=function(t){var e=this,n=this.X;if(void 0===n||0===n.length)throw new Error("No data has been fit.");var r=Math.floor(this.nNeighbors*this.transformQueueSize);r=Math.min(n.length,r);var i=Dl.initializeSearch(this.rpForest,n,t,r,this.initFromRandom,this.initFromTree,this.random),o=this.search(n,this.searchGraph,i,t),a=xl.deheapSort(o),s=a.indices,u=a.weights;s=s.map((function(t){return t.slice(0,e.nNeighbors)})),u=u.map((function(t){return t.slice(0,e.nNeighbors)}));var l=Math.max(0,this.localConnectivity-1),c=this.smoothKNNDistance(u,this.nNeighbors,l),f=c.sigmas,h=c.rhos,d=this.computeMembershipStrengths(s,u,f,h),p=d.rows,m=d.cols,g=d.vals,y=[t.length,n.length],v=new _l.SparseMatrix(p,m,g,y),w=_l.normalize(v,"l1"),b=_l.getCSR(w),x=t.length,_=Rl(Al.reshape2d(b.indices,x,this.nNeighbors),Al.reshape2d(b.values,x,this.nNeighbors),this.embedding),D=this.nEpochs?this.nEpochs/3:v.nRows<=1e4?100:30,E=v.getValues().reduce((function(t,e){return e>t?e:t}),0);v=v.map((function(t){return t<E/D?0:t})),v=_l.eliminateZeros(v);var A=this.makeEpochsPerSample(v.getValues(),D),M=v.getRows(),S=v.getCols();return this.assignOptimizationStateParameters({headEmbedding:_,tailEmbedding:this.embedding,head:M,tail:S,currentEpoch:0,nEpochs:D,nVertices:v.getDims()[1],epochsPerSample:A}),this.prepareForOptimizationLoop(),this.optimizeLayout()},t.prototype.processGraphForSupervisedProjection=function(){var t=this.Y,e=this.X;if(t){if(t.length!==e.length)throw new Error("Length of X and y must be equal");if("categorical"===this.targetMetric){var n=this.targetWeight<1?1/(1-this.targetWeight)*2.5:1e12;this.graph=this.categoricalSimplicialSetIntersection(this.graph,t,n)}}},t.prototype.step=function(){var t=this.optimizationState.currentEpoch;return t<this.getNEpochs()&&this.optimizeLayoutStep(t),this.optimizationState.currentEpoch},t.prototype.getEmbedding=function(){return this.embedding},t.prototype.nearestNeighbors=function(t){var e,n=this.distanceFn,r=this.nNeighbors,i=Dl.makeNNDescent(n,this.random),o=5+Math.floor(.5==(e=Math.pow(t.length,.5)/20)?0:Math.round(e)),a=Math.max(5,Math.floor(Math.round(function(t){return Math.log(t)/Math.log(2)}(t.length))));this.rpForest=El.makeForest(t,r,o,this.random);var s=i(t,El.makeLeafArray(this.rpForest),r,a);return{knnIndices:s.indices,knnDistances:s.weights}},t.prototype.fuzzySimplicialSet=function(t,e,n){void 0===n&&(n=1);var r=this,i=r.knnIndices,o=void 0===i?[]:i,a=r.knnDistances,s=void 0===a?[]:a,u=r.localConnectivity,l=this.smoothKNNDistance(s,e,u),c=l.sigmas,f=l.rhos,h=this.computeMembershipStrengths(o,s,c,f),d=h.rows,p=h.cols,m=h.vals,g=[t.length,t.length],y=new _l.SparseMatrix(d,p,m,g),v=_l.transpose(y),w=_l.pairwiseMultiply(y,v),b=_l.subtract(_l.add(y,v),w),x=_l.multiplyScalar(b,n),_=_l.multiplyScalar(w,1-n);return _l.add(x,_)},t.prototype.categoricalSimplicialSetIntersection=function(t,e,n,r){void 0===r&&(r=1);var i=zl(t,e,r,n);return Il(i=_l.eliminateZeros(i))},t.prototype.smoothKNNDistance=function(t,e,n,r,i){void 0===n&&(n=1),void 0===r&&(r=64),void 0===i&&(i=1);for(var o=Math.log(e)/Math.log(2)*i,a=Al.zeros(t.length),s=Al.zeros(t.length),u=0;u<t.length;u++){var l=0,c=1/0,f=1,h=t[u],d=h.filter((function(t){return t>0}));if(d.length>=n){var p=Math.floor(n),m=n-p;p>0?(a[u]=d[p-1],m>Sl&&(a[u]+=m*(d[p]-d[p-1]))):a[u]=m*d[0]}else d.length>0&&(a[u]=Al.max(d));for(var g=0;g<r;g++){for(var y=0,v=1;v<t[u].length;v++){var w=t[u][v]-a[u];y+=w>0?Math.exp(-w/f):1}if(Math.abs(y-o)<Sl)break;y>o?f=(l+(c=f))/2:(l=f,c===1/0?f*=2:f=(l+c)/2)}if(s[u]=f,a[u]>0){var b=Al.mean(h);s[u]<Cl*b&&(s[u]=Cl*b)}else{var x=Al.mean(t.map(Al.mean));s[u]<Cl*x&&(s[u]=Cl*x)}}return{sigmas:s,rhos:a}},t.prototype.computeMembershipStrengths=function(t,e,n,r){for(var i=t.length,o=t[0].length,a=Al.zeros(i*o),s=Al.zeros(i*o),u=Al.zeros(i*o),l=0;l<i;l++)for(var c=0;c<o;c++){var f=0;-1!==t[l][c]&&(f=t[l][c]===l?0:e[l][c]-r[l]<=0?1:Math.exp(-(e[l][c]-r[l])/n[l]),a[l*o+c]=l,s[l*o+c]=t[l][c],u[l*o+c]=f)}return{rows:a,cols:s,vals:u}},t.prototype.initializeSimplicialSetEmbedding=function(){for(var t=this,e=this.getNEpochs(),n=this.nComponents,r=this.graph.getValues(),i=0,o=0;o<r.length;o++){var a=r[o];i<r[o]&&(i=a)}var s=this.graph.map((function(t){return t<i/e?0:t}));this.embedding=Al.zeros(s.nRows).map((function(){return Al.zeros(n).map((function(){return 20*Al.tauRand(t.random)-10}))}));var u=[],l=[],c=[],f=s.getAll();for(o=0;o<f.length;o++){var h=f[o];h.value&&(u.push(h.value),c.push(h.row),l.push(h.col))}return{head:l,tail:c,epochsPerSample:this.makeEpochsPerSample(u,e)}},t.prototype.makeEpochsPerSample=function(t,e){var n=Al.filled(t.length,-1),r=Al.max(t),i=t.map((function(t){return t/r*e}));return i.forEach((function(t,r){t>0&&(n[r]=e/i[r])})),n},t.prototype.assignOptimizationStateParameters=function(t){Object.assign(this.optimizationState,t)},t.prototype.prepareForOptimizationLoop=function(){var t=this,e=t.repulsionStrength,n=t.learningRate,r=t.negativeSampleRate,i=this.optimizationState,o=i.epochsPerSample,a=i.headEmbedding,s=i.tailEmbedding,u=a[0].length,l=a.length===s.length,c=o.map((function(t){return t/r})),f=vl(c),h=vl(o);this.assignOptimizationStateParameters({epochOfNextSample:h,epochOfNextNegativeSample:f,epochsPerNegativeSample:c,moveOther:l,initialAlpha:n,alpha:n,gamma:e,dim:u})},t.prototype.initializeOptimization=function(){var t=this.embedding,e=this.embedding,n=this.optimizationState,r=n.head,i=n.tail,o=n.epochsPerSample,a=this.getNEpochs(),s=this.graph.nCols,u=Ol(this.spread,this.minDist),l=u.a,c=u.b;this.assignOptimizationStateParameters({headEmbedding:t,tailEmbedding:e,head:r,tail:i,epochsPerSample:o,a:l,b:c,nEpochs:a,nVertices:s})},t.prototype.optimizeLayoutStep=function(t){for(var e=this.optimizationState,n=e.head,r=e.tail,i=e.headEmbedding,o=e.tailEmbedding,a=e.epochsPerSample,s=e.epochOfNextSample,u=e.epochOfNextNegativeSample,l=e.epochsPerNegativeSample,c=e.moveOther,f=e.initialAlpha,h=e.alpha,d=e.gamma,p=e.a,m=e.b,g=e.dim,y=e.nEpochs,v=e.nVertices,w=0;w<a.length;w++)if(!(s[w]>t)){var b=n[w],x=r[w],_=i[b],D=o[x],E=Bl(_,D),A=0;E>0&&(A=-2*p*m*Math.pow(E,m-1),A/=p*Math.pow(E,m)+1);for(var M=0;M<g;M++){var S=Tl(A*(_[M]-D[M]),4);_[M]+=S*h,c&&(D[M]+=-S*h)}s[w]+=a[w];for(var C=Math.floor((t-u[w])/l[w]),k=0;k<C;k++){var F=Al.tauRandInt(v,this.random),N=o[F],T=Bl(_,N),B=0;if(T>0)B=2*d*m,B/=(.001+T)*(p*Math.pow(T,m)+1);else if(b===F)continue;for(M=0;M<g;M++)S=4,B>0&&(S=Tl(B*(_[M]-N[M]),4)),_[M]+=S*h}u[w]+=C*l[w]}return e.alpha=f*(1-t/y),e.currentEpoch+=1,i},t.prototype.optimizeLayoutAsync=function(t){var e=this;return void 0===t&&(t=function(){return!0}),new Promise((function(n,r){var i=function(){return ml(e,void 0,void 0,(function(){var e,o,a,s,u,l;return gl(this,(function(c){try{if(e=this.optimizationState,o=e.nEpochs,a=e.currentEpoch,this.embedding=this.optimizeLayoutStep(a),s=this.optimizationState.currentEpoch,u=!1===t(s),l=s===o,u||l)return[2,n(l)];setTimeout((function(){return i()}),0)}catch(t){r(t)}return[2]}))}))};setTimeout((function(){return i()}),0)}))},t.prototype.optimizeLayout=function(t){void 0===t&&(t=function(){return!0});for(var e=!1,n=[];!e;){var r=this.optimizationState,i=r.nEpochs,o=r.currentEpoch;n=this.optimizeLayoutStep(o);var a=this.optimizationState.currentEpoch,s=!1===t(a);e=a===i||s}return n},t.prototype.getNEpochs=function(){var t=this.graph;if(this.nEpochs>0)return this.nEpochs;var e=t.nRows;return e<=2500?500:e<=5e3?400:e<=7500?300:200},t}();function Fl(t,e){for(var n=0,r=0;r<t.length;r++)n+=Math.pow(t[r]-e[r],2);return Math.sqrt(n)}xu.UMAP=kl,xu.euclidean=Fl,xu.cosine=function(t,e){for(var n=0,r=0,i=0,o=0;o<t.length;o++)n+=t[o]*e[o],r+=Math.pow(t[o],2),i+=Math.pow(e[o],2);return 0===r&&0===i?0:0===r||0===i?1:1-n/Math.sqrt(r*i)};var Nl=function(){this.currentEpoch=0,this.headEmbedding=[],this.tailEmbedding=[],this.head=[],this.tail=[],this.epochsPerSample=[],this.epochOfNextSample=[],this.epochOfNextNegativeSample=[],this.epochsPerNegativeSample=[],this.moveOther=!0,this.initialAlpha=1,this.alpha=1,this.gamma=1,this.a=1.5769434603113077,this.b=.8950608779109733,this.dim=2,this.nEpochs=500,this.nVertices=0};function Tl(t,e){return t>e?e:t<-e?-e:t}function Bl(t,e){for(var n=0,r=0;r<t.length;r++)n+=Math.pow(t[r]-e[r],2);return n}function Ol(t,e){var n=Al.linear(0,3*t,300).map((function(t){return t<e?1:t})),r=Al.zeros(n.length).map((function(r,i){return n[i]>=e?Math.exp(-(n[i]-e)/t):r})),i={x:n,y:r},o=Ml.default(i,(function(t){var e=yl(t,2),n=e[0],r=e[1];return function(t){return 1/(1+n*Math.pow(t,2*r))}}),{damping:1.5,initialValues:[.5,.5],gradientDifference:.1,maxIterations:100,errorTolerance:.01}).parameterValues,a=yl(o,2);return{a:a[0],b:a[1]}}function zl(t,e,n,r){return void 0===n&&(n=1),void 0===r&&(r=5),t.map((function(t,i,o){return-1===e[i]||-1===e[o]?t*Math.exp(-n):e[i]!==e[o]?t*Math.exp(-r):t}))}function Il(t){t=_l.normalize(t,"max");var e=_l.transpose(t),n=_l.pairwiseMultiply(e,t);return t=_l.add(t,_l.subtract(e,n)),_l.eliminateZeros(t)}function Rl(t,e,n){for(var r=Al.zeros(t.length).map((function(t){return Al.zeros(n[0].length)})),i=0;i<t.length;i++)for(var o=0;o<t[0].length;o++)for(var a=0;a<n[0].length;a++){var s=t[i][o];r[i][a]+=e[i][o]*n[s][a]}return r}xu.findABParams=Ol,xu.fastIntersection=zl,xu.resetLocalConnectivity=Il,xu.initTransform=Rl,Object.defineProperty(bu,"__esModule",{value:!0});var Pl=xu,$l=bu.UMAP=Pl.UMAP;function jl(){return jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jl.apply(this,arguments)}var Ll={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function Ul(t){return"number"==typeof t}function ql(t){return!(!t||"object"!=typeof t||"function"!=typeof t.constructor)&&(!0===t.isBigNumber&&"object"==typeof t.constructor.prototype&&!0===t.constructor.prototype.isBigNumber||"function"==typeof t.constructor.isDecimal&&!0===t.constructor.isDecimal(t))}function Vl(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isComplex||!1}function Wl(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isFraction||!1}function Hl(t){return t&&!0===t.constructor.prototype.isUnit||!1}function Zl(t){return"string"==typeof t}var Yl=Array.isArray;function Xl(t){return t&&!0===t.constructor.prototype.isMatrix||!1}function Kl(t){return Array.isArray(t)||Xl(t)}function Jl(t){return t&&t.isDenseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function Gl(t){return t&&t.isSparseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function Ql(t){return t&&!0===t.constructor.prototype.isRange||!1}function tc(t){return t&&!0===t.constructor.prototype.isIndex||!1}function ec(t){return"boolean"==typeof t}function nc(t){return t&&!0===t.constructor.prototype.isResultSet||!1}function rc(t){return t&&!0===t.constructor.prototype.isHelp||!1}function ic(t){return"function"==typeof t}function oc(t){return t instanceof Date}function ac(t){return t instanceof RegExp}function sc(t){return!(!t||"object"!=typeof t||t.constructor!==Object||Vl(t)||Wl(t))}function uc(t){return null===t}function lc(t){return void 0===t}function cc(t){return t&&!0===t.isAccessorNode&&!0===t.constructor.prototype.isNode||!1}function fc(t){return t&&!0===t.isArrayNode&&!0===t.constructor.prototype.isNode||!1}function hc(t){return t&&!0===t.isAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function dc(t){return t&&!0===t.isBlockNode&&!0===t.constructor.prototype.isNode||!1}function pc(t){return t&&!0===t.isConditionalNode&&!0===t.constructor.prototype.isNode||!1}function mc(t){return t&&!0===t.isConstantNode&&!0===t.constructor.prototype.isNode||!1}function gc(t){return t&&!0===t.isFunctionAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function yc(t){return t&&!0===t.isFunctionNode&&!0===t.constructor.prototype.isNode||!1}function vc(t){return t&&!0===t.isIndexNode&&!0===t.constructor.prototype.isNode||!1}function wc(t){return t&&!0===t.isNode&&!0===t.constructor.prototype.isNode||!1}function bc(t){return t&&!0===t.isObjectNode&&!0===t.constructor.prototype.isNode||!1}function xc(t){return t&&!0===t.isOperatorNode&&!0===t.constructor.prototype.isNode||!1}function _c(t){return t&&!0===t.isParenthesisNode&&!0===t.constructor.prototype.isNode||!1}function Dc(t){return t&&!0===t.isRangeNode&&!0===t.constructor.prototype.isNode||!1}function Ec(t){return t&&!0===t.isRelationalNode&&!0===t.constructor.prototype.isNode||!1}function Ac(t){return t&&!0===t.isSymbolNode&&!0===t.constructor.prototype.isNode||!1}function Mc(t){return t&&!0===t.constructor.prototype.isChain||!1}function Sc(t){var e=typeof t;return"object"===e?null===t?"null":ql(t)?"BigNumber":t.constructor&&t.constructor.name?t.constructor.name:"Object":e}function Cc(t){var e=typeof t;if("number"===e||"string"===e||"boolean"===e||null==t)return t;if("function"==typeof t.clone)return t.clone();if(Array.isArray(t))return t.map((function(t){return Cc(t)}));if(t instanceof Date)return new Date(t.valueOf());if(ql(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return function(t,e){var n={};for(var r in t)Fc(t,r)&&(n[r]=e(t[r]));return n}(t,Cc)}function kc(t,e){var n,r,i;if(Array.isArray(t)){if(!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(r=0,i=t.length;r<i;r++)if(!kc(t[r],e[r]))return!1;return!0}if("function"==typeof t)return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(n in t)if(!(n in e)||!kc(t[n],e[n]))return!1;for(n in e)if(!(n in t))return!1;return!0}return t===e}function Fc(t,e){return t&&Object.hasOwnProperty.call(t,e)}var Nc=function(t){if(t)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(Ll)};function Tc(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Bc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bc(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Bc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oc(t){return Oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(t)}function zc(){return!0}function Ic(){return!1}function Rc(){}jl(Nc,Ll,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","Fraction"]});var Pc="Argument is not a typed-function.",$c=function t(){function e(t){return"object"===Oc(t)&&null!==t&&t.constructor===Object}var n,r,i=[{name:"number",test:function(t){return"number"==typeof t}},{name:"string",test:function(t){return"string"==typeof t}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"Function",test:function(t){return"function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],o={name:"any",test:zc,isAny:!0},a=0,s={createCount:0};function u(t){var e=n.get(t);if(e)return e;var i,o,a='Unknown type "'+t+'"',s=t.toLowerCase(),u=Tc(r);try{for(u.s();!(o=u.n()).done;)if((i=o.value).toLowerCase()===s){a+='. Did you mean "'+i+'" ?';break}}catch(t){u.e(t)}finally{u.f()}throw new TypeError(a)}function l(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any",i=e?u(e).index:r.length,o=[],a=0;a<t.length;++a){if(!t[a]||"string"!=typeof t[a].name||"function"!=typeof t[a].test)throw new TypeError("Object with properties {name: string, test: function} expected");var s=t[a].name;if(n.has(s))throw new TypeError('Duplicate type name "'+s+'"');o.push(s),n.set(s,{name:s,test:t[a].test,isAny:t[a].isAny,index:i+a,conversionsTo:[]})}var l=r.slice(i);r=r.slice(0,i).concat(o).concat(l);for(var c=i+o.length;c<r.length;++c)n.get(r[c]).index=c}function c(){n=new Map,r=[],a=0,l([o],!1)}function f(t){var e=r.filter((function(e){var r=n.get(e);return!r.isAny&&r.test(t)}));return e.length?e:["any"]}function h(t){return t&&"function"==typeof t&&"_typedFunctionData"in t}function d(t,e,n){if(!h(t))throw new TypeError(Pc);var r=n&&n.exact,i=v(Array.isArray(e)?e.join(","):e),o=p(i);if(!r||o in t.signatures){var a=t._typedFunctionData.signatureMap.get(o);if(a)return a}var s,u,l,c=i.length;if(r)for(u in s=[],t.signatures)s.push(t._typedFunctionData.signatureMap.get(u));else s=t._typedFunctionData.signatures;for(var f=0;f<c;++f){var d,m=i[f],g=[],w=void 0,b=Tc(s);try{for(b.s();!(d=b.n()).done;){var x=_((w=d.value).params,f);if(x&&(!m.restParam||x.restParam)){if(!x.hasAny&&"continue"===function(){var t=y(x);if(m.types.some((function(e){return!t.has(e.name)})))return"continue"}())continue;g.push(w)}}}catch(t){b.e(t)}finally{b.f()}if(0===(s=g).length)break}var D,E=Tc(s);try{for(E.s();!(D=E.n()).done;)if((l=D.value).params.length<=c)return l}catch(t){E.e(t)}finally{E.f()}throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+p(i,", ")+"))")}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return t.map((function(t){return t.name})).join(e)}function m(t){var e=0===t.indexOf("..."),n=(e?t.length>3?t.slice(3):"any":t).split("|").map((function(t){return u(t.trim())})),r=!1,i=e?"...":"";return{types:n.map((function(t){return r=t.isAny||r,i+=t.name+"|",{name:t.name,typeIndex:t.index,test:t.test,isAny:t.isAny,conversion:null,conversionIndex:-1}})),name:i.slice(0,-1),hasAny:r,hasConversion:!1,restParam:e}}function g(t){var e=function(t){if(0===t.length)return[];var e=t.map(u);t.length>1&&e.sort((function(t,e){return t.index-e.index}));var n=e[0].conversionsTo;if(1===t.length)return n;n=n.concat([]);for(var r=new Set(t),i=1;i<e.length;++i){var o,a=void 0,s=Tc(e[i].conversionsTo);try{for(s.s();!(o=s.n()).done;)a=o.value,r.has(a.from)||(n.push(a),r.add(a.from))}catch(t){s.e(t)}finally{s.f()}}return n}(t.types.map((function(t){return t.name}))),n=t.hasAny,r=t.name,i=e.map((function(t){var e=u(t.from);return n=e.isAny||n,r+="|"+t.from,{name:t.from,typeIndex:e.index,test:e.test,isAny:e.isAny,conversion:t,conversionIndex:t.index}}));return{types:t.types.concat(i),name:r,hasAny:n,hasConversion:i.length>0,restParam:t.restParam}}function y(t){return t.typeSet||(t.typeSet=new Set,t.types.forEach((function(e){return t.typeSet.add(e.name)}))),t.typeSet}function v(t){var e=[];if("string"!=typeof t)throw new TypeError("Signatures must be strings");var n=t.trim();if(""===n)return e;for(var r=n.split(","),i=0;i<r.length;++i){var o=m(r[i].trim());if(o.restParam&&i!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+r[i]+'": only allowed for the last parameter');if(0===o.types.length)return null;e.push(o)}return e}function w(t){var e=$(t);return!!e&&e.restParam}function b(t){if(t&&0!==t.types.length){if(1===t.types.length)return u(t.types[0].name).test;if(2===t.types.length){var e=u(t.types[0].name).test,n=u(t.types[1].name).test;return function(t){return e(t)||n(t)}}var r=t.types.map((function(t){return u(t.name).test}));return function(t){for(var e=0;e<r.length;e++)if(r[e](t))return!0;return!1}}return zc}function x(t){var e,n,r;if(w(t)){var i=(e=P(t).map(b)).length,o=b($(t));return function(t){for(var n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return function(t){for(var e=i;e<t.length;e++)if(!o(t[e]))return!1;return!0}(t)&&t.length>=i+1}}return 0===t.length?function(t){return 0===t.length}:1===t.length?(n=b(t[0]),function(t){return n(t[0])&&1===t.length}):2===t.length?(n=b(t[0]),r=b(t[1]),function(t){return n(t[0])&&r(t[1])&&2===t.length}):(e=t.map(b),function(t){for(var n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return t.length===e.length})}function _(t,e){return e<t.length?t[e]:w(t)?$(t):null}function D(t,e){var n=_(t,e);return n?y(n):new Set}function E(t){return null===t.conversion||void 0===t.conversion}function A(t,e){var n=new Set;return t.forEach((function(t){var r,i,o=Tc(D(t.params,e));try{for(o.s();!(i=o.n()).done;)r=i.value,n.add(r)}catch(t){o.e(t)}finally{o.f()}})),n.has("any")?["any"]:Array.from(n)}function M(t,e,n){var r,i,o,a=t||"unnamed",s=n,u=function(){var t=[];if(s.forEach((function(n){var r=b(_(n.params,o));(o<n.params.length||w(n.params))&&r(e[o])&&t.push(n)})),0===t.length){if((i=A(s,o)).length>0){var n=f(e[o]);return(r=new TypeError("Unexpected type of argument in function "+a+" (expected: "+i.join(" or ")+", actual: "+n.join(" | ")+", index: "+o+")")).data={category:"wrongType",fn:a,index:o,actual:n,expected:i},{v:r}}}else s=t};for(o=0;o<e.length;o++){var l=u();if("object"===Oc(l))return l.v}var c=s.map((function(t){return w(t.params)?1/0:t.params.length}));if(e.length<Math.min.apply(null,c))return i=A(s,o),(r=new TypeError("Too few arguments in function "+a+" (expected: "+i.join(" or ")+", index: "+e.length+")")).data={category:"tooFewArgs",fn:a,index:e.length,expected:i},r;var h=Math.max.apply(null,c);if(e.length>h)return(r=new TypeError("Too many arguments in function "+a+" (expected: "+h+", actual: "+e.length+")")).data={category:"tooManyArgs",fn:a,index:e.length,expectedLength:h},r;for(var d=[],p=0;p<e.length;++p)d.push(f(e[p]).join("|"));return(r=new TypeError('Arguments of type "'+d.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:d},r}function S(t){for(var e=r.length+1,n=0;n<t.types.length;n++)E(t.types[n])&&(e=Math.min(e,t.types[n].typeIndex));return e}function C(t){for(var e=a+1,n=0;n<t.types.length;n++)E(t.types[n])||(e=Math.min(e,t.types[n].conversionIndex));return e}function k(t,e){if(t.hasAny){if(!e.hasAny)return 1}else if(e.hasAny)return-1;if(t.restParam){if(!e.restParam)return 1}else if(e.restParam)return-1;if(t.hasConversion){if(!e.hasConversion)return 1}else if(e.hasConversion)return-1;var n=S(t)-S(e);if(n<0)return-1;if(n>0)return 1;var r=C(t)-C(e);return r<0?-1:r>0?1:0}function F(t,e){var n=t.params,r=e.params,i=$(n),o=$(r),a=w(n),s=w(r);if(a&&i.hasAny){if(!s||!o.hasAny)return 1}else if(s&&o.hasAny)return-1;var u,l,c=0,f=0,h=Tc(n);try{for(h.s();!(l=h.n()).done;)(u=l.value).hasAny&&++c,u.hasConversion&&++f}catch(t){h.e(t)}finally{h.f()}var d,p=0,m=0,g=Tc(r);try{for(g.s();!(d=g.n()).done;)(u=d.value).hasAny&&++p,u.hasConversion&&++m}catch(t){g.e(t)}finally{g.f()}if(c!==p)return c-p;if(a&&i.hasConversion){if(!s||!o.hasConversion)return 1}else if(s&&o.hasConversion)return-1;if(f!==m)return f-m;if(a){if(!s)return 1}else if(s)return-1;var y=(n.length-r.length)*(a?-1:1);if(0!==y)return y;for(var v,b=[],x=0,_=0;_<n.length;++_){var D=k(n[_],r[_]);b.push(D),x+=D}if(0!==x)return x;for(var E=0,A=b;E<A.length;E++)if(0!==(v=A[E]))return v;return 0}function N(t,e){var n=e;if(t.some((function(t){return t.hasConversion}))){var r=w(t),i=t.map(T);n=function(){for(var t=[],n=r?arguments.length-1:arguments.length,o=0;o<n;o++)t[o]=i[o](arguments[o]);return r&&(t[n]=arguments[n].map(i[n])),e.apply(this,t)}}var o=n;if(w(t)){var a=t.length-1;o=function(){return n.apply(this,j(arguments,0,a).concat([j(arguments,a)]))}}return o}function T(t){var e,n,r,i,o=[],a=[];switch(t.types.forEach((function(t){t.conversion&&(o.push(u(t.conversion.from).test),a.push(t.conversion.convert))})),a.length){case 0:return function(t){return t};case 1:return e=o[0],r=a[0],function(t){return e(t)?r(t):t};case 2:return e=o[0],n=o[1],r=a[0],i=a[1],function(t){return e(t)?r(t):n(t)?i(t):t};default:return function(t){for(var e=0;e<a.length;e++)if(o[e](t))return a[e](t);return t}}}function B(t){return function t(e,n,r){if(n<e.length){var i=e[n],o=[];if(i.restParam){var a=i.types.filter(E);a.length<i.types.length&&o.push({types:a,name:"..."+a.map((function(t){return t.name})).join("|"),hasAny:a.some((function(t){return t.isAny})),hasConversion:!1,restParam:!0}),o.push(i)}else o=i.types.map((function(t){return{types:[t],name:t.name,hasAny:t.isAny,hasConversion:t.conversion,restParam:!1}}));return s=o,u=function(i){return t(e,n+1,r.concat([i]))},Array.prototype.concat.apply([],s.map(u))}return[r];var s,u}(t,0,[])}function O(t,e,n){var r,i,o=[],a=Tc(t);try{for(a.s();!(i=a.n()).done;){var s=n[r=i.value];if("number"!=typeof s)throw new TypeError('No definition for referenced signature "'+r+'"');if("function"!=typeof(s=e[s]))return!1;o.push(s)}}catch(t){a.e(t)}finally{a.f()}return o}function z(t,e,n){for(var r=function(t){return t.map((function(t){return V(t)?U(t.referToSelf.callback):q(t)?L(t.referTo.references,t.referTo.callback):t}))}(t),i=new Array(r.length).fill(!1),o=!0;o;){o=!1;for(var a=!0,s=0;s<r.length;++s)if(!i[s]){var u=r[s];if(V(u))r[s]=u.referToSelf.callback(n),r[s].referToSelf=u.referToSelf,i[s]=!0,a=!1;else if(q(u)){var l=O(u.referTo.references,r,e);l?(r[s]=u.referTo.callback.apply(this,l),r[s].referTo=u.referTo,i[s]=!0,a=!1):o=!0}}if(a&&o)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return r}function I(t,e){if(s.createCount++,0===Object.keys(e).length)throw new SyntaxError("No signatures provided");s.warnAgainstDeprecatedThis&&function(t){var e=/\bthis(\(|\.signatures\b)/;Object.keys(t).forEach((function(n){var r=t[n];if(e.test(r.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")}))}(e);var n,r=[],i=[],o={},a=[],u=function(){if(!Object.prototype.hasOwnProperty.call(e,n))return"continue";var t=v(n);if(!t)return"continue";r.forEach((function(e){if(function(t,e){for(var n=Math.max(t.length,e.length),r=0;r<n;r++){var i,o=D(t,r),a=!1,s=void 0,u=Tc(D(e,r));try{for(u.s();!(i=u.n()).done;)if(s=i.value,o.has(s)){a=!0;break}}catch(t){u.e(t)}finally{u.f()}if(!a)return!1}var l=t.length,c=e.length,f=w(t),h=w(e);return f?h?l===c:c>=l:h?l>=c:l===c}(e,t))throw new TypeError('Conflicting signatures "'+p(e)+'" and "'+p(t)+'".')})),r.push(t);var s=i.length;i.push(e[n]);var u,l=void 0,c=Tc(B(t.map(g)));try{for(c.s();!(u=c.n()).done;){var f=p(l=u.value);a.push({params:l,name:f,fn:s}),l.every((function(t){return!t.hasConversion}))&&(o[f]=s)}}catch(t){c.e(t)}finally{c.f()}};for(n in e)u();a.sort(F);var l,c=z(i,o,ct);for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(o[l]=c[o[l]]);for(var f=[],h=new Map,d=0,m=a;d<m.length;d++)l=m[d],h.has(l.name)||(l.fn=c[l.fn],f.push(l),h.set(l.name,l));for(var y=f[0]&&f[0].params.length<=2&&!w(f[0].params),_=f[1]&&f[1].params.length<=2&&!w(f[1].params),E=f[2]&&f[2].params.length<=2&&!w(f[2].params),A=f[3]&&f[3].params.length<=2&&!w(f[3].params),M=f[4]&&f[4].params.length<=2&&!w(f[4].params),S=f[5]&&f[5].params.length<=2&&!w(f[5].params),C=y&&_&&E&&A&&M&&S,k=0;k<f.length;++k)f[k].test=x(f[k].params);for(var T=y?b(f[0].params[0]):Ic,O=_?b(f[1].params[0]):Ic,I=E?b(f[2].params[0]):Ic,R=A?b(f[3].params[0]):Ic,P=M?b(f[4].params[0]):Ic,$=S?b(f[5].params[0]):Ic,j=y?b(f[0].params[1]):Ic,L=_?b(f[1].params[1]):Ic,U=E?b(f[2].params[1]):Ic,q=A?b(f[3].params[1]):Ic,V=M?b(f[4].params[1]):Ic,W=S?b(f[5].params[1]):Ic,H=0;H<f.length;++H)f[H].implementation=N(f[H].params,f[H].fn);var Z=y?f[0].implementation:Rc,Y=_?f[1].implementation:Rc,X=E?f[2].implementation:Rc,K=A?f[3].implementation:Rc,J=M?f[4].implementation:Rc,G=S?f[5].implementation:Rc,Q=y?f[0].params.length:-1,tt=_?f[1].params.length:-1,et=E?f[2].params.length:-1,nt=A?f[3].params.length:-1,rt=M?f[4].params.length:-1,it=S?f[5].params.length:-1,ot=C?6:0,at=f.length,st=f.map((function(t){return t.test})),ut=f.map((function(t){return t.implementation})),lt=function(){for(var e=ot;e<at;e++)if(st[e](arguments))return ut[e].apply(this,arguments);return s.onMismatch(t,arguments,f)};function ct(t,e){return arguments.length===Q&&T(t)&&j(e)?Z.apply(this,arguments):arguments.length===tt&&O(t)&&L(e)?Y.apply(this,arguments):arguments.length===et&&I(t)&&U(e)?X.apply(this,arguments):arguments.length===nt&&R(t)&&q(e)?K.apply(this,arguments):arguments.length===rt&&P(t)&&V(e)?J.apply(this,arguments):arguments.length===it&&$(t)&&W(e)?G.apply(this,arguments):lt.apply(this,arguments)}try{Object.defineProperty(ct,"name",{value:t})}catch(t){}return ct.signatures=o,ct._typedFunctionData={signatures:f,signatureMap:h},ct}function R(t,e,n){throw M(t,e,n)}function P(t){return j(t,0,t.length-1)}function $(t){return t[t.length-1]}function j(t,e,n){return Array.prototype.slice.call(t,e,n)}function L(t,e){return{referTo:{references:t,callback:e}}}function U(t){if("function"!=typeof t)throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:t}}}function q(t){return t&&"object"===Oc(t.referTo)&&Array.isArray(t.referTo.references)&&"function"==typeof t.referTo.callback}function V(t){return t&&"object"===Oc(t.referToSelf)&&"function"==typeof t.referToSelf.callback}function W(t,e){if(!t)return e;if(e&&e!==t){var n=new Error("Function names do not match (expected: "+t+", actual: "+e+")");throw n.data={actual:e,expected:t},n}return t}function H(t){var e;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(h(t[n])||"string"==typeof t[n].signature)&&(e=W(e,t[n].name));return e}function Z(t,e){var n;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(n in t&&e[n]!==t[n]){var r=new Error('Signature "'+n+'" is defined twice');throw r.data={signature:n,sourceFunction:e[n],destFunction:t[n]},r}t[n]=e[n]}}c(),l(i);var Y=s;function X(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(t.to===t.from)throw new SyntaxError('Illegal to define conversion from "'+t.from+'" to itself.')}return s=function(t){for(var n="string"==typeof t,r=n?t:"",i={},o=n?1:0;o<arguments.length;++o){var a=arguments[o],s={},u=void 0;if("function"==typeof a?(u=a.name,"string"==typeof a.signature?s[a.signature]=a:h(a)&&(s=a.signatures)):e(a)&&(s=a,n||(u=H(a))),0===Object.keys(s).length){var l=new TypeError("Argument to 'typed' at index "+o+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw l.data={index:o,argument:a},l}n||(r=W(r,u)),Z(i,s)}return I(r||"",i)},s.create=t,s.createCount=Y.createCount,s.onMismatch=R,s.throwMismatchError=R,s.createError=M,s.clear=c,s.clearConversions=function(){var t,e,i=Tc(r);try{for(i.s();!(e=i.n()).done;)t=e.value,n.get(t).conversionsTo=[]}catch(t){i.e(t)}finally{i.f()}a=0},s.addTypes=l,s._findType=u,s.referTo=function(){var t=P(arguments).map((function(t){return p(v(t))})),e=$(arguments);if("function"!=typeof e)throw new TypeError("Callback function expected as last argument");return L(t,e)},s.referToSelf=U,s.convert=function(t,e){var n=u(e);if(n.test(t))return t;var r=n.conversionsTo;if(0===r.length)throw new Error("There are no conversions to "+e+" defined.");for(var i=0;i<r.length;i++)if(u(r[i].from).test(t))return r[i].convert(t);throw new Error("Cannot convert "+t+" to "+e)},s.findSignature=d,s.find=function(t,e,n){return d(t,e,n).implementation},s.isTypedFunction=h,s.warnAgainstDeprecatedThis=!0,s.addType=function(t,e){var r="any";!1!==e&&n.has("Object")&&(r="Object"),s.addTypes([t],r)},s.addConversion=function(t){X(t);var e=u(t.to);if(!e.conversionsTo.every((function(e){return e.from!==t.from})))throw new Error('There is already a conversion from "'+t.from+'" to "'+e.name+'"');e.conversionsTo.push({from:t.from,convert:t.convert,index:a++})},s.addConversions=function(t){t.forEach(s.addConversion)},s.removeConversion=function(t){X(t);var e=u(t.to),n=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n]}(e.conversionsTo,(function(e){return e.from===t.from}));if(!n)throw new Error("Attempt to remove nonexistent conversion from "+t.from+" to "+t.to);if(n.convert!==t.convert)throw new Error("Conversion to remove does not match existing conversion");var r=e.conversionsTo.indexOf(n);e.conversionsTo.splice(r,1)},s.resolve=function(t,e){if(!h(t))throw new TypeError(Pc);for(var n=t._typedFunctionData.signatures,r=0;r<n.length;++r)if(n[r].test(e))return n[r];return null},s}();function jc(t){return"boolean"==typeof t||!!isFinite(t)&&t===Math.round(t)}function Lc(t,e,n){var r={2:"0b",8:"0o",16:"0x"}[e],i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!jc(n))throw new Error("size must be an integer");if(t>2**(n-1)-1||t<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!jc(t))throw new Error("Value must be an integer");t<0&&(t+=2**n),i="i".concat(n)}var o="";return t<0&&(t=-t,o="-"),"".concat(o).concat(r).concat(t.toString(e)).concat(i)}function Uc(t,e){if("function"==typeof e)return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var n,r,i="auto";if(e&&(e.notation&&(i=e.notation),Ul(e)?n=e:Ul(e.precision)&&(n=e.precision),e.wordSize&&"number"!=typeof(r=e.wordSize)))throw new Error('Option "wordSize" must be a number');switch(i){case"fixed":return function(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=qc(t),r="number"==typeof e?Wc(n,n.exponent+1+e):n,i=r.coefficients,o=r.exponent+1,a=o+(e||0);return i.length<a&&(i=i.concat(Hc(a-i.length))),o<0&&(i=Hc(1-o).concat(i),o=1),o<i.length&&i.splice(o,0,0===o?"0.":"."),r.sign+i.join("")}(t,n);case"exponential":return Vc(t,n);case"engineering":return function(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=Wc(qc(t),e),r=n.exponent,i=n.coefficients,o=r%3==0?r:r<0?r-3-r%3:r-r%3;if(Ul(e))for(;e>i.length||r-o+1>i.length;)i.push(0);else for(var a=Math.abs(r-o)-(i.length-1),s=0;s<a;s++)i.push(0);for(var u=Math.abs(r-o),l=1;u>0;)l++,u--;var c=i.slice(l).join(""),f=Ul(e)&&c.length||c.match(/[1-9]/)?"."+c:"",h=i.slice(0,l).join("")+f+"e"+(r>=0?"+":"")+o.toString();return n.sign+h}(t,n);case"bin":return Lc(t,2,r);case"oct":return Lc(t,8,r);case"hex":return Lc(t,16,r);case"auto":return function(t,e,n){if(isNaN(t)||!isFinite(t))return String(t);var r=n&&void 0!==n.lowerExp?n.lowerExp:-3,i=n&&void 0!==n.upperExp?n.upperExp:5,o=qc(t),a=e?Wc(o,e):o;if(a.exponent<r||a.exponent>=i)return Vc(t,e);var s=a.coefficients,u=a.exponent;s.length<e&&(s=s.concat(Hc(e-s.length))),s=s.concat(Hc(u-s.length+1+(s.length<e?e-s.length:0)));var l=u>0?u:0;return l<(s=Hc(-u).concat(s)).length-1&&s.splice(l+1,0,"."),a.sign+s.join("")}(t,n,e&&e).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function qc(t){var e=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var n=e[1],r=e[2],i=parseFloat(e[4]||"0"),o=r.indexOf(".");i+=-1!==o?o-1:r.length-1;var a=r.replace(".","").replace(/^0*/,(function(t){return i-=t.length,""})).replace(/0*$/,"").split("").map((function(t){return parseInt(t)}));return 0===a.length&&(a.push(0),i++),{sign:n,coefficients:a,exponent:i}}function Vc(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=qc(t),r=e?Wc(n,e):n,i=r.coefficients,o=r.exponent;i.length<e&&(i=i.concat(Hc(e-i.length)));var a=i.shift();return r.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(o>=0?"+":"")+o}function Wc(t,e){for(var n={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},r=n.coefficients;e<=0;)r.unshift(0),n.exponent++,e++;if(r.length>e&&r.splice(e,r.length-e)[0]>=5){var i=e-1;for(r[i]++;10===r[i];)r.pop(),0===i&&(r.unshift(0),n.exponent++,i++),r[--i]++}return n}function Hc(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}var Zc=Number.EPSILON||2220446049250313e-31;function Yc(t,e,n){if(null==n)return t===e;if(t===e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var r=Math.abs(t-e);return r<Zc||r<=Math.max(Math.abs(t),Math.abs(e))*n}return!1}function Xc(t,e,n){var r=new t.constructor(2),i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!jc(n))throw new Error("size must be an integer");if(t.greaterThan(r.pow(n-1).sub(1))||t.lessThan(r.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(r.pow(n))),i="i".concat(n)}switch(e){case 2:return"".concat(t.toBinary()).concat(i);case 8:return"".concat(t.toOctal()).concat(i);case 16:return"".concat(t.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(e," not supported "))}}function Kc(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()}function Jc(t,e){var n=function(t,e){return"number"==typeof t?Uc(t,e):ql(t)?function(t,e){if("function"==typeof e)return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var n,r,i="auto";if(void 0!==e&&(e.notation&&(i=e.notation),"number"==typeof e?n=e:void 0!==e.precision&&(n=e.precision),e.wordSize&&"number"!=typeof(r=e.wordSize)))throw new Error('Option "wordSize" must be a number');switch(i){case"fixed":return function(t,e){return t.toFixed(e)}(t,n);case"exponential":return Kc(t,n);case"engineering":return function(t,e){var n=t.e,r=n%3==0?n:n<0?n-3-n%3:n-n%3,i=t.mul(Math.pow(10,-r)).toPrecision(e);return-1!==i.indexOf("e")&&(i=new t.constructor(i).toFixed()),i+"e"+(n>=0?"+":"")+r.toString()}(t,n);case"bin":return Xc(t,2,r);case"oct":return Xc(t,8,r);case"hex":return Xc(t,16,r);case"auto":var o=e&&void 0!==e.lowerExp?e.lowerExp:-3,a=e&&void 0!==e.upperExp?e.upperExp:5;if(t.isZero())return"0";var s=t.toSignificantDigits(n),u=s.e;return(u>=o&&u<a?s.toFixed():Kc(t,n)).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}(t,e):function(t){return t&&"object"==typeof t&&"number"==typeof t.s&&"number"==typeof t.n&&"number"==typeof t.d||!1}(t)?e&&"decimal"===e.fraction?t.toString():t.s*t.n+"/"+t.d:Array.isArray(t)?Gc(t,e):Zl(t)?'"'+t+'"':"function"==typeof t?t.syntax?String(t.syntax):"function":t&&"object"==typeof t?"function"==typeof t.format?t.format(e):t&&t.toString(e)!=={}.toString()?t.toString(e):"{"+Object.keys(t).map((n=>'"'+n+'": '+Jc(t[n],e))).join(", ")+"}":String(t)}(t,e);return e&&"object"==typeof e&&"truncate"in e&&n.length>e.truncate?n.substring(0,e.truncate-3)+"...":n}function Gc(t,e){if(Array.isArray(t)){for(var n="[",r=t.length,i=0;i<r;i++)0!==i&&(n+=", "),n+=Gc(t[i],e);return n+"]"}return Jc(t,e)}function Qc(t,e,n){if(!(this instanceof Qc))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}function tf(t,e,n){if(!(this instanceof tf))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function ef(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function nf(t,e,n){var r,i=t.length;if(i!==e[n])throw new Qc(i,e[n]);if(n<e.length-1){var o=n+1;for(r=0;r<i;r++){var a=t[r];if(!Array.isArray(a))throw new Qc(e.length-1,e.length,"<");nf(t[r],e,o)}}else for(r=0;r<i;r++)if(Array.isArray(t[r]))throw new Qc(e.length+1,e.length,">")}function rf(t,e){if(0===e.length){if(Array.isArray(t))throw new Qc(t.length,0)}else nf(t,e,0)}function of(t,e){if(!Ul(t)||!jc(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&t>=e)throw new tf(t,e)}function af(t,e,n){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");return e.forEach((function(t){if(!Ul(t)||!jc(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Jc(e)+")")})),sf(t,e,0,void 0!==n?n:0),t}function sf(t,e,n,r){var i,o,a=t.length,s=e[n],u=Math.min(a,s);if(t.length=s,n<e.length-1){var l=n+1;for(i=0;i<u;i++)o=t[i],Array.isArray(o)||(o=[o],t[i]=o),sf(o,e,l,r);for(i=u;i<s;i++)o=[],t[i]=o,sf(o,e,l,r)}else{for(i=0;i<u;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=u;i<s;i++)t[i]=r}}function uf(t,e){var n=df(t),r=n.length;if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Qc(0,r,"!=");var i=cf(e=lf(e,r));if(r!==i)throw new Qc(i,r,"!=");try{return function(t,e){for(var n,r=t,i=e.length-1;i>0;i--){var o=e[i];n=[];for(var a=r.length/o,s=0;s<a;s++)n.push(r.slice(s*o,(s+1)*o));r=n}return r}(n,e)}catch(t){if(t instanceof Qc)throw new Qc(i,r,"!=");throw t}}function lf(t,e){var n=cf(t),r=t.slice(),i=t.indexOf(-1);if(t.indexOf(-1,i+1)>=0)throw new Error("More than one wildcard in sizes");if(i>=0){if(e%n!=0)throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-n);r[i]=-e/n}return r}function cf(t){return t.reduce(((t,e)=>t*e),1)}function ff(t,e,n,r){var i=r||ef(t);if(n)for(var o=0;o<n;o++)t=[t],i.unshift(1);for(t=hf(t,e,0);i.length<e;)i.push(1);return t}function hf(t,e,n){var r,i;if(Array.isArray(t)){var o=n+1;for(r=0,i=t.length;r<i;r++)t[r]=hf(t[r],e,o)}else for(var a=n;a<e;a++)t=[t];return t}function df(t){if(!Array.isArray(t))return t;var e=[];return t.forEach((function t(n){Array.isArray(n)?n.forEach(t):e.push(n)})),e}function pf(t,e){for(var n,r=0,i=0;i<t.length;i++){var o=t[i],a=Array.isArray(o);if(0===i&&a&&(r=o.length),a&&o.length!==r)return;var s=a?pf(o,e):e(o);if(void 0===n)n=s;else if(n!==s)return"mixed"}return n}function mf(t,e,n,r){function i(r){var i=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r],o=t[i];void 0!==o&&(n[i]=o)}return n}(r,e.map(gf));return function(t,e,n){var r=e.filter((t=>!function(t){return t&&"?"===t[0]}(t))).every((t=>void 0!==n[t]));if(!r){var i=e.filter((t=>void 0===n[t]));throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(i.map((t=>'"'.concat(t,'"'))).join(", "),"."))}}(t,e,r),n(i)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),r&&(i.meta=r),i}function gf(t){return t&&"?"===t[0]?t.slice(1):t}function yf(t,e){return!(!t||"object"!=typeof t||!Fc(wf,e)&&(e in Object.prototype||e in Function.prototype))}function vf(t){return"object"==typeof t&&t&&t.constructor===Object}Qc.prototype=new RangeError,Qc.prototype.constructor=RangeError,Qc.prototype.name="DimensionError",Qc.prototype.isDimensionError=!0,tf.prototype=new RangeError,tf.prototype.constructor=RangeError,tf.prototype.name="IndexError",tf.prototype.isIndexError=!0;var wf={length:!0,name:!0},bf={toString:!0,valueOf:!0,toLocaleString:!0};class xf{constructor(t){this.wrappedObject=t}keys(){return Object.keys(this.wrappedObject)}get(t){return function(t,e){if(vf(t)&&yf(t,e))return t[e];if("function"==typeof t[e]&&function(t,e){return!(null==t||"function"!=typeof t[e]||Fc(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t)||!Fc(bf,e)&&(e in Object.prototype||e in Function.prototype))}(t,e))throw new Error('Cannot access method "'+e+'" as a property');throw new Error('No access to property "'+e+'"')}(this.wrappedObject,t)}set(t,e){return function(t,e,n){if(vf(t)&&yf(t,e))return t[e]=n,n;throw new Error('No access to property "'+e+'"')}(this.wrappedObject,t,e),this}has(t){return t in this.wrappedObject}}function _f(t){return!!t&&(t instanceof Map||t instanceof xf||"function"==typeof t.set&&"function"==typeof t.get&&"function"==typeof t.keys&&"function"==typeof t.has)}var Df=function(){return Df=$c.create,$c},Ef=mf("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function(t){var{BigNumber:e,Complex:n,DenseMatrix:r,Fraction:i}=t,o=Df();return o.clear(),o.addTypes([{name:"number",test:Ul},{name:"Complex",test:Vl},{name:"BigNumber",test:ql},{name:"Fraction",test:Wl},{name:"Unit",test:Hl},{name:"identifier",test:t=>Zl&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(t)},{name:"string",test:Zl},{name:"Chain",test:Mc},{name:"Array",test:Yl},{name:"Matrix",test:Xl},{name:"DenseMatrix",test:Jl},{name:"SparseMatrix",test:Gl},{name:"Range",test:Ql},{name:"Index",test:tc},{name:"boolean",test:ec},{name:"ResultSet",test:nc},{name:"Help",test:rc},{name:"function",test:ic},{name:"Date",test:oc},{name:"RegExp",test:ac},{name:"null",test:uc},{name:"undefined",test:lc},{name:"AccessorNode",test:cc},{name:"ArrayNode",test:fc},{name:"AssignmentNode",test:hc},{name:"BlockNode",test:dc},{name:"ConditionalNode",test:pc},{name:"ConstantNode",test:mc},{name:"FunctionNode",test:yc},{name:"FunctionAssignmentNode",test:gc},{name:"IndexNode",test:vc},{name:"Node",test:wc},{name:"ObjectNode",test:bc},{name:"OperatorNode",test:xc},{name:"ParenthesisNode",test:_c},{name:"RangeNode",test:Dc},{name:"RelationalNode",test:Ec},{name:"SymbolNode",test:Ac},{name:"Map",test:_f},{name:"Object",test:sc}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(t){if(e||Af(t),t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new e(t)}},{from:"number",to:"Complex",convert:function(t){return n||Mf(t),new n(t,0)}},{from:"BigNumber",to:"Complex",convert:function(t){return n||Mf(t),new n(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return n||Mf(t),new n(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(t){i||Sf(t);var e=new i(t);if(e.valueOf()!==t)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return e}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function(t){e||Af(t);try{return new e(t)}catch(e){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){i||Sf(t);try{return new i(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){n||Mf(t);try{return new n(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(t){return e||Af(t),new e(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return i||Sf(t),new i(+t)}},{from:"boolean",to:"string",convert:function(t){return String(t)}},{from:"Array",to:"Matrix",convert:function(t){return r||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(t)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}]),o.onMismatch=(t,e,n)=>{var r=o.createError(t,e,n);if(["wrongType","mismatch"].includes(r.data.category)&&1===e.length&&Kl(e[0])&&n.some((t=>!t.params.includes(",")))){var i=new TypeError("Function '".concat(t,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(t,")'."));throw i.data=r.data,i}throw r},o.onMismatch=(t,e,n)=>{var r=o.createError(t,e,n);if(["wrongType","mismatch"].includes(r.data.category)&&1===e.length&&Kl(e[0])&&n.some((t=>!t.params.includes(",")))){var i=new TypeError("Function '".concat(t,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(t,")'."));throw i.data=r.data,i}throw r},o}));function Af(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function Mf(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function Sf(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}
/*!
   *  decimal.js v10.4.3
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   */var Cf,kf,Ff=9e15,Nf=1e9,Tf="0123456789abcdef",Bf="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Of="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",zf={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Ff,maxE:Ff,crypto:!1},If=!0,Rf="[DecimalError] ",Pf=Rf+"Invalid argument: ",$f=Rf+"Precision limit exceeded",jf=Rf+"crypto unavailable",Lf="[object Decimal]",Uf=Math.floor,qf=Math.pow,Vf=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Wf=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Hf=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Zf=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yf=1e7,Xf=7,Kf=Bf.length-1,Jf=Of.length-1,Gf={toStringTag:Lf};function Qf(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",(n=Xf-r.length)&&(o+=ch(n)),o+=r;a=t[e],(n=Xf-(r=a+"").length)&&(o+=ch(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}function th(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Pf+t)}function eh(t,e,n,r){var i,o,a,s;for(o=t[0];o>=10;o/=10)--e;return--e<0?(e+=Xf,i=0):(i=Math.ceil((e+1)/Xf),e%=Xf),o=qf(10,Xf-e),s=t[i]%o|0,null==r?e<3?(0==e?s=s/100|0:1==e&&(s=s/10|0),a=n<4&&99999==s||n>3&&49999==s||5e4==s||0==s):a=(n<4&&s+1==o||n>3&&s+1==o/2)&&(t[i+1]/o/100|0)==qf(10,e-2)-1||(s==o/2||0==s)&&0==(t[i+1]/o/100|0):e<4?(0==e?s=s/1e3|0:1==e?s=s/100|0:2==e&&(s=s/10|0),a=(r||n<4)&&9999==s||!r&&n>3&&4999==s):a=((r||n<4)&&s+1==o||!r&&n>3&&s+1==o/2)&&(t[i+1]/o/1e3|0)==qf(10,e-3)-1,a}function nh(t,e,n){for(var r,i,o=[0],a=0,s=t.length;a<s;){for(i=o.length;i--;)o[i]*=e;for(o[0]+=Tf.indexOf(t.charAt(a++)),r=0;r<o.length;r++)o[r]>n-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}Gf.absoluteValue=Gf.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),ih(t)},Gf.ceil=function(){return ih(new this.constructor(this),this.e+1,2)},Gf.clampedTo=Gf.clamp=function(t,e){var n=this,r=n.constructor;if(t=new r(t),e=new r(e),!t.s||!e.s)return new r(NaN);if(t.gt(e))throw Error(Pf+e);return n.cmp(t)<0?t:n.cmp(e)>0?e:new r(n)},Gf.comparedTo=Gf.cmp=function(t){var e,n,r,i,o=this,a=o.d,s=(t=new o.constructor(t)).d,u=o.s,l=t.s;if(!a||!s)return u&&l?u!==l?u:a===s?0:!a^u<0?1:-1:NaN;if(!a[0]||!s[0])return a[0]?u:s[0]?-l:0;if(u!==l)return u;if(o.e!==t.e)return o.e>t.e^u<0?1:-1;for(e=0,n=(r=a.length)<(i=s.length)?r:i;e<n;++e)if(a[e]!==s[e])return a[e]>s[e]^u<0?1:-1;return r===i?0:r>i^u<0?1:-1},Gf.cosine=Gf.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+Xf,r.rounding=1,n=function(t,e){var n,r,i;if(e.isZero())return e;(r=e.d.length)<32?i=(1/wh(4,n=Math.ceil(r/3))).toString():(n=16,i="2.3283064365386962890625e-10"),t.precision+=n,e=vh(t,1,e.times(i),new t(1));for(var o=n;o--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1)}return t.precision-=n,e}(r,bh(r,n)),r.precision=t,r.rounding=e,ih(2==kf||3==kf?n.neg():n,t,e,!0)):new r(1):new r(NaN)},Gf.cubeRoot=Gf.cbrt=function(){var t,e,n,r,i,o,a,s,u,l,c=this,f=c.constructor;if(!c.isFinite()||c.isZero())return new f(c);for(If=!1,(o=c.s*qf(c.s*c,1/3))&&Math.abs(o)!=1/0?r=new f(o.toString()):(n=Qf(c.d),(o=((t=c.e)-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=qf(n,1/3),t=Uf((t+1)/3)-(t%3==(t<0?-1:2)),(r=new f(n=o==1/0?"5e"+t:(n=o.toExponential()).slice(0,n.indexOf("e")+1)+t)).s=c.s),a=(t=f.precision)+3;;)if(l=(u=(s=r).times(s).times(s)).plus(c),r=rh(l.plus(c).times(s),l.plus(u),a+2,1),Qf(s.d).slice(0,a)===(n=Qf(r.d)).slice(0,a)){if("9999"!=(n=n.slice(a-3,a+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(ih(r,t+1,1),e=!r.times(r).times(r).eq(c));break}if(!i&&(ih(s,t+1,0),s.times(s).times(s).eq(c))){r=s;break}a+=4,i=1}return If=!0,ih(r,t,f.rounding,e)},Gf.decimalPlaces=Gf.dp=function(){var t,e=this.d,n=NaN;if(e){if(n=((t=e.length-1)-Uf(this.e/Xf))*Xf,t=e[t])for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n},Gf.dividedBy=Gf.div=function(t){return rh(this,new this.constructor(t))},Gf.dividedToIntegerBy=Gf.divToInt=function(t){var e=this.constructor;return ih(rh(this,new e(t),0,1,1),e.precision,e.rounding)},Gf.equals=Gf.eq=function(t){return 0===this.cmp(t)},Gf.floor=function(){return ih(new this.constructor(this),this.e+1,3)},Gf.greaterThan=Gf.gt=function(t){return this.cmp(t)>0},Gf.greaterThanOrEqualTo=Gf.gte=function(t){var e=this.cmp(t);return 1==e||0===e},Gf.hyperbolicCosine=Gf.cosh=function(){var t,e,n,r,i,o=this,a=o.constructor,s=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return s;n=a.precision,r=a.rounding,a.precision=n+Math.max(o.e,o.sd())+4,a.rounding=1,(i=o.d.length)<32?e=(1/wh(4,t=Math.ceil(i/3))).toString():(t=16,e="2.3283064365386962890625e-10"),o=vh(a,1,o.times(e),new a(1),!0);for(var u,l=t,c=new a(8);l--;)u=o.times(o),o=s.minus(u.times(c.minus(u.times(c))));return ih(o,a.precision=n,a.rounding=r,!0)},Gf.hyperbolicSine=Gf.sinh=function(){var t,e,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,n=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,(r=i.d.length)<3)i=vh(o,2,i,i,!0);else{t=(t=1.4*Math.sqrt(r))>16?16:0|t,i=vh(o,2,i=i.times(1/wh(5,t)),i,!0);for(var a,s=new o(5),u=new o(16),l=new o(20);t--;)a=i.times(i),i=i.times(s.plus(a.times(u.times(a).plus(l))))}return o.precision=e,o.rounding=n,ih(i,e,n,!0)},Gf.hyperbolicTangent=Gf.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,rh(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)},Gf.inverseCosine=Gf.acos=function(){var t,e=this,n=e.constructor,r=e.abs().cmp(1),i=n.precision,o=n.rounding;return-1!==r?0===r?e.isNeg()?uh(n,i,o):new n(0):new n(NaN):e.isZero()?uh(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,e=e.asin(),t=uh(n,i+4,o).times(.5),n.precision=i,n.rounding=o,t.minus(e))},Gf.inverseHyperbolicCosine=Gf.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,If=!1,n=n.times(n).minus(1).sqrt().plus(n),If=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)},Gf.inverseHyperbolicSine=Gf.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,If=!1,n=n.times(n).plus(1).sqrt().plus(n),If=!0,r.precision=t,r.rounding=e,n.ln())},Gf.inverseHyperbolicTangent=Gf.atanh=function(){var t,e,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=o.precision,e=o.rounding,r=i.sd(),Math.max(r,t)<2*-i.e-1?ih(new o(i),t,e,!0):(o.precision=n=r-i.e,i=rh(i.plus(1),new o(1).minus(i),n+t,1),o.precision=t+4,o.rounding=1,i=i.ln(),o.precision=t,o.rounding=e,i.times(.5))):new o(NaN)},Gf.inverseSine=Gf.asin=function(){var t,e,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),n=o.precision,r=o.rounding,-1!==e?0===e?((t=uh(o,n+4,r).times(.5)).s=i.s,t):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))},Gf.inverseTangent=Gf.atan=function(){var t,e,n,r,i,o,a,s,u,l=this,c=l.constructor,f=c.precision,h=c.rounding;if(l.isFinite()){if(l.isZero())return new c(l);if(l.abs().eq(1)&&f+4<=Jf)return(a=uh(c,f+4,h).times(.25)).s=l.s,a}else{if(!l.s)return new c(NaN);if(f+4<=Jf)return(a=uh(c,f+4,h).times(.5)).s=l.s,a}for(c.precision=s=f+10,c.rounding=1,t=n=Math.min(28,s/Xf+2|0);t;--t)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(If=!1,e=Math.ceil(s/Xf),r=1,u=l.times(l),a=new c(l),i=l;-1!==t;)if(i=i.times(u),o=a.minus(i.div(r+=2)),i=i.times(u),void 0!==(a=o.plus(i.div(r+=2))).d[e])for(t=e;a.d[t]===o.d[t]&&t--;);return n&&(a=a.times(2<<n-1)),If=!0,ih(a,c.precision=f,c.rounding=h,!0)},Gf.isFinite=function(){return!!this.d},Gf.isInteger=Gf.isInt=function(){return!!this.d&&Uf(this.e/Xf)>this.d.length-2},Gf.isNaN=function(){return!this.s},Gf.isNegative=Gf.isNeg=function(){return this.s<0},Gf.isPositive=Gf.isPos=function(){return this.s>0},Gf.isZero=function(){return!!this.d&&0===this.d[0]},Gf.lessThan=Gf.lt=function(t){return this.cmp(t)<0},Gf.lessThanOrEqualTo=Gf.lte=function(t){return this.cmp(t)<1},Gf.logarithm=Gf.log=function(t){var e,n,r,i,o,a,s,u,l=this,c=l.constructor,f=c.precision,h=c.rounding;if(null==t)t=new c(10),e=!0;else{if(n=(t=new c(t)).d,t.s<0||!n||!n[0]||t.eq(1))return new c(NaN);e=t.eq(10)}if(n=l.d,l.s<0||!n||!n[0]||l.eq(1))return new c(n&&!n[0]?-1/0:1!=l.s?NaN:n?0:1/0);if(e)if(n.length>1)o=!0;else{for(i=n[0];i%10==0;)i/=10;o=1!==i}if(If=!1,a=mh(l,s=f+5),r=e?sh(c,s+10):mh(t,s),eh((u=rh(a,r,s,1)).d,i=f,h))do{if(a=mh(l,s+=10),r=e?sh(c,s+10):mh(t,s),u=rh(a,r,s,1),!o){+Qf(u.d).slice(i+1,i+15)+1==1e14&&(u=ih(u,f+1,0));break}}while(eh(u.d,i+=10,h));return If=!0,ih(u,f,h)},Gf.minus=Gf.sub=function(t){var e,n,r,i,o,a,s,u,l,c,f,h,d=this,p=d.constructor;if(t=new p(t),!d.d||!t.d)return d.s&&t.s?d.d?t.s=-t.s:t=new p(t.d||d.s!==t.s?d:NaN):t=new p(NaN),t;if(d.s!=t.s)return t.s=-t.s,d.plus(t);if(l=d.d,h=t.d,s=p.precision,u=p.rounding,!l[0]||!h[0]){if(h[0])t.s=-t.s;else{if(!l[0])return new p(3===u?-0:0);t=new p(d)}return If?ih(t,s,u):t}if(n=Uf(t.e/Xf),c=Uf(d.e/Xf),l=l.slice(),o=c-n){for((f=o<0)?(e=l,o=-o,a=h.length):(e=h,n=c,a=l.length),o>(r=Math.max(Math.ceil(s/Xf),a)+2)&&(o=r,e.length=1),e.reverse(),r=o;r--;)e.push(0);e.reverse()}else{for((f=(r=l.length)<(a=h.length))&&(a=r),r=0;r<a;r++)if(l[r]!=h[r]){f=l[r]<h[r];break}o=0}for(f&&(e=l,l=h,h=e,t.s=-t.s),a=l.length,r=h.length-a;r>0;--r)l[a++]=0;for(r=h.length;r>o;){if(l[--r]<h[r]){for(i=r;i&&0===l[--i];)l[i]=Yf-1;--l[i],l[r]+=Yf}l[r]-=h[r]}for(;0===l[--a];)l.pop();for(;0===l[0];l.shift())--n;return l[0]?(t.d=l,t.e=ah(l,n),If?ih(t,s,u):t):new p(3===u?-0:0)},Gf.modulo=Gf.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?ih(new r(n),r.precision,r.rounding):(If=!1,9==r.modulo?(e=rh(n,t.abs(),0,3,1)).s*=t.s:e=rh(n,t,0,r.modulo,1),e=e.times(t),If=!0,n.minus(e))},Gf.naturalExponential=Gf.exp=function(){return ph(this)},Gf.naturalLogarithm=Gf.ln=function(){return mh(this)},Gf.negated=Gf.neg=function(){var t=new this.constructor(this);return t.s=-t.s,ih(t)},Gf.plus=Gf.add=function(t){var e,n,r,i,o,a,s,u,l,c,f=this,h=f.constructor;if(t=new h(t),!f.d||!t.d)return f.s&&t.s?f.d||(t=new h(t.d||f.s===t.s?f:NaN)):t=new h(NaN),t;if(f.s!=t.s)return t.s=-t.s,f.minus(t);if(l=f.d,c=t.d,s=h.precision,u=h.rounding,!l[0]||!c[0])return c[0]||(t=new h(f)),If?ih(t,s,u):t;if(o=Uf(f.e/Xf),r=Uf(t.e/Xf),l=l.slice(),i=o-r){for(i<0?(n=l,i=-i,a=c.length):(n=c,r=o,a=l.length),i>(a=(o=Math.ceil(s/Xf))>a?o+1:a+1)&&(i=a,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((a=l.length)-(i=c.length)<0&&(i=a,n=c,c=l,l=n),e=0;i;)e=(l[--i]=l[i]+c[i]+e)/Yf|0,l[i]%=Yf;for(e&&(l.unshift(e),++r),a=l.length;0==l[--a];)l.pop();return t.d=l,t.e=ah(l,r),If?ih(t,s,u):t},Gf.precision=Gf.sd=function(t){var e,n=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(Pf+t);return n.d?(e=lh(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e},Gf.round=function(){var t=this,e=t.constructor;return ih(new e(t),t.e+1,e.rounding)},Gf.sine=Gf.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+Xf,r.rounding=1,n=function(t,e){var n,r=e.d.length;if(r<3)return e.isZero()?e:vh(t,2,e,e);n=(n=1.4*Math.sqrt(r))>16?16:0|n,e=vh(t,2,e=e.times(1/wh(5,n)),e);for(var i,o=new t(5),a=new t(16),s=new t(20);n--;)i=e.times(e),e=e.times(o.plus(i.times(a.times(i).minus(s))));return e}(r,bh(r,n)),r.precision=t,r.rounding=e,ih(kf>2?n.neg():n,t,e,!0)):new r(NaN)},Gf.squareRoot=Gf.sqrt=function(){var t,e,n,r,i,o,a=this,s=a.d,u=a.e,l=a.s,c=a.constructor;if(1!==l||!s||!s[0])return new c(!l||l<0&&(!s||s[0])?NaN:s?a:1/0);for(If=!1,0==(l=Math.sqrt(+a))||l==1/0?(((e=Qf(s)).length+u)%2==0&&(e+="0"),l=Math.sqrt(e),u=Uf((u+1)/2)-(u<0||u%2),r=new c(e=l==1/0?"5e"+u:(e=l.toExponential()).slice(0,e.indexOf("e")+1)+u)):r=new c(l.toString()),n=(u=c.precision)+3;;)if(r=(o=r).plus(rh(a,o,n+2,1)).times(.5),Qf(o.d).slice(0,n)===(e=Qf(r.d)).slice(0,n)){if("9999"!=(e=e.slice(n-3,n+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(ih(r,u+1,1),t=!r.times(r).eq(a));break}if(!i&&(ih(o,u+1,0),o.times(o).eq(a))){r=o;break}n+=4,i=1}return If=!0,ih(r,u,c.rounding,t)},Gf.tangent=Gf.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,(n=n.sin()).s=1,n=rh(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,ih(2==kf||4==kf?n.neg():n,t,e,!0)):new r(NaN)},Gf.times=Gf.mul=function(t){var e,n,r,i,o,a,s,u,l,c=this,f=c.constructor,h=c.d,d=(t=new f(t)).d;if(t.s*=c.s,!(h&&h[0]&&d&&d[0]))return new f(!t.s||h&&!h[0]&&!d||d&&!d[0]&&!h?NaN:h&&d?0*t.s:t.s/0);for(n=Uf(c.e/Xf)+Uf(t.e/Xf),(u=h.length)<(l=d.length)&&(o=h,h=d,d=o,a=u,u=l,l=a),o=[],r=a=u+l;r--;)o.push(0);for(r=l;--r>=0;){for(e=0,i=u+r;i>r;)s=o[i]+d[r]*h[i-r-1]+e,o[i--]=s%Yf|0,e=s/Yf|0;o[i]=(o[i]+e)%Yf|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=ah(o,n),If?ih(t,f.precision,f.rounding):t},Gf.toBinary=function(t,e){return xh(this,2,t,e)},Gf.toDecimalPlaces=Gf.toDP=function(t,e){var n=this,r=n.constructor;return n=new r(n),void 0===t?n:(th(t,0,Nf),void 0===e?e=r.rounding:th(e,0,8),ih(n,t+n.e+1,e))},Gf.toExponential=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=oh(r,!0):(th(t,0,Nf),void 0===e?e=i.rounding:th(e,0,8),n=oh(r=ih(new i(r),t+1,e),!0,t+1)),r.isNeg()&&!r.isZero()?"-"+n:n},Gf.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return void 0===t?n=oh(i):(th(t,0,Nf),void 0===e?e=o.rounding:th(e,0,8),n=oh(r=ih(new o(i),t+i.e+1,e),!1,t+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},Gf.toFraction=function(t){var e,n,r,i,o,a,s,u,l,c,f,h,d=this,p=d.d,m=d.constructor;if(!p)return new m(d);if(l=n=new m(1),r=u=new m(0),a=(o=(e=new m(r)).e=lh(p)-d.e-1)%Xf,e.d[0]=qf(10,a<0?Xf+a:a),null==t)t=o>0?e:l;else{if(!(s=new m(t)).isInt()||s.lt(l))throw Error(Pf+s);t=s.gt(e)?o>0?e:l:s}for(If=!1,s=new m(Qf(p)),c=m.precision,m.precision=o=p.length*Xf*2;f=rh(s,e,0,1,1),1!=(i=n.plus(f.times(r))).cmp(t);)n=r,r=i,i=l,l=u.plus(f.times(i)),u=i,i=e,e=s.minus(f.times(i)),s=i;return i=rh(t.minus(n),r,0,1,1),u=u.plus(i.times(l)),n=n.plus(i.times(r)),u.s=l.s=d.s,h=rh(l,r,o,1).minus(d).abs().cmp(rh(u,n,o,1).minus(d).abs())<1?[l,r]:[u,n],m.precision=c,If=!0,h},Gf.toHexadecimal=Gf.toHex=function(t,e){return xh(this,16,t,e)},Gf.toNearest=function(t,e){var n=this,r=n.constructor;if(n=new r(n),null==t){if(!n.d)return n;t=new r(1),e=r.rounding}else{if(t=new r(t),void 0===e?e=r.rounding:th(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(If=!1,n=rh(n,t,0,e,1).times(t),If=!0,ih(n)):(t.s=n.s,n=t),n},Gf.toNumber=function(){return+this},Gf.toOctal=function(t,e){return xh(this,8,t,e)},Gf.toPower=Gf.pow=function(t){var e,n,r,i,o,a,s=this,u=s.constructor,l=+(t=new u(t));if(!(s.d&&t.d&&s.d[0]&&t.d[0]))return new u(qf(+s,l));if((s=new u(s)).eq(1))return s;if(r=u.precision,o=u.rounding,t.eq(1))return ih(s,r,o);if((e=Uf(t.e/Xf))>=t.d.length-1&&(n=l<0?-l:l)<=9007199254740991)return i=fh(u,s,n,r),t.s<0?new u(1).div(i):ih(i,r,o);if((a=s.s)<0){if(e<t.d.length-1)return new u(NaN);if(0==(1&t.d[e])&&(a=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=a,s}return(e=0!=(n=qf(+s,l))&&isFinite(n)?new u(n+"").e:Uf(l*(Math.log("0."+Qf(s.d))/Math.LN10+s.e+1)))>u.maxE+1||e<u.minE-1?new u(e>0?a/0:0):(If=!1,u.rounding=s.s=1,n=Math.min(12,(e+"").length),(i=ph(t.times(mh(s,r+n)),r)).d&&eh((i=ih(i,r+5,1)).d,r,o)&&(e=r+10,+Qf((i=ih(ph(t.times(mh(s,e+n)),e),e+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=ih(i,r+1,0))),i.s=a,If=!0,u.rounding=o,ih(i,r,o))},Gf.toPrecision=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=oh(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(th(t,1,Nf),void 0===e?e=i.rounding:th(e,0,8),n=oh(r=ih(new i(r),t,e),t<=r.e||r.e<=i.toExpNeg,t)),r.isNeg()&&!r.isZero()?"-"+n:n},Gf.toSignificantDigits=Gf.toSD=function(t,e){var n=this.constructor;return void 0===t?(t=n.precision,e=n.rounding):(th(t,1,Nf),void 0===e?e=n.rounding:th(e,0,8)),ih(new n(this),t,e)},Gf.toString=function(){var t=this,e=t.constructor,n=oh(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n},Gf.truncated=Gf.trunc=function(){return ih(new this.constructor(this),this.e+1,1)},Gf.valueOf=Gf.toJSON=function(){var t=this,e=t.constructor,n=oh(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};var rh=function(){function t(t,e,n){var r,i=0,o=t.length;for(t=t.slice();o--;)r=t[o]*e+i,t[o]=r%n|0,i=r/n|0;return i&&t.unshift(i),t}function e(t,e,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function n(t,e,n,r){for(var i=0;n--;)t[n]-=i,i=t[n]<e[n]?1:0,t[n]=i*r+t[n]-e[n];for(;!t[0]&&t.length>1;)t.shift()}return function(r,i,o,a,s,u){var l,c,f,h,d,p,m,g,y,v,w,b,x,_,D,E,A,M,S,C,k=r.constructor,F=r.s==i.s?1:-1,N=r.d,T=i.d;if(!(N&&N[0]&&T&&T[0]))return new k(r.s&&i.s&&(N?!T||N[0]!=T[0]:T)?N&&0==N[0]||!T?0*F:F/0:NaN);for(u?(d=1,c=r.e-i.e):(u=Yf,d=Xf,c=Uf(r.e/d)-Uf(i.e/d)),S=T.length,A=N.length,v=(y=new k(F)).d=[],f=0;T[f]==(N[f]||0);f++);if(T[f]>(N[f]||0)&&c--,null==o?(_=o=k.precision,a=k.rounding):_=s?o+(r.e-i.e)+1:o,_<0)v.push(1),p=!0;else{if(_=_/d+2|0,f=0,1==S){for(h=0,T=T[0],_++;(f<A||h)&&_--;f++)D=h*u+(N[f]||0),v[f]=D/T|0,h=D%T|0;p=h||f<A}else{for((h=u/(T[0]+1)|0)>1&&(T=t(T,h,u),N=t(N,h,u),S=T.length,A=N.length),E=S,b=(w=N.slice(0,S)).length;b<S;)w[b++]=0;(C=T.slice()).unshift(0),M=T[0],T[1]>=u/2&&++M;do{h=0,(l=e(T,w,S,b))<0?(x=w[0],S!=b&&(x=x*u+(w[1]||0)),(h=x/M|0)>1?(h>=u&&(h=u-1),1==(l=e(m=t(T,h,u),w,g=m.length,b=w.length))&&(h--,n(m,S<g?C:T,g,u))):(0==h&&(l=h=1),m=T.slice()),(g=m.length)<b&&m.unshift(0),n(w,m,b,u),-1==l&&(l=e(T,w,S,b=w.length))<1&&(h++,n(w,S<b?C:T,b,u)),b=w.length):0===l&&(h++,w=[0]),v[f++]=h,l&&w[0]?w[b++]=N[E]||0:(w=[N[E]],b=1)}while((E++<A||void 0!==w[0])&&_--);p=void 0!==w[0]}v[0]||v.shift()}if(1==d)y.e=c,Cf=p;else{for(f=1,h=v[0];h>=10;h/=10)f++;y.e=f+c*d-1,ih(y,s?o+y.e+1:o,a,p)}return y}}();function ih(t,e,n,r){var i,o,a,s,u,l,c,f,h,d=t.constructor;t:if(null!=e){if(!(f=t.d))return t;for(i=1,s=f[0];s>=10;s/=10)i++;if((o=e-i)<0)o+=Xf,a=e,u=(c=f[h=0])/qf(10,i-a-1)%10|0;else if((h=Math.ceil((o+1)/Xf))>=(s=f.length)){if(!r)break t;for(;s++<=h;)f.push(0);c=u=0,i=1,a=(o%=Xf)-Xf+1}else{for(c=s=f[h],i=1;s>=10;s/=10)i++;u=(a=(o%=Xf)-Xf+i)<0?0:c/qf(10,i-a-1)%10|0}if(r=r||e<0||void 0!==f[h+1]||(a<0?c:c%qf(10,i-a-1)),l=n<4?(u||r)&&(0==n||n==(t.s<0?3:2)):u>5||5==u&&(4==n||r||6==n&&(o>0?a>0?c/qf(10,i-a):0:f[h-1])%10&1||n==(t.s<0?8:7)),e<1||!f[0])return f.length=0,l?(e-=t.e+1,f[0]=qf(10,(Xf-e%Xf)%Xf),t.e=-e||0):f[0]=t.e=0,t;if(0==o?(f.length=h,s=1,h--):(f.length=h+1,s=qf(10,Xf-o),f[h]=a>0?(c/qf(10,i-a)%qf(10,a)|0)*s:0),l)for(;;){if(0==h){for(o=1,a=f[0];a>=10;a/=10)o++;for(a=f[0]+=s,s=1;a>=10;a/=10)s++;o!=s&&(t.e++,f[0]==Yf&&(f[0]=1));break}if(f[h]+=s,f[h]!=Yf)break;f[h--]=0,s=1}for(o=f.length;0===f[--o];)f.pop()}return If&&(t.e>d.maxE?(t.d=null,t.e=NaN):t.e<d.minE&&(t.e=0,t.d=[0])),t}function oh(t,e,n){if(!t.isFinite())return gh(t);var r,i=t.e,o=Qf(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+ch(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(t.e<0?"e":"e+")+t.e):i<0?(o="0."+ch(-i-1)+o,n&&(r=n-a)>0&&(o+=ch(r))):i>=a?(o+=ch(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+ch(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=ch(r))),o}function ah(t,e){var n=t[0];for(e*=Xf;n>=10;n/=10)e++;return e}function sh(t,e,n){if(e>Kf)throw If=!0,n&&(t.precision=n),Error($f);return ih(new t(Bf),e,1,!0)}function uh(t,e,n){if(e>Jf)throw Error($f);return ih(new t(Of),e,n,!0)}function lh(t){var e=t.length-1,n=e*Xf+1;if(e=t[e]){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function ch(t){for(var e="";t--;)e+="0";return e}function fh(t,e,n,r){var i,o=new t(1),a=Math.ceil(r/Xf+4);for(If=!1;;){if(n%2&&_h((o=o.times(e)).d,a)&&(i=!0),0===(n=Uf(n/2))){n=o.d.length-1,i&&0===o.d[n]&&++o.d[n];break}_h((e=e.times(e)).d,a)}return If=!0,o}function hh(t){return 1&t.d[t.d.length-1]}function dh(t,e,n){for(var r,i=new t(e[0]),o=0;++o<e.length;){if(!(r=new t(e[o])).s){i=r;break}i[n](r)&&(i=r)}return i}function ph(t,e){var n,r,i,o,a,s,u,l=0,c=0,f=0,h=t.constructor,d=h.rounding,p=h.precision;if(!t.d||!t.d[0]||t.e>17)return new h(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==e?(If=!1,u=p):u=e,s=new h(.03125);t.e>-2;)t=t.times(s),f+=5;for(u+=r=Math.log(qf(2,f))/Math.LN10*2+5|0,n=o=a=new h(1),h.precision=u;;){if(o=ih(o.times(t),u,1),n=n.times(++c),Qf((s=a.plus(rh(o,n,u,1))).d).slice(0,u)===Qf(a.d).slice(0,u)){for(i=f;i--;)a=ih(a.times(a),u,1);if(null!=e)return h.precision=p,a;if(!(l<3&&eh(a.d,u-r,d,l)))return ih(a,h.precision=p,d,If=!0);h.precision=u+=10,n=o=s=new h(1),c=0,l++}a=s}}function mh(t,e){var n,r,i,o,a,s,u,l,c,f,h,d=1,p=t,m=p.d,g=p.constructor,y=g.rounding,v=g.precision;if(p.s<0||!m||!m[0]||!p.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=p.s?NaN:m?0:p);if(null==e?(If=!1,c=v):c=e,g.precision=c+=10,r=(n=Qf(m)).charAt(0),!(Math.abs(o=p.e)<15e14))return l=sh(g,c+2,v).times(o+""),p=mh(new g(r+"."+n.slice(1)),c-10).plus(l),g.precision=v,null==e?ih(p,v,y,If=!0):p;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=Qf((p=p.times(t)).d)).charAt(0),d++;for(o=p.e,r>1?(p=new g("0."+n),o++):p=new g(r+"."+n.slice(1)),f=p,u=a=p=rh(p.minus(1),p.plus(1),c,1),h=ih(p.times(p),c,1),i=3;;){if(a=ih(a.times(h),c,1),Qf((l=u.plus(rh(a,new g(i),c,1))).d).slice(0,c)===Qf(u.d).slice(0,c)){if(u=u.times(2),0!==o&&(u=u.plus(sh(g,c+2,v).times(o+""))),u=rh(u,new g(d),c,1),null!=e)return g.precision=v,u;if(!eh(u.d,c-10,y,s))return ih(u,g.precision=v,y,If=!0);g.precision=c+=10,l=a=p=rh(f.minus(1),f.plus(1),c,1),h=ih(p.times(p),c,1),i=s=1}u=l,i+=2}}function gh(t){return String(t.s*t.s/0)}function yh(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;48===e.charCodeAt(r);r++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(r,i)){if(i-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%Xf,n<0&&(r+=Xf),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Xf;r<i;)t.d.push(+e.slice(r,r+=Xf));e=e.slice(r),r=Xf-e.length}else r-=i;for(;r--;)e+="0";t.d.push(+e),If&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function vh(t,e,n,r,i){var o,a,s,u,l=t.precision,c=Math.ceil(l/Xf);for(If=!1,u=n.times(n),s=new t(r);;){if(a=rh(s.times(u),new t(e++*e++),l,1),s=i?r.plus(a):r.minus(a),r=rh(a.times(u),new t(e++*e++),l,1),void 0!==(a=s.plus(r)).d[c]){for(o=c;a.d[o]===s.d[o]&&o--;);if(-1==o)break}o=s,s=r,r=a,a=o}return If=!0,a.d.length=c+1,a}function wh(t,e){for(var n=t;--e;)n*=t;return n}function bh(t,e){var n,r=e.s<0,i=uh(t,t.precision,1),o=i.times(.5);if((e=e.abs()).lte(o))return kf=r?4:1,e;if((n=e.divToInt(i)).isZero())kf=r?3:2;else{if((e=e.minus(n.times(i))).lte(o))return kf=hh(n)?r?2:3:r?4:1,e;kf=hh(n)?r?1:4:r?3:2}return e.minus(i).abs()}function xh(t,e,n,r){var i,o,a,s,u,l,c,f,h,d=t.constructor,p=void 0!==n;if(p?(th(n,1,Nf),void 0===r?r=d.rounding:th(r,0,8)):(n=d.precision,r=d.rounding),t.isFinite()){for(p?(i=2,16==e?n=4*n-3:8==e&&(n=3*n-2)):i=e,(a=(c=oh(t)).indexOf("."))>=0&&(c=c.replace(".",""),(h=new d(1)).e=c.length-a,h.d=nh(oh(h),10,i),h.e=h.d.length),o=u=(f=nh(c,10,i)).length;0==f[--u];)f.pop();if(f[0]){if(a<0?o--:((t=new d(t)).d=f,t.e=o,f=(t=rh(t,h,n,r,0,i)).d,o=t.e,l=Cf),a=f[n],s=i/2,l=l||void 0!==f[n+1],l=r<4?(void 0!==a||l)&&(0===r||r===(t.s<0?3:2)):a>s||a===s&&(4===r||l||6===r&&1&f[n-1]||r===(t.s<0?8:7)),f.length=n,l)for(;++f[--n]>i-1;)f[n]=0,n||(++o,f.unshift(1));for(u=f.length;!f[u-1];--u);for(a=0,c="";a<u;a++)c+=Tf.charAt(f[a]);if(p){if(u>1)if(16==e||8==e){for(a=16==e?4:3,--u;u%a;u++)c+="0";for(u=(f=nh(c,i,e)).length;!f[u-1];--u);for(a=1,c="1.";a<u;a++)c+=Tf.charAt(f[a])}else c=c.charAt(0)+"."+c.slice(1);c=c+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)c="0"+c;c="0."+c}else if(++o>u)for(o-=u;o--;)c+="0";else o<u&&(c=c.slice(0,o)+"."+c.slice(o))}else c=p?"0p+0":"0";c=(16==e?"0x":2==e?"0b":8==e?"0o":"")+c}else c=gh(t);return t.s<0?"-"+c:c}function _h(t,e){if(t.length>e)return t.length=e,!0}function Dh(t){return new this(t).abs()}function Eh(t){return new this(t).acos()}function Ah(t){return new this(t).acosh()}function Mh(t,e){return new this(t).plus(e)}function Sh(t){return new this(t).asin()}function Ch(t){return new this(t).asinh()}function kh(t){return new this(t).atan()}function Fh(t){return new this(t).atanh()}function Nh(t,e){t=new this(t),e=new this(e);var n,r=this.precision,i=this.rounding,o=r+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(n=e.s<0?uh(this,r,i):new this(0)).s=t.s:!t.d||e.isZero()?(n=uh(this,o,1).times(.5)).s=t.s:e.s<0?(this.precision=o,this.rounding=1,n=this.atan(rh(t,e,o,1)),e=uh(this,o,1),this.precision=r,this.rounding=i,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(rh(t,e,o,1)):(n=uh(this,o,1).times(e.s>0?.25:.75)).s=t.s:n=new this(NaN),n}function Th(t){return new this(t).cbrt()}function Bh(t){return ih(t=new this(t),t.e+1,2)}function Oh(t,e,n){return new this(t).clamp(e,n)}function zh(t){if(!t||"object"!=typeof t)throw Error(Rf+"Object expected");var e,n,r,i=!0===t.defaults,o=["precision",1,Nf,"rounding",0,8,"toExpNeg",-Ff,0,"toExpPos",0,Ff,"maxE",0,Ff,"minE",-Ff,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(n=o[e],i&&(this[n]=zf[n]),void 0!==(r=t[n])){if(!(Uf(r)===r&&r>=o[e+1]&&r<=o[e+2]))throw Error(Pf+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=zf[n]),void 0!==(r=t[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(Pf+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(jf);this[n]=!0}else this[n]=!1}return this}function Ih(t){return new this(t).cos()}function Rh(t){return new this(t).cosh()}function Ph(t,e){return new this(t).div(e)}function $h(t){return new this(t).exp()}function jh(t){return ih(t=new this(t),t.e+1,3)}function Lh(){var t,e,n=new this(0);for(If=!1,t=0;t<arguments.length;)if((e=new this(arguments[t++])).d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return If=!0,new this(1/0);n=e}return If=!0,n.sqrt()}function Uh(t){return t instanceof ld||t&&t.toStringTag===Lf||!1}function qh(t){return new this(t).ln()}function Vh(t,e){return new this(t).log(e)}function Wh(t){return new this(t).log(2)}function Hh(t){return new this(t).log(10)}function Zh(){return dh(this,arguments,"lt")}function Yh(){return dh(this,arguments,"gt")}function Xh(t,e){return new this(t).mod(e)}function Kh(t,e){return new this(t).mul(e)}function Jh(t,e){return new this(t).pow(e)}function Gh(t){var e,n,r,i,o=0,a=new this(1),s=[];if(void 0===t?t=this.precision:th(t,1,Nf),r=Math.ceil(t/Xf),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));o<r;)(i=e[o])>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:s[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(jf);for(e=crypto.randomBytes(r*=4);o<r;)(i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((127&e[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,o):(s.push(i%1e7),o+=4);o=r/4}else for(;o<r;)s[o++]=1e7*Math.random()|0;for(r=s[--o],t%=Xf,r&&t&&(i=qf(10,Xf-t),s[o]=(r/i|0)*i);0===s[o];o--)s.pop();if(o<0)n=0,s=[0];else{for(n=-1;0===s[0];n-=Xf)s.shift();for(r=1,i=s[0];i>=10;i/=10)r++;r<Xf&&(n-=Xf-r)}return a.e=n,a.d=s,a}function Qh(t){return ih(t=new this(t),t.e+1,this.rounding)}function td(t){return(t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function ed(t){return new this(t).sin()}function nd(t){return new this(t).sinh()}function rd(t){return new this(t).sqrt()}function id(t,e){return new this(t).sub(e)}function od(){var t=0,e=arguments,n=new this(e[t]);for(If=!1;n.s&&++t<e.length;)n=n.plus(e[t]);return If=!0,ih(n,this.precision,this.rounding)}function ad(t){return new this(t).tan()}function sd(t){return new this(t).tanh()}function ud(t){return ih(t=new this(t),t.e+1,1)}Gf[Symbol.for("nodejs.util.inspect.custom")]=Gf.toString,Gf[Symbol.toStringTag]="Decimal";var ld=Gf.constructor=function t(e){var n,r,i;function o(t){var e,n,r,i=this;if(!(i instanceof o))return new o(t);if(i.constructor=o,Uh(t))return i.s=t.s,void(If?!t.d||t.e>o.maxE?(i.e=NaN,i.d=null):t.e<o.minE?(i.e=0,i.d=[0]):(i.e=t.e,i.d=t.d.slice()):(i.e=t.e,i.d=t.d?t.d.slice():t.d));if("number"==(r=typeof t)){if(0===t)return i.s=1/t<0?-1:1,i.e=0,void(i.d=[0]);if(t<0?(t=-t,i.s=-1):i.s=1,t===~~t&&t<1e7){for(e=0,n=t;n>=10;n/=10)e++;return void(If?e>o.maxE?(i.e=NaN,i.d=null):e<o.minE?(i.e=0,i.d=[0]):(i.e=e,i.d=[t]):(i.e=e,i.d=[t]))}return 0*t!=0?(t||(i.s=NaN),i.e=NaN,void(i.d=null)):yh(i,t.toString())}if("string"!==r)throw Error(Pf+t);return 45===(n=t.charCodeAt(0))?(t=t.slice(1),i.s=-1):(43===n&&(t=t.slice(1)),i.s=1),Zf.test(t)?yh(i,t):function(t,e){var n,r,i,o,a,s,u,l,c;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),Zf.test(e))return yh(t,e)}else if("Infinity"===e||"NaN"===e)return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(Wf.test(e))n=16,e=e.toLowerCase();else if(Vf.test(e))n=2;else{if(!Hf.test(e))throw Error(Pf+e);n=8}for((o=e.search(/p/i))>0?(u=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),a=(o=e.indexOf("."))>=0,r=t.constructor,a&&(o=(s=(e=e.replace(".","")).length)-o,i=fh(r,new r(n),o,2*o)),o=c=(l=nh(e,n,Yf)).length-1;0===l[o];--o)l.pop();return o<0?new r(0*t.s):(t.e=ah(l,c),t.d=l,If=!1,a&&(t=rh(t,i,4*s)),u&&(t=t.times(Math.abs(u)<54?qf(2,u):ld.pow(2,u))),If=!0,t)}(i,t)}if(o.prototype=Gf,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=zh,o.clone=t,o.isDecimal=Uh,o.abs=Dh,o.acos=Eh,o.acosh=Ah,o.add=Mh,o.asin=Sh,o.asinh=Ch,o.atan=kh,o.atanh=Fh,o.atan2=Nh,o.cbrt=Th,o.ceil=Bh,o.clamp=Oh,o.cos=Ih,o.cosh=Rh,o.div=Ph,o.exp=$h,o.floor=jh,o.hypot=Lh,o.ln=qh,o.log=Vh,o.log10=Hh,o.log2=Wh,o.max=Zh,o.min=Yh,o.mod=Xh,o.mul=Kh,o.pow=Jh,o.random=Gh,o.round=Qh,o.sign=td,o.sin=ed,o.sinh=nd,o.sqrt=rd,o.sub=id,o.sum=od,o.tan=ad,o.tanh=sd,o.trunc=ud,void 0===e&&(e={}),e&&!0!==e.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)e.hasOwnProperty(r=i[n++])||(e[r]=this[r]);return o.config(e),o}(zf);Bf=new ld(Bf),Of=new ld(Of);var cd=mf("BigNumber",["?on","config"],(t=>{var{on:e,config:n}=t,r=ld.clone({precision:n.precision,modulo:ld.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(t){return new r(t.value)},e&&e("config",(function(t,e){t.precision!==e.precision&&r.config({precision:t.precision})})),r}),{isClass:!0}),fd={exports:{}};
/**
   * @license Complex.js v2.1.1 12/05/2020
   *
   * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **/!function(t,e){!function(e){var n=Math.cosh||function(t){return Math.abs(t)<1e-9?1-t:.5*(Math.exp(t)+Math.exp(-t))},r=Math.sinh||function(t){return Math.abs(t)<1e-9?t:.5*(Math.exp(t)-Math.exp(-t))},i=function(){throw SyntaxError("Invalid Param")};function o(t,e){var n=Math.abs(t),r=Math.abs(e);return 0===t?Math.log(r):0===e?Math.log(n):n<3e3&&r<3e3?.5*Math.log(t*t+e*e):(t/=2,e/=2,.5*Math.log(t*t+e*e)+Math.LN2)}function a(t,e){if(!(this instanceof a))return new a(t,e);var n=function(t,e){var n={re:0,im:0};if(null==t)n.re=n.im=0;else if(void 0!==e)n.re=t,n.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)n.re=t.re,n.im=t.im;else if("abs"in t&&"arg"in t){if(!Number.isFinite(t.abs)&&Number.isFinite(t.arg))return a.INFINITY;n.re=t.abs*Math.cos(t.arg),n.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!Number.isFinite(t.r)&&Number.isFinite(t.phi))return a.INFINITY;n.re=t.r*Math.cos(t.phi),n.im=t.r*Math.sin(t.phi)}else 2===t.length?(n.re=t[0],n.im=t[1]):i();break;case"string":n.im=n.re=0;var r=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),o=1,s=0;null===r&&i();for(var u=0;u<r.length;u++){var l=r[u];" "===l||"\t"===l||"\n"===l||("+"===l?o++:"-"===l?s++:"i"===l||"I"===l?(o+s===0&&i()," "===r[u+1]||isNaN(r[u+1])?n.im+=parseFloat((s%2?"-":"")+"1"):(n.im+=parseFloat((s%2?"-":"")+r[u+1]),u++),o=s=0):((o+s===0||isNaN(l))&&i(),"i"===r[u+1]||"I"===r[u+1]?(n.im+=parseFloat((s%2?"-":"")+l),u++):n.re+=parseFloat((s%2?"-":"")+l),o=s=0))}o+s>0&&i();break;case"number":n.im=0,n.re=t;break;default:i()}return isNaN(n.re)||isNaN(n.im),n}(t,e);this.re=n.re,this.im=n.im}a.prototype={re:0,im:0,sign:function(){var t=this.abs();return new a(this.re/t,this.im/t)},add:function(t,e){var n=new a(t,e);return this.isInfinite()&&n.isInfinite()?a.NAN:this.isInfinite()||n.isInfinite()?a.INFINITY:new a(this.re+n.re,this.im+n.im)},sub:function(t,e){var n=new a(t,e);return this.isInfinite()&&n.isInfinite()?a.NAN:this.isInfinite()||n.isInfinite()?a.INFINITY:new a(this.re-n.re,this.im-n.im)},mul:function(t,e){var n=new a(t,e);return this.isInfinite()&&n.isZero()||this.isZero()&&n.isInfinite()?a.NAN:this.isInfinite()||n.isInfinite()?a.INFINITY:0===n.im&&0===this.im?new a(this.re*n.re,0):new a(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(t,e){var n=new a(t,e);if(this.isZero()&&n.isZero()||this.isInfinite()&&n.isInfinite())return a.NAN;if(this.isInfinite()||n.isZero())return a.INFINITY;if(this.isZero()||n.isInfinite())return a.ZERO;t=this.re,e=this.im;var r,i,o=n.re,s=n.im;return 0===s?new a(t/o,e/o):Math.abs(o)<Math.abs(s)?new a((t*(i=o/s)+e)/(r=o*i+s),(e*i-t)/r):new a((t+e*(i=s/o))/(r=s*i+o),(e-t*i)/r)},pow:function(t,e){var n=new a(t,e);if(t=this.re,e=this.im,n.isZero())return a.ONE;if(0===n.im){if(0===e&&t>0)return new a(Math.pow(t,n.re),0);if(0===t)switch((n.re%4+4)%4){case 0:return new a(Math.pow(e,n.re),0);case 1:return new a(0,Math.pow(e,n.re));case 2:return new a(-Math.pow(e,n.re),0);case 3:return new a(0,-Math.pow(e,n.re))}}if(0===t&&0===e&&n.re>0&&n.im>=0)return a.ZERO;var r=Math.atan2(e,t),i=o(t,e);return t=Math.exp(n.re*i-n.im*r),e=n.im*i+n.re*r,new a(t*Math.cos(e),t*Math.sin(e))},sqrt:function(){var t,e,n=this.re,r=this.im,i=this.abs();if(n>=0){if(0===r)return new a(Math.sqrt(n),0);t=.5*Math.sqrt(2*(i+n))}else t=Math.abs(r)/Math.sqrt(2*(i-n));return e=n<=0?.5*Math.sqrt(2*(i-n)):Math.abs(r)/Math.sqrt(2*(i+n)),new a(t,r<0?-e:e)},exp:function(){var t=Math.exp(this.re);return this.im,new a(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){var t=this.re,e=this.im;return new a(Math.expm1(t)*Math.cos(e)+function(t){var e=Math.PI/4;if(-e>t||t>e)return Math.cos(t)-1;var n=t*t;return n*(n*(n*(n*(n*(n*(n*(n/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(e),Math.exp(t)*Math.sin(e))},log:function(){var t=this.re,e=this.im;return new a(o(t,e),Math.atan2(e,t))},abs:function(){return t=this.re,e=this.im,n=Math.abs(t),r=Math.abs(e),n<3e3&&r<3e3?Math.sqrt(n*n+r*r):(n<r?(n=r,r=t/e):r=e/t,n*Math.sqrt(1+r*r));var t,e,n,r},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var t=this.re,e=this.im;return new a(Math.sin(t)*n(e),Math.cos(t)*r(e))},cos:function(){var t=this.re,e=this.im;return new a(Math.cos(t)*n(e),-Math.sin(t)*r(e))},tan:function(){var t=2*this.re,e=2*this.im,i=Math.cos(t)+n(e);return new a(Math.sin(t)/i,r(e)/i)},cot:function(){var t=2*this.re,e=2*this.im,i=Math.cos(t)-n(e);return new a(-Math.sin(t)/i,r(e)/i)},sec:function(){var t=this.re,e=this.im,i=.5*n(2*e)+.5*Math.cos(2*t);return new a(Math.cos(t)*n(e)/i,Math.sin(t)*r(e)/i)},csc:function(){var t=this.re,e=this.im,i=.5*n(2*e)-.5*Math.cos(2*t);return new a(Math.sin(t)*n(e)/i,-Math.cos(t)*r(e)/i)},asin:function(){var t=this.re,e=this.im,n=new a(e*e-t*t+1,-2*t*e).sqrt(),r=new a(n.re-e,n.im+t).log();return new a(r.im,-r.re)},acos:function(){var t=this.re,e=this.im,n=new a(e*e-t*t+1,-2*t*e).sqrt(),r=new a(n.re-e,n.im+t).log();return new a(Math.PI/2-r.im,r.re)},atan:function(){var t=this.re,e=this.im;if(0===t){if(1===e)return new a(0,1/0);if(-1===e)return new a(0,-1/0)}var n=t*t+(1-e)*(1-e),r=new a((1-e*e-t*t)/n,-2*t/n).log();return new a(-.5*r.im,.5*r.re)},acot:function(){var t=this.re,e=this.im;if(0===e)return new a(Math.atan2(1,t),0);var n=t*t+e*e;return 0!==n?new a(t/n,-e/n).atan():new a(0!==t?t/0:0,0!==e?-e/0:0).atan()},asec:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new a(0,1/0);var n=t*t+e*e;return 0!==n?new a(t/n,-e/n).acos():new a(0!==t?t/0:0,0!==e?-e/0:0).acos()},acsc:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new a(Math.PI/2,1/0);var n=t*t+e*e;return 0!==n?new a(t/n,-e/n).asin():new a(0!==t?t/0:0,0!==e?-e/0:0).asin()},sinh:function(){var t=this.re,e=this.im;return new a(r(t)*Math.cos(e),n(t)*Math.sin(e))},cosh:function(){var t=this.re,e=this.im;return new a(n(t)*Math.cos(e),r(t)*Math.sin(e))},tanh:function(){var t=2*this.re,e=2*this.im,i=n(t)+Math.cos(e);return new a(r(t)/i,Math.sin(e)/i)},coth:function(){var t=2*this.re,e=2*this.im,i=n(t)-Math.cos(e);return new a(r(t)/i,-Math.sin(e)/i)},csch:function(){var t=this.re,e=this.im,i=Math.cos(2*e)-n(2*t);return new a(-2*r(t)*Math.cos(e)/i,2*n(t)*Math.sin(e)/i)},sech:function(){var t=this.re,e=this.im,i=Math.cos(2*e)+n(2*t);return new a(2*n(t)*Math.cos(e)/i,-2*r(t)*Math.sin(e)/i)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){var t=this.acos();if(t.im<=0){var e=t.re;t.re=-t.im,t.im=e}else e=t.im,t.im=-t.re,t.re=e;return t},atanh:function(){var t=this.re,e=this.im,n=t>1&&0===e,r=1-t,i=1+t,s=r*r+e*e,u=0!==s?new a((i*r-e*e)/s,(e*r+i*e)/s):new a(-1!==t?t/0:0,0!==e?e/0:0),l=u.re;return u.re=o(u.re,u.im)/2,u.im=Math.atan2(u.im,l)/2,n&&(u.im=-u.im),u},acoth:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new a(0,Math.PI/2);var n=t*t+e*e;return 0!==n?new a(t/n,-e/n).atanh():new a(0!==t?t/0:0,0!==e?-e/0:0).atanh()},acsch:function(){var t=this.re,e=this.im;if(0===e)return new a(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var n=t*t+e*e;return 0!==n?new a(t/n,-e/n).asinh():new a(0!==t?t/0:0,0!==e?-e/0:0).asinh()},asech:function(){var t=this.re,e=this.im;if(this.isZero())return a.INFINITY;var n=t*t+e*e;return 0!==n?new a(t/n,-e/n).acosh():new a(0!==t?t/0:0,0!==e?-e/0:0).acosh()},inverse:function(){if(this.isZero())return a.INFINITY;if(this.isInfinite())return a.ZERO;var t=this.re,e=this.im,n=t*t+e*e;return new a(t/n,-e/n)},conjugate:function(){return new a(this.re,-this.im)},neg:function(){return new a(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new a(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new a(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new a(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){var n=new a(t,e);return Math.abs(n.re-this.re)<=a.EPSILON&&Math.abs(n.im-this.im)<=a.EPSILON},clone:function(){return new a(this.re,this.im)},toString:function(){var t=this.re,e=this.im,n="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<a.EPSILON&&(t=0),Math.abs(e)<a.EPSILON&&(e=0),0===e?n+t:(0!==t?(n+=t,n+=" ",e<0?(e=-e,n+="-"):n+="+",n+=" "):e<0&&(e=-e,n+="-"),1!==e&&(n+=e),n+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},a.ZERO=new a(0,0),a.ONE=new a(1,0),a.I=new a(0,1),a.PI=new a(Math.PI,0),a.E=new a(Math.E,0),a.INFINITY=new a(1/0,1/0),a.NAN=new a(NaN,NaN),a.EPSILON=1e-15,Object.defineProperty(a,"__esModule",{value:!0}),a.default=a,a.Complex=a,t.exports=a}()}(fd);var hd=mu(fd.exports),dd=mf("Complex",[],(()=>(Object.defineProperty(hd,"name",{value:"Complex"}),hd.prototype.constructor=hd,hd.prototype.type="Complex",hd.prototype.isComplex=!0,hd.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},hd.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},hd.prototype.format=function(t){var e=this.im,n=this.re,r=Uc(this.re,t),i=Uc(this.im,t),o=Ul(t)?t:t?t.precision:null;if(null!==o){var a=Math.pow(10,-o);Math.abs(n/e)<a&&(n=0),Math.abs(e/n)<a&&(e=0)}return 0===e?r:0===n?1===e?"i":-1===e?"-i":i+"i":e<0?-1===e?r+" - i":r+" - "+i.substring(1)+"i":1===e?r+" + i":r+" + "+i+"i"},hd.fromPolar=function(t){switch(arguments.length){case 1:var e=arguments[0];if("object"==typeof e)return hd(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],r=arguments[1];if(Ul(n)){if(Hl(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),Ul(r))return new hd({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},hd.prototype.valueOf=hd.prototype.toString,hd.fromJSON=function(t){return new hd(t)},hd.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},hd)),{isClass:!0}),pd={exports:{}};
/**
   * @license Fraction.js v4.2.0 05/03/2022
   * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
   *
   * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **/!function(t,e){!function(e){var n={s:1,n:0,d:1};function r(t,e){if(isNaN(t=parseInt(t,10)))throw u.InvalidParameter;return t*e}function i(t,e){if(0===e)throw u.DivisionByZero;var n=Object.create(u.prototype);n.s=t<0?-1:1;var r=s(t=t<0?-t:t,e);return n.n=t/r,n.d=e/r,n}function o(t){for(var e={},n=t,r=2,i=4;i<=n;){for(;n%r==0;)n/=r,e[r]=(e[r]||0)+1;i+=1+2*r++}return n!==t?n>1&&(e[n]=(e[n]||0)+1):e[t]=(e[t]||0)+1,e}var a=function(t,e){var i,o=0,a=1,s=1,l=0,c=0,f=0,h=1,d=1,p=0,m=1,g=1,y=1,v=1e7;if(null==t);else if(void 0!==e){if(s=(o=t)*(a=e),o%1!=0||a%1!=0)throw u.NonIntegerParameter}else switch(typeof t){case"object":if("d"in t&&"n"in t)o=t.n,a=t.d,"s"in t&&(o*=t.s);else{if(!(0 in t))throw u.InvalidParameter;o=t[0],1 in t&&(a=t[1])}s=o*a;break;case"number":if(t<0&&(s=t,t=-t),t%1==0)o=t;else if(t>0){for(t>=1&&(t/=d=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));m<=v&&y<=v;){if(t===(i=(p+g)/(m+y))){m+y<=v?(o=p+g,a=m+y):y>m?(o=g,a=y):(o=p,a=m);break}t>i?(p+=g,m+=y):(g+=p,y+=m),m>v?(o=g,a=y):(o=p,a=m)}o*=d}else(isNaN(t)||isNaN(e))&&(a=o=NaN);break;case"string":if(null===(m=t.match(/\d+|./g)))throw u.InvalidParameter;if("-"===m[p]?(s=-1,p++):"+"===m[p]&&p++,m.length===p+1?c=r(m[p++],s):"."===m[p+1]||"."===m[p]?("."!==m[p]&&(l=r(m[p++],s)),(1+ ++p===m.length||"("===m[p+1]&&")"===m[p+3]||"'"===m[p+1]&&"'"===m[p+3])&&(c=r(m[p],s),h=Math.pow(10,m[p].length),p++),("("===m[p]&&")"===m[p+2]||"'"===m[p]&&"'"===m[p+2])&&(f=r(m[p+1],s),d=Math.pow(10,m[p+1].length)-1,p+=3)):"/"===m[p+1]||":"===m[p+1]?(c=r(m[p],s),h=r(m[p+2],1),p+=3):"/"===m[p+3]&&" "===m[p+1]&&(l=r(m[p],s),c=r(m[p+2],s),h=r(m[p+4],1),p+=5),m.length<=p){s=o=f+(a=h*d)*l+d*c;break}default:throw u.InvalidParameter}if(0===a)throw u.DivisionByZero;n.s=s<0?-1:1,n.n=Math.abs(o),n.d=Math.abs(a)};function s(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function u(t,e){if(a(t,e),!(this instanceof u))return i(n.s*n.n,n.d);t=s(n.d,n.n),this.s=n.s,this.n=n.n/t,this.d=n.d/t}u.DivisionByZero=new Error("Division by Zero"),u.InvalidParameter=new Error("Invalid argument"),u.NonIntegerParameter=new Error("Parameters must be integer"),u.prototype={s:1,n:0,d:1,abs:function(){return i(this.n,this.d)},neg:function(){return i(-this.s*this.n,this.d)},add:function(t,e){return a(t,e),i(this.s*this.n*n.d+n.s*this.d*n.n,this.d*n.d)},sub:function(t,e){return a(t,e),i(this.s*this.n*n.d-n.s*this.d*n.n,this.d*n.d)},mul:function(t,e){return a(t,e),i(this.s*n.s*this.n*n.n,this.d*n.d)},div:function(t,e){return a(t,e),i(this.s*n.s*this.n*n.d,this.d*n.n)},clone:function(){return i(this.s*this.n,this.d)},mod:function(t,e){if(isNaN(this.n)||isNaN(this.d))return new u(NaN);if(void 0===t)return i(this.s*this.n%this.d,1);if(a(t,e),0===n.n&&0===this.d)throw u.DivisionByZero;return i(this.s*(n.d*this.n)%(n.n*this.d),n.d*this.d)},gcd:function(t,e){return a(t,e),i(s(n.n,this.n)*s(n.d,this.d),n.d*this.d)},lcm:function(t,e){return a(t,e),0===n.n&&0===this.n?i(0,1):i(n.n*this.n,s(n.n,this.n)*s(n.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new u(NaN):i(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new u(NaN):i(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new u(NaN):i(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return i(this.s*this.d,this.n)},pow:function(t,e){if(a(t,e),1===n.d)return n.s<0?i(Math.pow(this.s*this.d,n.n),Math.pow(this.n,n.n)):i(Math.pow(this.s*this.n,n.n),Math.pow(this.d,n.n));if(this.s<0)return null;var r=o(this.n),s=o(this.d),u=1,l=1;for(var c in r)if("1"!==c){if("0"===c){u=0;break}if(r[c]*=n.n,r[c]%n.d!=0)return null;r[c]/=n.d,u*=Math.pow(c,r[c])}for(var c in s)if("1"!==c){if(s[c]*=n.n,s[c]%n.d!=0)return null;s[c]/=n.d,l*=Math.pow(c,s[c])}return n.s<0?i(l,u):i(u,l)},equals:function(t,e){return a(t,e),this.s*this.n*n.d==n.s*n.n*this.d},compare:function(t,e){a(t,e);var r=this.s*this.n*n.d-n.s*n.n*this.d;return(0<r)-(r<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;t=t||.001;for(var e=this.abs(),n=e.toContinued(),r=1;r<n.length;r++){for(var o=i(n[r-1],1),a=r-2;a>=0;a--)o=o.inverse().add(n[a]);if(o.sub(e).abs().valueOf()<t)return o.mul(this.s)}return this},divisible:function(t,e){return a(t,e),!(!(n.n*this.d)||this.n*n.d%(n.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var t,e=this.n,n=this.d,r=[];if(isNaN(e)||isNaN(n))return r;do{r.push(Math.floor(e/n)),t=e%n,e=n,n=t}while(1!==e);return r},toString:function(t){var e=this.n,n=this.d;if(isNaN(e)||isNaN(n))return"NaN";t=t||15;var r=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var n=10%e,r=1;1!==n;r++)if(n=10*n%e,r>2e3)return 0;return r}(0,n),i=function(t,e,n){for(var r=1,i=function(t,e,n){for(var r=1;e>0;t=t*t%n,e>>=1)1&e&&(r=r*t%n);return r}(10,n,e),o=0;o<300;o++){if(r===i)return o;r=10*r%e,i=10*i%e}return 0}(0,n,r),o=this.s<0?"-":"";if(o+=e/n|0,e%=n,(e*=10)&&(o+="."),r){for(var a=i;a--;)o+=e/n|0,e%=n,e*=10;for(o+="(",a=r;a--;)o+=e/n|0,e%=n,e*=10;o+=")"}else for(a=t;e&&a--;)o+=e/n|0,e%=n,e*=10;return o}},Object.defineProperty(u,"__esModule",{value:!0}),u.default=u,u.Fraction=u,t.exports=u}()}(pd);var md=mu(pd.exports),gd=mf("Fraction",[],(()=>(Object.defineProperty(md,"name",{value:"Fraction"}),md.prototype.constructor=md,md.prototype.type="Fraction",md.prototype.isFraction=!0,md.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},md.fromJSON=function(t){return new md(t)},md)),{isClass:!0}),yd=mf("Matrix",[],(()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(t,e,n){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(t,e,n){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t}),{isClass:!0});function vd(t){return Object.keys(t.signatures||{}).reduce((function(t,e){var n=(e.match(/,/g)||[]).length+1;return Math.max(t,n)}),-1)}var wd=mf("DenseMatrix",["Matrix"],(t=>{var{Matrix:e}=t;function n(t,e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!Zl(e))throw new Error("Invalid datatype: "+e);if(Xl(t))"DenseMatrix"===t.type?(this._data=Cc(t._data),this._size=Cc(t._size),this._datatype=e||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=e||t._datatype);else if(t&&Yl(t.data)&&Yl(t.size))this._data=t.data,this._size=t.size,rf(this._data,this._size),this._datatype=e||t.datatype;else if(Yl(t))this._data=s(t),this._size=ef(this._data),rf(this._data,this._size),this._datatype=e;else{if(t)throw new TypeError("Unsupported type of data ("+Sc(t)+")");this._data=[],this._size=[0],this._datatype=e}}function r(t,e,n,i){var o=i===n-1,a=e.dimension(i);return o?a.map((function(e){return of(e,t.length),t[e]})).valueOf():a.map((function(o){return of(o,t.length),r(t[o],e,n,i+1)})).valueOf()}function i(t,e,n,r,o){var a=o===r-1,s=e.dimension(o);a?s.forEach((function(e,r){of(e),t[e]=n[r[0]]})):s.forEach((function(a,s){of(a),i(t[a],e,n[s[0]],r,o+1)}))}function o(t,e,n){if(0===e.length){for(var r=t._data;Yl(r);)r=r[0];return r}return t._size=e.slice(0),t._data=af(t._data,t._size,n),t}function a(t,e,n){for(var r=t._size.slice(0),i=!1;r.length<e.length;)r.push(0),i=!0;for(var a=0,s=e.length;a<s;a++)e[a]>r[a]&&(r[a]=e[a],i=!0);i&&o(t,r,n)}function s(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];Yl(r)?t[e]=s(r):r&&!0===r.isMatrix&&(t[e]=s(r.valueOf()))}return t}return n.prototype=new e,n.prototype.createDenseMatrix=function(t,e){return new n(t,e)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return pf(this._data,Sc)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(t,e){return new n(t,e)},n.prototype.subset=function(t,e,o){switch(arguments.length){case 1:return function(t,e){if(!tc(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var i=e.size();if(i.length!==t._size.length)throw new Qc(i.length,t._size.length);for(var o=e.min(),a=e.max(),s=0,u=t._size.length;s<u;s++)of(o[s],t._size[s]),of(a[s],t._size[s]);return new n(r(t._data,e,i.length,0),t._datatype)}(this,t);case 2:case 3:return function(t,e,n,r){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var o,s=e.size(),u=e.isScalar();if(Xl(n)?(o=n.size(),n=n.valueOf()):o=ef(n),u){if(0!==o.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{if(s.length<t._size.length)throw new Qc(s.length,t._size.length,"<");if(o.length<s.length){for(var l=0,c=0;1===s[l]&&1===o[l];)l++;for(;1===s[l];)c++,l++;n=ff(n,s.length,c,o)}if(!kc(s,o))throw new Qc(s,o,">");var f=e.max().map((function(t){return t+1}));a(t,f,r);var h=s.length;i(t._data,e,n,h,0)}return t}(this,t,e,o);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(t){if(!Yl(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Qc(t.length,this._size.length);for(var e=0;e<t.length;e++)of(t[e],this._size[e]);for(var n=this._data,r=0,i=t.length;r<i;r++){var o=t[r];of(o,n.length),n=n[o]}return n},n.prototype.set=function(t,e,n){if(!Yl(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new Qc(t.length,this._size.length,"<");var r,i,o;a(this,t.map((function(t){return t+1})),n);var s=this._data;for(r=0,i=t.length-1;r<i;r++)of(o=t[r],s.length),s=s[o];return of(o=t[t.length-1],s.length),s[o]=e,this},n.prototype.resize=function(t,e,n){if(!Kl(t))throw new TypeError("Array or Matrix expected");var r=t.valueOf().map((t=>Array.isArray(t)&&1===t.length?t[0]:t));return o(n?this.clone():this,r,e)},n.prototype.reshape=function(t,e){var n=e?this.clone():this;n._data=uf(n._data,t);var r=n._size.reduce(((t,e)=>t*e));return n._size=lf(t,r),n},n.prototype.clone=function(){return new n({data:Cc(this._data),size:Cc(this._size),datatype:this._datatype})},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(t){var e=this,r=vd(t),i=function n(i,o){return Yl(i)?i.map((function(t,e){return n(t,o.concat(e))})):1===r?t(i):2===r?t(i,o):t(i,o,e)}(this._data,[]);return new n(i,void 0!==this._datatype?pf(i,Sc):void 0)},n.prototype.forEach=function(t){var e=this;!function n(r,i){Yl(r)?r.forEach((function(t,e){n(t,i.concat(e))})):t(r,i,e)}(this._data,[])},n.prototype[Symbol.iterator]=function*(){yield*function*t(e,n){if(Yl(e))for(var r=0;r<e.length;r++)yield*t(e[r],n.concat(r));else yield{value:e,index:n}}(this._data,[])},n.prototype.rows=function(){var t=[];if(2!==this.size().length)throw new TypeError("Rows can only be returned for a 2D matrix.");var e=this._data;for(var r of e)t.push(new n([r],this._datatype));return t},n.prototype.columns=function(){var t=this,e=[],r=this.size();if(2!==r.length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var i=this._data,o=function(r){var o=i.map((t=>[t[r]]));e.push(new n(o,t._datatype))},a=0;a<r[1];a++)o(a);return e},n.prototype.toArray=function(){return Cc(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(t){return Jc(this._data,t)},n.prototype.toString=function(){return Jc(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(t){if(t){if(ql(t)&&(t=t.toNumber()),!Ul(t)||!jc(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=t>0?t:0,r=t<0?-t:0,i=this._size[0],o=this._size[1],a=Math.min(i-r,o-e),s=[],u=0;u<a;u++)s[u]=this._data[u+r][u+e];return new n({data:s,size:[a],datatype:this._datatype})},n.diagonal=function(t,e,r,i){if(!Yl(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(ql(t)&&(t=t.toNumber()),!Ul(t)||!jc(t)||t<1)throw new Error("Size values must be positive integers");return t})),r){if(ql(r)&&(r=r.toNumber()),!Ul(r)||!jc(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var o,a=r>0?r:0,s=r<0?-r:0,u=t[0],l=t[1],c=Math.min(u-s,l-a);if(Yl(e)){if(e.length!==c)throw new Error("Invalid value array length");o=function(t){return e[t]}}else if(Xl(e)){var f=e.size();if(1!==f.length||f[0]!==c)throw new Error("Invalid matrix length");o=function(t){return e.get([t])}}else o=function(){return e};i||(i=ql(o(0))?o(0).mul(0):0);var h=[];if(t.length>0){h=af(h,t,i);for(var d=0;d<c;d++)h[d+s][d+a]=o(d)}return new n({data:h,size:[u,l]})},n.fromJSON=function(t){return new n(t)},n.prototype.swapRows=function(t,e){if(!(Ul(t)&&jc(t)&&Ul(e)&&jc(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return of(t,this._size[0]),of(e,this._size[0]),n._swapRows(t,e,this._data),this},n._swapRows=function(t,e,n){var r=n[t];n[t]=n[e],n[e]=r},n}),{isClass:!0});function bd(t,e){Xl(t)&&(t=t.valueOf());for(var n=0,r=t.length;n<r;n++){var i=t[n];Array.isArray(i)?bd(i,e):e(i)}}function xd(t,e,n){return t&&"function"==typeof t.map?t.map((function(t){return xd(t,e)})):e(t)}function _d(t,e,n){var r,i,o,a;if(e<=0){if(Array.isArray(t[0])){for(a=function(t){var e,n,r=t.length,i=t[0].length,o=[];for(n=0;n<i;n++){var a=[];for(e=0;e<r;e++)a.push(t[e][n]);o.push(a)}return o}(t),i=[],r=0;r<a.length;r++)i[r]=_d(a[r],e-1,n);return i}for(o=t[0],r=1;r<t.length;r++)o=n(o,t[r]);return o}for(i=[],r=0;r<t.length;r++)i[r]=_d(t[r],e-1,n);return i}var Dd="isInteger",Ed=mf(Dd,["typed"],(t=>{var{typed:e}=t;return e(Dd,{number:jc,BigNumber:function(t){return t.isInt()},Fraction:function(t){return 1===t.d&&isFinite(t.n)},"Array | Matrix":e.referToSelf((t=>e=>xd(e,t)))})})),Ad="number",Md="number, number";function Sd(t){return Math.abs(t)}function Cd(t,e){return t+e}function kd(t,e){return t*e}function Fd(t){return-t}function Nd(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}function Td(t){return 0===t}Sd.signature=Ad,Cd.signature=Md,kd.signature=Md,Fd.signature=Ad,Nd.signature=Md,Td.signature="number";var Bd="isZero",Od=mf(Bd,["typed"],(t=>{var{typed:e}=t;return e(Bd,{number:Td,BigNumber:function(t){return t.isZero()},Complex:function(t){return 0===t.re&&0===t.im},Fraction:function(t){return 1===t.d&&0===t.n},Unit:e.referToSelf((t=>n=>e.find(t,n.valueType())(n.value))),"Array | Matrix":e.referToSelf((t=>e=>xd(e,t)))})})),zd=mf("compareUnits",["typed"],(t=>{var{typed:e}=t;return{"Unit, Unit":e.referToSelf((t=>(n,r)=>{if(!n.equalBase(r))throw new Error("Cannot compare units with different base");return e.find(t,[n.valueType(),r.valueType()])(n.value,r.value)}))}})),Id="equalScalar",Rd=mf(Id,["typed","config"],(t=>{var{typed:e,config:n}=t,r=zd({typed:e});return e(Id,{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,e){return Yc(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.eq(e)||function(t,e,n){if(null==n)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var r=t.minus(e).abs();if(r.isZero())return!0;var i=t.constructor.max(t.abs(),e.abs());return r.lte(i.times(n))}return!1}(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return function(t,e,n){return Yc(t.re,e.re,n)&&Yc(t.im,e.im,n)}(t,e,n.epsilon)}},r)}));mf(Id,["typed","config"],(t=>{var{typed:e,config:n}=t;return e(Id,{"number, number":function(t,e){return Yc(t,e,n.epsilon)}})}));var Pd=mf("SparseMatrix",["typed","equalScalar","Matrix"],(t=>{var{typed:e,equalScalar:n,Matrix:r}=t;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!Zl(e))throw new Error("Invalid datatype: "+e);if(Xl(t))!function(t,e,n){"SparseMatrix"===e.type?(t._values=e._values?Cc(e._values):void 0,t._index=Cc(e._index),t._ptr=Cc(e._ptr),t._size=Cc(e._size),t._datatype=n||e._datatype):o(t,e.valueOf(),n||e._datatype)}(this,t,e);else if(t&&Yl(t.index)&&Yl(t.ptr)&&Yl(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=e||t.datatype;else if(Yl(t))o(this,t,e);else{if(t)throw new TypeError("Unsupported type of data ("+Sc(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e}}function o(t,r,i){t._values=[],t._index=[],t._ptr=[],t._datatype=i;var o=r.length,a=0,s=n,u=0;if(Zl(i)&&(s=e.find(n,[i,i])||n,u=e.convert(0,i)),o>0){var l=0;do{t._ptr.push(t._index.length);for(var c=0;c<o;c++){var f=r[c];if(Yl(f)){if(0===l&&a<f.length&&(a=f.length),l<f.length){var h=f[l];s(h,u)||(t._values.push(h),t._index.push(c))}}else 0===l&&a<1&&(a=1),s(f,u)||(t._values.push(f),t._index.push(c))}l++}while(l<a)}t._ptr.push(t._index.length),t._size=[o,a]}function a(t,e,n,r){if(n-e==0)return n;for(var i=e;i<n;i++)if(r[i]===t)return i;return e}function s(t,e,n,r,i,o,a){i.splice(t,0,r),o.splice(t,0,e);for(var s=n+1;s<a.length;s++)a[s]++}function u(t,r,i,o){var a=o||0,s=n,u=0;Zl(t._datatype)&&(s=e.find(n,[t._datatype,t._datatype])||n,u=e.convert(0,t._datatype),a=e.convert(a,t._datatype));var l,c,f,h=!s(a,u),d=t._size[0],p=t._size[1];if(i>p){for(c=p;c<i;c++)if(t._ptr[c]=t._values.length,h)for(l=0;l<d;l++)t._values.push(a),t._index.push(l);t._ptr[i]=t._values.length}else i<p&&(t._ptr.splice(i+1,p-i),t._values.splice(t._ptr[i],t._values.length),t._index.splice(t._ptr[i],t._index.length));if(p=i,r>d){if(h){var m=0;for(c=0;c<p;c++){t._ptr[c]=t._ptr[c]+m,f=t._ptr[c+1]+m;var g=0;for(l=d;l<r;l++,g++)t._values.splice(f+g,0,a),t._index.splice(f+g,0,l),m++}t._ptr[p]=t._values.length}}else if(r<d){var y=0;for(c=0;c<p;c++){t._ptr[c]=t._ptr[c]-y;var v=t._ptr[c],w=t._ptr[c+1]-y;for(f=v;f<w;f++)(l=t._index[f])>r-1&&(t._values.splice(f,1),t._index.splice(f,1),y++)}t._ptr[c]=t._values.length}return t._size[0]=r,t._size[1]=i,t}function l(t,e,n,r,i){var o,a,s=r[0],u=r[1],l=[];for(o=0;o<s;o++)for(l[o]=[],a=0;a<u;a++)l[o][a]=0;for(a=0;a<u;a++)for(var c=n[a],f=n[a+1],h=c;h<f;h++)l[o=e[h]][a]=t?i?Cc(t[h]):t[h]:1;return l}return i.prototype=new r,i.prototype.createSparseMatrix=function(t,e){return new i(t,e)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return pf(this._values,Sc)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(t,e){return new i(t,e)},i.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},i.prototype.subset=function(t,e,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(t,e){if(!tc(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var n,r,o,a,s=e.size();if(s.length!==t._size.length)throw new Qc(s.length,t._size.length);var u=e.min(),l=e.max();for(n=0,r=t._size.length;n<r;n++)of(u[n],t._size[n]),of(l[n],t._size[n]);var c=t._values,f=t._index,h=t._ptr,d=e.dimension(0),p=e.dimension(1),m=[],g=[];d.forEach((function(t,e){g[t]=e[0],m[t]=!0}));var y=c?[]:void 0,v=[],w=[];return p.forEach((function(t){for(w.push(v.length),o=h[t],a=h[t+1];o<a;o++)n=f[o],!0===m[n]&&(v.push(g[n]),y&&y.push(c[o]))})),w.push(v.length),new i({values:y,index:v,ptr:w,size:s,datatype:t._datatype})}(this,t);case 2:case 3:return function(t,e,n,r){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,o=e.size(),a=e.isScalar();if(Xl(n)?(i=n.size(),n=n.toArray()):i=ef(n),a){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{if(1!==o.length&&2!==o.length)throw new Qc(o.length,t._size.length,"<");if(i.length<o.length){for(var s=0,u=0;1===o[s]&&1===i[s];)s++;for(;1===o[s];)u++,s++;n=ff(n,o.length,u,i)}if(!kc(o,i))throw new Qc(o,i,">");if(1===o.length)e.dimension(0).forEach((function(e,i){of(e),t.set([e,0],n[i[0]],r)}));else{var l=e.dimension(0),c=e.dimension(1);l.forEach((function(e,i){of(e),c.forEach((function(o,a){of(o),t.set([e,o],n[i[0]][a[0]],r)}))}))}}return t}(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(t){if(!Yl(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Qc(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var e=t[0],n=t[1];of(e,this._size[0]),of(n,this._size[1]);var r=a(e,this._ptr[n],this._ptr[n+1],this._index);return r<this._ptr[n+1]&&this._index[r]===e?this._values[r]:0},i.prototype.set=function(t,r,i){if(!Yl(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Qc(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var o=t[0],l=t[1],c=this._size[0],f=this._size[1],h=n,d=0;Zl(this._datatype)&&(h=e.find(n,[this._datatype,this._datatype])||n,d=e.convert(0,this._datatype)),(o>c-1||l>f-1)&&(u(this,Math.max(o+1,c),Math.max(l+1,f),i),c=this._size[0],f=this._size[1]),of(o,c),of(l,f);var p=a(o,this._ptr[l],this._ptr[l+1],this._index);return p<this._ptr[l+1]&&this._index[p]===o?h(r,d)?function(t,e,n,r,i){n.splice(t,1),r.splice(t,1);for(var o=e+1;o<i.length;o++)i[o]--}(p,l,this._values,this._index,this._ptr):this._values[p]=r:h(r,d)||s(p,o,l,r,this._values,this._index,this._ptr),this},i.prototype.resize=function(t,e,n){if(!Kl(t))throw new TypeError("Array or Matrix expected");var r=t.valueOf().map((t=>Array.isArray(t)&&1===t.length?t[0]:t));if(2!==r.length)throw new Error("Only two dimensions matrix are supported");return r.forEach((function(t){if(!Ul(t)||!jc(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Jc(r)+")")})),u(n?this.clone():this,r[0],r[1],e)},i.prototype.reshape=function(t,e){if(!Yl(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");t.forEach((function(e){if(!Ul(e)||!jc(e)||e<=-2||0===e)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Jc(t)+")")}));var n=this._size[0]*this._size[1];if(n!==(t=lf(t,n))[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var r=e?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return r;for(var i=[],o=0;o<r._ptr.length;o++)for(var u=0;u<r._ptr[o+1]-r._ptr[o];u++)i.push(o);for(var l=r._values.slice(),c=r._index.slice(),f=0;f<r._index.length;f++){var h=c[f],d=i[f],p=h*r._size[1]+d;i[f]=p%t[1],c[f]=Math.floor(p/t[1])}r._values.length=0,r._index.length=0,r._ptr.length=t[1]+1,r._size=t.slice();for(var m=0;m<r._ptr.length;m++)r._ptr[m]=0;for(var g=0;g<l.length;g++){var y=c[g],v=i[g],w=l[g];s(a(y,r._ptr[v],r._ptr[v+1],r._index),y,v,w,r._values,r._index,r._ptr)}return r},i.prototype.clone=function(){return new i({values:this._values?Cc(this._values):void 0,index:Cc(this._index),ptr:Cc(this._ptr),size:Cc(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(t,r){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var o=this,a=this._size[0],s=this._size[1],u=vd(t);return function(t,r,o,a,s,u,l){var c=[],f=[],h=[],d=n,p=0;Zl(t._datatype)&&(d=e.find(n,[t._datatype,t._datatype])||n,p=e.convert(0,t._datatype));for(var m=function(t,e,n){t=u(t,e,n),d(t,p)||(c.push(t),f.push(e))},g=0;g<=s;g++){h.push(c.length);var y=t._ptr[g],v=t._ptr[g+1];if(l)for(var w=y;w<v;w++){var b=t._index[w];b>=0&&b<=o&&m(t._values[w],b-0,g-0)}else{for(var x={},_=y;_<v;_++)x[t._index[_]]=t._values[_];for(var D=0;D<=o;D++)m(D in x?x[D]:0,D-0,g-0)}}return h.push(c.length),new i({values:c,index:f,ptr:h,size:[o-0+1,s-0+1]})}(this,0,a-1,0,s-1,(function(e,n,r){return 1===u?t(e):2===u?t(e,[n,r]):t(e,[n,r],o)}),r)},i.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this._size[0],r=this._size[1],i=0;i<r;i++){var o=this._ptr[i],a=this._ptr[i+1];if(e)for(var s=o;s<a;s++){var u=this._index[s];t(this._values[s],[u,i],this)}else{for(var l={},c=o;c<a;c++)l[this._index[c]]=this._values[c];for(var f=0;f<n;f++)t(f in l?l[f]:0,[f,i],this)}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var t=this._size[1],e=0;e<t;e++)for(var n=this._ptr[e],r=this._ptr[e+1],i=n;i<r;i++){var o=this._index[i];yield{value:this._values[i],index:[o,e]}}},i.prototype.toArray=function(){return l(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return l(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(t){for(var e=this._size[0],n=this._size[1],r=this.density(),i="Sparse Matrix ["+Jc(e,t)+" x "+Jc(n,t)+"] density: "+Jc(r,t)+"\n",o=0;o<n;o++)for(var a=this._ptr[o],s=this._ptr[o+1],u=a;u<s;u++)i+="\n    ("+Jc(this._index[u],t)+", "+Jc(o,t)+") ==> "+(this._values?Jc(this._values[u],t):"X");return i},i.prototype.toString=function(){return Jc(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(t){if(t){if(ql(t)&&(t=t.toNumber()),!Ul(t)||!jc(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var e=t>0?t:0,n=t<0?-t:0,r=this._size[0],o=this._size[1],a=Math.min(r-n,o-e),s=[],u=[],l=[];l[0]=0;for(var c=e;c<o&&s.length<a;c++)for(var f=this._ptr[c],h=this._ptr[c+1],d=f;d<h;d++){var p=this._index[d];if(p===c-e+n){s.push(this._values[d]),u[s.length-1]=p-n;break}}return l.push(s.length),new i({values:s,index:u,ptr:l,size:[a,1]})},i.fromJSON=function(t){return new i(t)},i.diagonal=function(t,r,o,a,s){if(!Yl(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(ql(t)&&(t=t.toNumber()),!Ul(t)||!jc(t)||t<1)throw new Error("Size values must be positive integers");return t})),o){if(ql(o)&&(o=o.toNumber()),!Ul(o)||!jc(o))throw new TypeError("The parameter k must be an integer number")}else o=0;var u=n,l=0;Zl(s)&&(u=e.find(n,[s,s])||n,l=e.convert(0,s));var c,f=o>0?o:0,h=o<0?-o:0,d=t[0],p=t[1],m=Math.min(d-h,p-f);if(Yl(r)){if(r.length!==m)throw new Error("Invalid value array length");c=function(t){return r[t]}}else if(Xl(r)){var g=r.size();if(1!==g.length||g[0]!==m)throw new Error("Invalid matrix length");c=function(t){return r.get([t])}}else c=function(){return r};for(var y=[],v=[],w=[],b=0;b<p;b++){w.push(y.length);var x=b-f;if(x>=0&&x<m){var _=c(x);u(_,l)||(v.push(x+h),y.push(_))}}return w.push(y.length),new i({values:y,index:v,ptr:w,size:[d,p]})},i.prototype.swapRows=function(t,e){if(!(Ul(t)&&jc(t)&&Ul(e)&&jc(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return of(t,this._size[0]),of(e,this._size[0]),i._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(t,e,n,r,i){for(var o=r[t],a=r[t+1],s=o;s<a;s++)i(n[s],e[s])},i._swapRows=function(t,e,n,r,i,o){for(var s=0;s<n;s++){var u=o[s],l=o[s+1],c=a(t,u,l,i),f=a(e,u,l,i);if(c<l&&f<l&&i[c]===t&&i[f]===e){if(r){var h=r[c];r[c]=r[f],r[f]=h}}else if(c<l&&i[c]===t&&(f>=l||i[f]!==e)){var d=r?r[c]:void 0;i.splice(f,0,e),r&&r.splice(f,0,d),i.splice(f<=c?c+1:c,1),r&&r.splice(f<=c?c+1:c,1)}else if(f<l&&i[f]===e&&(c>=l||i[c]!==t)){var p=r?r[f]:void 0;i.splice(c,0,t),r&&r.splice(c,0,p),i.splice(c<=f?f+1:f,1),r&&r.splice(c<=f?f+1:f,1)}}},i}),{isClass:!0}),$d=mf("number",["typed"],(t=>{var{typed:e}=t,n=e("number",{"":function(){return 0},number:function(t){return t},string:function(t){if("NaN"===t)return NaN;var e,n,r=(n=(e=t).match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/))?{input:e,radix:{"0b":2,"0o":8,"0x":16}[n[1]],integerPart:n[2],fractionalPart:n[3]}:null;if(r)return function(t){for(var e=parseInt(t.integerPart,t.radix),n=0,r=0;r<t.fractionalPart.length;r++)n+=parseInt(t.fractionalPart[r],t.radix)/Math.pow(t.radix,r+1);var i=e+n;if(isNaN(i))throw new SyntaxError('String "'+t.input+'" is no valid number');return i}(r);var i=0,o=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);o&&(i=Number(o[2]),t=o[1]);var a=Number(t);if(isNaN(a))throw new SyntaxError('String "'+t+'" is no valid number');if(o){if(a>2**i-1)throw new SyntaxError('String "'.concat(t,'" is out of range'));a>=2**(i-1)&&(a-=2**i)}return a},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:e.referToSelf((t=>e=>{var n=e.clone();return n.value=t(e.value),n})),null:function(t){return 0},"Unit, string | Unit":function(t,e){return t.toNumber(e)},"Array | Matrix":e.referToSelf((t=>e=>xd(e,t)))});return n.fromJSON=function(t){return parseFloat(t.value)},n})),jd=mf("bignumber",["typed","BigNumber"],(t=>{var{typed:e,BigNumber:n}=t;return e("bignumber",{"":function(){return new n(0)},number:function(t){return new n(t+"")},string:function(t){var e=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(e){var r=e[2],i=n(e[1]),o=new n(2).pow(Number(r));if(i.gt(o.sub(1)))throw new SyntaxError('String "'.concat(t,'" is out of range'));var a=new n(2).pow(Number(r)-1);return i.gte(a)?i.sub(o):i}return new n(t)},BigNumber:function(t){return t},Unit:e.referToSelf((t=>e=>{var n=e.clone();return n.value=t(e.value),n})),Fraction:function(t){return new n(t.n).div(t.d).times(t.s)},null:function(t){return new n(0)},"Array | Matrix":e.referToSelf((t=>e=>xd(e,t)))})})),Ld=mf("fraction",["typed","Fraction"],(t=>{var{typed:e,Fraction:n}=t;return e("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new n(t)},string:function(t){return new n(t)},"number, number":function(t,e){return new n(t,e)},null:function(t){return new n(0)},BigNumber:function(t){return new n(t.toString())},Fraction:function(t){return t},Unit:e.referToSelf((t=>e=>{var n=e.clone();return n.value=t(e.value),n})),Object:function(t){return new n(t)},"Array | Matrix":e.referToSelf((t=>e=>xd(e,t)))})})),Ud="matrix",qd=mf(Ud,["typed","Matrix","DenseMatrix","SparseMatrix"],(t=>{var{typed:e,Matrix:n,DenseMatrix:r,SparseMatrix:i}=t;return e(Ud,{"":function(){return o([])},string:function(t){return o([],t)},"string, string":function(t,e){return o([],t,e)},Array:function(t){return o(t)},Matrix:function(t){return o(t,t.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(t,e,n){if("dense"===e||"default"===e||void 0===e)return new r(t,n);if("sparse"===e)return new i(t,n);throw new TypeError("Unknown matrix type "+JSON.stringify(e)+".")}})),Vd="unaryMinus",Wd=mf(Vd,["typed"],(t=>{var{typed:e}=t;return e(Vd,{number:Fd,"Complex | BigNumber | Fraction":t=>t.neg(),Unit:e.referToSelf((t=>n=>{var r=n.clone();return r.value=e.find(t,r.valueType())(n.value),r})),"Array | Matrix":e.referToSelf((t=>e=>xd(e,t)))})})),Hd=mf("abs",["typed"],(t=>{var{typed:e}=t;return e("abs",{number:Sd,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),"Array | Matrix":e.referToSelf((t=>e=>xd(e,t)))})})),Zd="addScalar",Yd=mf(Zd,["typed"],(t=>{var{typed:e}=t;return e(Zd,{"number, number":Cd,"Complex, Complex":function(t,e){return t.add(e)},"BigNumber, BigNumber":function(t,e){return t.plus(e)},"Fraction, Fraction":function(t,e){return t.add(e)},"Unit, Unit":e.referToSelf((t=>(n,r)=>{if(null===n.value||void 0===n.value)throw new Error("Parameter x contains a unit with undefined value");if(null===r.value||void 0===r.value)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(r))throw new Error("Units do not match");var i=n.clone();return i.value=e.find(t,[i.valueType(),r.valueType()])(i.value,r.value),i.fixPrefix=!1,i}))})})),Xd=mf("matAlgo11xS0s",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:n}=t;return function(t,r,i,o){var a=t._values,s=t._index,u=t._ptr,l=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,h=l[0],d=l[1],p=n,m=0,g=i;"string"==typeof c&&(f=c,p=e.find(n,[f,f]),m=e.convert(0,f),r=e.convert(r,f),g=e.find(i,[f,f]));for(var y=[],v=[],w=[],b=0;b<d;b++){w[b]=v.length;for(var x=u[b],_=u[b+1],D=x;D<_;D++){var E=s[D],A=o?g(r,a[D]):g(a[D],r);p(A,m)||(v.push(E),y.push(A))}}return w[d]=v.length,t.createSparseMatrix({values:y,index:v,ptr:w,size:[h,d],datatype:f})}})),Kd=mf("matAlgo12xSfs",["typed","DenseMatrix"],(t=>{var{typed:e,DenseMatrix:n}=t;return function(t,r,i,o){var a=t._values,s=t._index,u=t._ptr,l=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,h=l[0],d=l[1],p=i;"string"==typeof c&&(f=c,r=e.convert(r,f),p=e.find(i,[f,f]));for(var m=[],g=[],y=[],v=0;v<d;v++){for(var w=v+1,b=u[v],x=u[v+1],_=b;_<x;_++){var D=s[_];g[D]=a[_],y[D]=w}for(var E=0;E<h;E++)0===v&&(m[E]=[]),y[E]===w?m[E][v]=o?p(r,g[E]):p(g[E],r):m[E][v]=o?p(r,0):p(0,r)}return new n({data:m,size:[h,d],datatype:f})}})),Jd=mf("matAlgo14xDs",["typed"],(t=>{var{typed:e}=t;return function(t,r,i,o){var a,s=t._data,u=t._size,l=t._datatype,c=i;"string"==typeof l&&(a=l,r=e.convert(r,a),c=e.find(i,[a,a]));var f=u.length>0?n(c,0,u,u[0],s,r,o):[];return t.createDenseMatrix({data:f,size:Cc(u),datatype:a})};function n(t,e,r,i,o,a,s){var u=[];if(e===r.length-1)for(var l=0;l<i;l++)u[l]=s?t(a,o[l]):t(o[l],a);else for(var c=0;c<i;c++)u[c]=n(t,e+1,r,r[e+1],o[c],a,s);return u}})),Gd=mf("matAlgo01xDSid",["typed"],(t=>{var{typed:e}=t;return function(t,n,r,i){var o=t._data,a=t._size,s=t._datatype,u=n._values,l=n._index,c=n._ptr,f=n._size,h=n._datatype;if(a.length!==f.length)throw new Qc(a.length,f.length);if(a[0]!==f[0]||a[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+f+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d,p,m=a[0],g=a[1],y="string"==typeof s&&s===h?s:void 0,v=y?e.find(r,[y,y]):r,w=[];for(d=0;d<m;d++)w[d]=[];var b=[],x=[];for(p=0;p<g;p++){for(var _=p+1,D=c[p],E=c[p+1],A=D;A<E;A++)b[d=l[A]]=i?v(u[A],o[d][p]):v(o[d][p],u[A]),x[d]=_;for(d=0;d<m;d++)x[d]===_?w[d][p]=b[d]:w[d][p]=o[d][p]}return t.createDenseMatrix({data:w,size:[m,g],datatype:y})}})),Qd=mf("matAlgo04xSidSid",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:n}=t;return function(t,r,i){var o=t._values,a=t._index,s=t._ptr,u=t._size,l=t._datatype,c=r._values,f=r._index,h=r._ptr,d=r._size,p=r._datatype;if(u.length!==d.length)throw new Qc(u.length,d.length);if(u[0]!==d[0]||u[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+d+")");var m,g=u[0],y=u[1],v=n,w=0,b=i;"string"==typeof l&&l===p&&(m=l,v=e.find(n,[m,m]),w=e.convert(0,m),b=e.find(i,[m,m]));var x,_,D,E,A,M=o&&c?[]:void 0,S=[],C=[],k=o&&c?[]:void 0,F=o&&c?[]:void 0,N=[],T=[];for(_=0;_<y;_++){C[_]=S.length;var B=_+1;for(E=s[_],A=s[_+1],D=E;D<A;D++)x=a[D],S.push(x),N[x]=B,k&&(k[x]=o[D]);for(E=h[_],A=h[_+1],D=E;D<A;D++)if(N[x=f[D]]===B){if(k){var O=b(k[x],c[D]);v(O,w)?N[x]=null:k[x]=O}}else S.push(x),T[x]=B,F&&(F[x]=c[D]);if(k&&F)for(D=C[_];D<S.length;)N[x=S[D]]===B?(M[D]=k[x],D++):T[x]===B?(M[D]=F[x],D++):S.splice(D,1)}return C[y]=S.length,t.createSparseMatrix({values:M,index:S,ptr:C,size:[g,y],datatype:m})}})),tp=mf("matAlgo10xSids",["typed","DenseMatrix"],(t=>{var{typed:e,DenseMatrix:n}=t;return function(t,r,i,o){var a=t._values,s=t._index,u=t._ptr,l=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,h=l[0],d=l[1],p=i;"string"==typeof c&&(f=c,r=e.convert(r,f),p=e.find(i,[f,f]));for(var m=[],g=[],y=[],v=0;v<d;v++){for(var w=v+1,b=u[v],x=u[v+1],_=b;_<x;_++){var D=s[_];g[D]=a[_],y[D]=w}for(var E=0;E<h;E++)0===v&&(m[E]=[]),y[E]===w?m[E][v]=o?p(r,g[E]):p(g[E],r):m[E][v]=r}return new n({data:m,size:[h,d],datatype:f})}})),ep=mf("matAlgo13xDD",["typed"],(t=>{var{typed:e}=t;return function(t,r,i){var o,a=t._data,s=t._size,u=t._datatype,l=r._data,c=r._size,f=r._datatype,h=[];if(s.length!==c.length)throw new Qc(s.length,c.length);for(var d=0;d<s.length;d++){if(s[d]!==c[d])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+c+")");h[d]=s[d]}var p=i;"string"==typeof u&&u===f&&(o=u,p=e.find(i,[o,o]));var m=h.length>0?n(p,0,h,h[0],a,l):[];return t.createDenseMatrix({data:m,size:h,datatype:o})};function n(t,e,r,i,o,a){var s=[];if(e===r.length-1)for(var u=0;u<i;u++)s[u]=t(o[u],a[u]);else for(var l=0;l<i;l++)s[l]=n(t,e+1,r,r[e+1],o[l],a[l]);return s}})),np=mf("broadcast",["concat"],(t=>{var{concat:e}=t;return function(t,e){var o=Math.max(t._size.length,e._size.length);if(t._size.length===e._size.length&&t._size.every(((t,n)=>t===e._size[n])))return[t,e];for(var a=n(t._size,o,0),s=n(e._size,o,0),u=[],l=0;l<o;l++)u[l]=Math.max(a[l],s[l]);for(var c=0;c<o;c++)i(a,u,c),i(s,u,c);var f=t.clone(),h=e.clone();f._size.length<o?f.reshape(n(f._size,o,1)):h._size.length<o&&h.reshape(n(h._size,o,1));for(var d=0;d<o;d++)f._size[d]<u[d]&&(f=r(f,u[d],d)),h._size[d]<u[d]&&(h=r(h,u[d],d));return[f,h]};function n(t,e,n){return[...Array(e-t.length).fill(n),...t]}function r(t,n,r){return e(...Array(n).fill(t),r)}function i(t,e,n){if(t[n]<e[n]&t[n]>1)throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(t,") not possible to broadcast dimension ").concat(n," with size ").concat(t[n]," to size ").concat(e[n]))}})),rp=mf("matrixAlgorithmSuite",["typed","matrix","concat"],(t=>{var{typed:e,matrix:n,concat:r}=t,i=ep({typed:e}),o=Jd({typed:e}),a=np({concat:r});return function(t){var r,s=t.elop,u=t.SD||t.DS;s?(r={"DenseMatrix, DenseMatrix":(t,e)=>i(...a(t,e),s),"Array, Array":(t,e)=>i(...a(n(t),n(e)),s).valueOf(),"Array, DenseMatrix":(t,e)=>i(...a(n(t),e),s),"DenseMatrix, Array":(t,e)=>i(...a(t,n(e)),s)},t.SS&&(r["SparseMatrix, SparseMatrix"]=(e,n)=>t.SS(...a(e,n),s,!1)),t.DS&&(r["DenseMatrix, SparseMatrix"]=(e,n)=>t.DS(...a(e,n),s,!1),r["Array, SparseMatrix"]=(e,r)=>t.DS(...a(n(e),r),s,!1)),u&&(r["SparseMatrix, DenseMatrix"]=(t,e)=>u(...a(e,t),s,!0),r["SparseMatrix, Array"]=(t,e)=>u(...a(n(e),t),s,!0))):(r={"DenseMatrix, DenseMatrix":e.referToSelf((t=>(e,n)=>i(...a(e,n),t))),"Array, Array":e.referToSelf((t=>(e,r)=>i(...a(n(e),n(r)),t).valueOf())),"Array, DenseMatrix":e.referToSelf((t=>(e,r)=>i(...a(n(e),r),t))),"DenseMatrix, Array":e.referToSelf((t=>(e,r)=>i(...a(e,n(r)),t)))},t.SS&&(r["SparseMatrix, SparseMatrix"]=e.referToSelf((e=>(n,r)=>t.SS(...a(n,r),e,!1)))),t.DS&&(r["DenseMatrix, SparseMatrix"]=e.referToSelf((e=>(n,r)=>t.DS(...a(n,r),e,!1))),r["Array, SparseMatrix"]=e.referToSelf((e=>(r,i)=>t.DS(...a(n(r),i),e,!1)))),u&&(r["SparseMatrix, DenseMatrix"]=e.referToSelf((t=>(e,n)=>u(...a(n,e),t,!0))),r["SparseMatrix, Array"]=e.referToSelf((t=>(e,r)=>u(...a(n(r),e),t,!0)))));var l=t.scalar||"any";(t.Ds||t.Ss)&&(s?(r["DenseMatrix,"+l]=(t,e)=>o(t,e,s,!1),r[l+", DenseMatrix"]=(t,e)=>o(e,t,s,!0),r["Array,"+l]=(t,e)=>o(n(t),e,s,!1).valueOf(),r[l+", Array"]=(t,e)=>o(n(e),t,s,!0).valueOf()):(r["DenseMatrix,"+l]=e.referToSelf((t=>(e,n)=>o(e,n,t,!1))),r[l+", DenseMatrix"]=e.referToSelf((t=>(e,n)=>o(n,e,t,!0))),r["Array,"+l]=e.referToSelf((t=>(e,r)=>o(n(e),r,t,!1).valueOf())),r[l+", Array"]=e.referToSelf((t=>(e,r)=>o(n(r),e,t,!0).valueOf()))));var c=void 0!==t.sS?t.sS:t.Ss;return s?(t.Ss&&(r["SparseMatrix,"+l]=(e,n)=>t.Ss(e,n,s,!1)),c&&(r[l+", SparseMatrix"]=(t,e)=>c(e,t,s,!0))):(t.Ss&&(r["SparseMatrix,"+l]=e.referToSelf((e=>(n,r)=>t.Ss(n,r,e,!1)))),c&&(r[l+", SparseMatrix"]=e.referToSelf((t=>(e,n)=>c(n,e,t,!0))))),s&&s.signatures&&function(t,e){for(var n in e)Fc(e,n)&&(t[n]=e[n])}(r,s.signatures),r}})),ip=mf("matAlgo02xDS0",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:n}=t;return function(t,r,i,o){var a=t._data,s=t._size,u=t._datatype,l=r._values,c=r._index,f=r._ptr,h=r._size,d=r._datatype;if(s.length!==h.length)throw new Qc(s.length,h.length);if(s[0]!==h[0]||s[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p,m=s[0],g=s[1],y=n,v=0,w=i;"string"==typeof u&&u===d&&(p=u,y=e.find(n,[p,p]),v=e.convert(0,p),w=e.find(i,[p,p]));for(var b=[],x=[],_=[],D=0;D<g;D++){_[D]=x.length;for(var E=f[D],A=f[D+1],M=E;M<A;M++){var S=c[M],C=o?w(l[M],a[S][D]):w(a[S][D],l[M]);y(C,v)||(x.push(S),b.push(C))}}return _[g]=x.length,r.createSparseMatrix({values:b,index:x,ptr:_,size:[m,g],datatype:p})}})),op=mf("matAlgo03xDSf",["typed"],(t=>{var{typed:e}=t;return function(t,n,r,i){var o=t._data,a=t._size,s=t._datatype,u=n._values,l=n._index,c=n._ptr,f=n._size,h=n._datatype;if(a.length!==f.length)throw new Qc(a.length,f.length);if(a[0]!==f[0]||a[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+f+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d,p=a[0],m=a[1],g=0,y=r;"string"==typeof s&&s===h&&(d=s,g=e.convert(0,d),y=e.find(r,[d,d]));for(var v=[],w=0;w<p;w++)v[w]=[];for(var b=[],x=[],_=0;_<m;_++){for(var D=_+1,E=c[_],A=c[_+1],M=E;M<A;M++){var S=l[M];b[S]=i?y(u[M],o[S][_]):y(o[S][_],u[M]),x[S]=D}for(var C=0;C<p;C++)x[C]===D?v[C][_]=b[C]:v[C][_]=i?y(g,o[C][_]):y(o[C][_],g)}return t.createDenseMatrix({data:v,size:[p,m],datatype:d})}})),ap=mf("matAlgo05xSfSf",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:n}=t;return function(t,r,i){var o=t._values,a=t._index,s=t._ptr,u=t._size,l=t._datatype,c=r._values,f=r._index,h=r._ptr,d=r._size,p=r._datatype;if(u.length!==d.length)throw new Qc(u.length,d.length);if(u[0]!==d[0]||u[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+d+")");var m,g=u[0],y=u[1],v=n,w=0,b=i;"string"==typeof l&&l===p&&(m=l,v=e.find(n,[m,m]),w=e.convert(0,m),b=e.find(i,[m,m]));var x,_,D,E,A=o&&c?[]:void 0,M=[],S=[],C=A?[]:void 0,k=A?[]:void 0,F=[],N=[];for(_=0;_<y;_++){S[_]=M.length;var T=_+1;for(D=s[_],E=s[_+1];D<E;D++)x=a[D],M.push(x),F[x]=T,C&&(C[x]=o[D]);for(D=h[_],E=h[_+1];D<E;D++)F[x=f[D]]!==T&&M.push(x),N[x]=T,k&&(k[x]=c[D]);if(A)for(D=S[_];D<M.length;){var B=F[x=M[D]],O=N[x];if(B===T||O===T){var z=b(B===T?C[x]:w,O===T?k[x]:w);v(z,w)?M.splice(D,1):(A.push(z),D++)}}}return S[y]=M.length,t.createSparseMatrix({values:A,index:M,ptr:S,size:[g,y],datatype:m})}})),sp=mf("multiplyScalar",["typed"],(t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":kd,"Complex, Complex":function(t,e){return t.mul(e)},"BigNumber, BigNumber":function(t,e){return t.times(e)},"Fraction, Fraction":function(t,e){return t.mul(e)},"number | Fraction | BigNumber | Complex, Unit":(t,e)=>e.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,e)=>t.multiply(e)})})),up="multiply",lp=mf(up,["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],(t=>{var{typed:e,matrix:n,addScalar:r,multiplyScalar:i,equalScalar:o,dot:a}=t,s=Xd({typed:e,equalScalar:o}),u=Jd({typed:e});function l(t,e){switch(t.length){case 1:switch(e.length){case 1:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;case 2:switch(e.length){case 1:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+e[0]+")");break;case 2:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}}function c(t,n){if("dense"!==n.storage())throw new Error("Support for SparseMatrix not implemented");return function(t,n){var o,a=t._data,s=t._size,u=t._datatype,l=n._data,c=n._size,f=n._datatype,h=s[0],d=c[1],p=r,m=i;u&&f&&u===f&&"string"==typeof u&&(o=u,p=e.find(r,[o,o]),m=e.find(i,[o,o]));for(var g=[],y=0;y<d;y++){for(var v=m(a[0],l[0][y]),w=1;w<h;w++)v=p(v,m(a[w],l[w][y]));g[y]=v}return t.createDenseMatrix({data:g,size:[d],datatype:o})}(t,n)}var f=e("_multiplyMatrixVector",{"DenseMatrix, any":function(t,n){var o,a=t._data,s=t._size,u=t._datatype,l=n._data,c=n._datatype,f=s[0],h=s[1],d=r,p=i;u&&c&&u===c&&"string"==typeof u&&(o=u,d=e.find(r,[o,o]),p=e.find(i,[o,o]));for(var m=[],g=0;g<f;g++){for(var y=a[g],v=p(y[0],l[0]),w=1;w<h;w++)v=d(v,p(y[w],l[w]));m[g]=v}return t.createDenseMatrix({data:m,size:[f],datatype:o})},"SparseMatrix, any":function(t,n){var a=t._values,s=t._index,u=t._ptr,l=t._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,f=n._data,h=n._datatype,d=t._size[0],p=n._size[0],m=[],g=[],y=[],v=r,w=i,b=o,x=0;l&&h&&l===h&&"string"==typeof l&&(c=l,v=e.find(r,[c,c]),w=e.find(i,[c,c]),b=e.find(o,[c,c]),x=e.convert(0,c));var _=[],D=[];y[0]=0;for(var E=0;E<p;E++){var A=f[E];if(!b(A,x))for(var M=u[E],S=u[E+1],C=M;C<S;C++){var k=s[C];D[k]?_[k]=v(_[k],w(A,a[C])):(D[k]=!0,g.push(k),_[k]=w(A,a[C]))}}for(var F=g.length,N=0;N<F;N++){var T=g[N];m[N]=_[T]}return y[1]=g.length,t.createSparseMatrix({values:m,index:g,ptr:y,size:[d,1],datatype:c})}}),h=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(t,n){var o,a=t._data,s=t._size,u=t._datatype,l=n._data,c=n._size,f=n._datatype,h=s[0],d=s[1],p=c[1],m=r,g=i;u&&f&&u===f&&"string"==typeof u&&(o=u,m=e.find(r,[o,o]),g=e.find(i,[o,o]));for(var y=[],v=0;v<h;v++){var w=a[v];y[v]=[];for(var b=0;b<p;b++){for(var x=g(w[0],l[0][b]),_=1;_<d;_++)x=m(x,g(w[_],l[_][b]));y[v][b]=x}}return t.createDenseMatrix({data:y,size:[h,p],datatype:o})},"DenseMatrix, SparseMatrix":function(t,n){var a=t._data,s=t._size,u=t._datatype,l=n._values,c=n._index,f=n._ptr,h=n._size,d=n._datatype;if(!l)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var p,m=s[0],g=h[1],y=r,v=i,w=o,b=0;u&&d&&u===d&&"string"==typeof u&&(p=u,y=e.find(r,[p,p]),v=e.find(i,[p,p]),w=e.find(o,[p,p]),b=e.convert(0,p));for(var x=[],_=[],D=[],E=n.createSparseMatrix({values:x,index:_,ptr:D,size:[m,g],datatype:p}),A=0;A<g;A++){D[A]=_.length;var M=f[A],S=f[A+1];if(S>M)for(var C=0,k=0;k<m;k++){for(var F=k+1,N=void 0,T=M;T<S;T++){var B=c[T];C!==F?(N=v(a[k][B],l[T]),C=F):N=y(N,v(a[k][B],l[T]))}C!==F||w(N,b)||(_.push(k),x.push(N))}}return D[g]=_.length,E},"SparseMatrix, DenseMatrix":function(t,n){var a=t._values,s=t._index,u=t._ptr,l=t._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,f=n._data,h=n._datatype,d=t._size[0],p=n._size[0],m=n._size[1],g=r,y=i,v=o,w=0;l&&h&&l===h&&"string"==typeof l&&(c=l,g=e.find(r,[c,c]),y=e.find(i,[c,c]),v=e.find(o,[c,c]),w=e.convert(0,c));for(var b=[],x=[],_=[],D=t.createSparseMatrix({values:b,index:x,ptr:_,size:[d,m],datatype:c}),E=[],A=[],M=0;M<m;M++){_[M]=x.length;for(var S=M+1,C=0;C<p;C++){var k=f[C][M];if(!v(k,w))for(var F=u[C],N=u[C+1],T=F;T<N;T++){var B=s[T];A[B]!==S?(A[B]=S,x.push(B),E[B]=y(k,a[T])):E[B]=g(E[B],y(k,a[T]))}}for(var O=_[M],z=x.length,I=O;I<z;I++){var R=x[I];b[I]=E[R]}}return _[m]=x.length,D},"SparseMatrix, SparseMatrix":function(t,n){var o,a=t._values,s=t._index,u=t._ptr,l=t._datatype,c=n._values,f=n._index,h=n._ptr,d=n._datatype,p=t._size[0],m=n._size[1],g=a&&c,y=r,v=i;l&&d&&l===d&&"string"==typeof l&&(o=l,y=e.find(r,[o,o]),v=e.find(i,[o,o]));for(var w,b,x,_,D,E,A,M,S=g?[]:void 0,C=[],k=[],F=t.createSparseMatrix({values:S,index:C,ptr:k,size:[p,m],datatype:o}),N=g?[]:void 0,T=[],B=0;B<m;B++){k[B]=C.length;var O=B+1;for(D=h[B],E=h[B+1],_=D;_<E;_++)if(M=f[_],g)for(b=u[M],x=u[M+1],w=b;w<x;w++)T[A=s[w]]!==O?(T[A]=O,C.push(A),N[A]=v(c[_],a[w])):N[A]=y(N[A],v(c[_],a[w]));else for(b=u[M],x=u[M+1],w=b;w<x;w++)T[A=s[w]]!==O&&(T[A]=O,C.push(A));if(g)for(var z=k[B],I=C.length,R=z;R<I;R++){var P=C[R];S[R]=N[P]}}return k[m]=C.length,F}});return e(up,i,{"Array, Array":e.referTo("Matrix, Matrix",(t=>(e,r)=>{l(ef(e),ef(r));var i=t(n(e),n(r));return Xl(i)?i.valueOf():i})),"Matrix, Matrix":function(t,e){var n=t.size(),r=e.size();return l(n,r),1===n.length?1===r.length?function(t,e,n){if(0===n)throw new Error("Cannot multiply two empty vectors");return a(t,e)}(t,e,n[0]):c(t,e):1===r.length?f(t,e):h(t,e)},"Matrix, Array":e.referTo("Matrix,Matrix",(t=>(e,r)=>t(e,n(r)))),"Array, Matrix":e.referToSelf((t=>(e,r)=>t(n(e,r.storage()),r))),"SparseMatrix, any":function(t,e){return s(t,e,i,!1)},"DenseMatrix, any":function(t,e){return u(t,e,i,!1)},"any, SparseMatrix":function(t,e){return s(e,t,i,!0)},"any, DenseMatrix":function(t,e){return u(e,t,i,!0)},"Array, any":function(t,e){return u(n(t),e,i,!1).valueOf()},"any, Array":function(t,e){return u(n(e),t,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf((t=>(e,n,r)=>{for(var i=t(e,n),o=0;o<r.length;o++)i=t(i,r[o]);return i}))})})),cp=mf("sqrt",["config","typed","Complex"],(t=>{var{config:e,typed:n,Complex:r}=t;return n("sqrt",{number:i,Complex:function(t){return t.sqrt()},BigNumber:function(t){return!t.isNegative()||e.predictable?t.sqrt():i(t.toNumber())},Unit:function(t){return t.pow(.5)}});function i(t){return isNaN(t)?NaN:t>=0||e.predictable?Math.sqrt(t):new r(t,0).sqrt()}})),fp="subtract",hp=mf(fp,["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix","concat"],(t=>{var{typed:e,matrix:n,equalScalar:r,addScalar:i,unaryMinus:o,DenseMatrix:a,concat:s}=t,u=Gd({typed:e}),l=op({typed:e}),c=ap({typed:e,equalScalar:r}),f=tp({typed:e,DenseMatrix:a}),h=Kd({typed:e,DenseMatrix:a}),d=rp({typed:e,matrix:n,concat:s});return e(fp,{"number, number":(t,e)=>t-e,"Complex, Complex":(t,e)=>t.sub(e),"BigNumber, BigNumber":(t,e)=>t.minus(e),"Fraction, Fraction":(t,e)=>t.sub(e),"Unit, Unit":e.referToSelf((t=>(n,r)=>{if(null===n.value)throw new Error("Parameter x contains a unit with undefined value");if(null===r.value)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(r))throw new Error("Units do not match");var i=n.clone();return i.value=e.find(t,[i.valueType(),r.valueType()])(i.value,r.value),i.fixPrefix=!1,i}))},d({SS:c,DS:u,SD:l,Ss:h,sS:f}))})),dp=mf("matAlgo09xS0Sf",["typed","equalScalar"],(t=>{var{typed:e,equalScalar:n}=t;return function(t,r,i){var o=t._values,a=t._index,s=t._ptr,u=t._size,l=t._datatype,c=r._values,f=r._index,h=r._ptr,d=r._size,p=r._datatype;if(u.length!==d.length)throw new Qc(u.length,d.length);if(u[0]!==d[0]||u[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+d+")");var m,g=u[0],y=u[1],v=n,w=0,b=i;"string"==typeof l&&l===p&&(m=l,v=e.find(n,[m,m]),w=e.convert(0,m),b=e.find(i,[m,m]));var x,_,D,E,A,M=o&&c?[]:void 0,S=[],C=[],k=M?[]:void 0,F=[];for(_=0;_<y;_++){C[_]=S.length;var N=_+1;if(k)for(E=h[_],A=h[_+1],D=E;D<A;D++)F[x=f[D]]=N,k[x]=c[D];for(E=s[_],A=s[_+1],D=E;D<A;D++)if(x=a[D],k){var T=F[x]===N?k[x]:w,B=b(o[D],T);v(B,w)||(S.push(x),M.push(B))}else S.push(x)}return C[y]=S.length,t.createSparseMatrix({values:M,index:S,ptr:C,size:[g,y],datatype:m})}})),pp="dotMultiply",mp=mf(pp,["typed","matrix","equalScalar","multiplyScalar","concat"],(t=>{var{typed:e,matrix:n,equalScalar:r,multiplyScalar:i,concat:o}=t,a=ip({typed:e,equalScalar:r}),s=dp({typed:e,equalScalar:r}),u=Xd({typed:e,equalScalar:r}),l=rp({typed:e,matrix:n,concat:o});return e(pp,l({elop:i,SS:s,DS:a,Ss:u}))})),gp=mf("matAlgo07xSSf",["typed","DenseMatrix"],(t=>{var{typed:e,DenseMatrix:n}=t;return function(t,i,o){var a=t._size,s=t._datatype,u=i._size,l=i._datatype;if(a.length!==u.length)throw new Qc(a.length,u.length);if(a[0]!==u[0]||a[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+u+")");var c,f,h,d=a[0],p=a[1],m=0,g=o;"string"==typeof s&&s===l&&(c=s,m=e.convert(0,c),g=e.find(o,[c,c]));var y=[];for(f=0;f<d;f++)y[f]=[];var v=[],w=[],b=[],x=[];for(h=0;h<p;h++){var _=h+1;for(r(t,h,b,v,_),r(i,h,x,w,_),f=0;f<d;f++){var D=b[f]===_?v[f]:m,E=x[f]===_?w[f]:m;y[f][h]=g(D,E)}}return new n({data:y,size:[d,p],datatype:c})};function r(t,e,n,r,i){for(var o=t._values,a=t._index,s=t._ptr,u=s[e],l=s[e+1];u<l;u++){var c=a[u];n[c]=i,r[c]=o[u]}}})),yp="conj",vp=mf(yp,["typed"],(t=>{var{typed:e}=t;return e(yp,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf((t=>e=>xd(e,t)))})})),wp="concat",bp=mf(wp,["typed","matrix","isInteger"],(t=>{var{typed:e,matrix:n,isInteger:r}=t;return e(wp,{"...Array | Matrix | number | BigNumber":function(t){var e,i,o=t.length,a=-1,s=!1,u=[];for(e=0;e<o;e++){var l=t[e];if(Xl(l)&&(s=!0),Ul(l)||ql(l)){if(e!==o-1)throw new Error("Dimension must be specified as last argument");if(i=a,a=l.valueOf(),!r(a))throw new TypeError("Integer number expected for dimension");if(a<0||e>0&&a>i)throw new tf(a,i+1)}else{var c=Cc(l).valueOf(),f=ef(c);if(u[e]=c,i=a,a=f.length-1,e>0&&a!==i)throw new Qc(i+1,a+1)}}if(0===u.length)throw new SyntaxError("At least one matrix expected");for(var h=u.shift();u.length;)h=xp(h,u.shift(),a,0);return s?n(h):h},"...string":function(t){return t.join("")}})}));function xp(t,e,n,r){if(r<n){if(t.length!==e.length)throw new Qc(t.length,e.length);for(var i=[],o=0;o<t.length;o++)i[o]=xp(t[o],e[o],n,r+1);return i}return t.concat(e)}var _p="diag",Dp=mf(_p,["typed","matrix","DenseMatrix","SparseMatrix"],(t=>{var{typed:e,matrix:n,DenseMatrix:r,SparseMatrix:i}=t;return e(_p,{Array:function(t){return o(t,0,ef(t),null)},"Array, number":function(t,e){return o(t,e,ef(t),null)},"Array, BigNumber":function(t,e){return o(t,e.toNumber(),ef(t),null)},"Array, string":function(t,e){return o(t,0,ef(t),e)},"Array, number, string":function(t,e,n){return o(t,e,ef(t),n)},"Array, BigNumber, string":function(t,e,n){return o(t,e.toNumber(),ef(t),n)},Matrix:function(t){return o(t,0,t.size(),t.storage())},"Matrix, number":function(t,e){return o(t,e,t.size(),t.storage())},"Matrix, BigNumber":function(t,e){return o(t,e.toNumber(),t.size(),t.storage())},"Matrix, string":function(t,e){return o(t,0,t.size(),e)},"Matrix, number, string":function(t,e,n){return o(t,e,t.size(),n)},"Matrix, BigNumber, string":function(t,e,n){return o(t,e.toNumber(),t.size(),n)}});function o(t,e,o,a){if(!jc(e))throw new TypeError("Second parameter in function diag must be an integer");var s=e>0?e:0,u=e<0?-e:0;switch(o.length){case 1:return function(t,e,n,o,a,s){var u=[o+a,o+s];if(n&&"sparse"!==n&&"dense"!==n)throw new TypeError("Unknown matrix type ".concat(n,'"'));var l="sparse"===n?i.diagonal(u,t,e):r.diagonal(u,t,e);return null!==n?l:l.valueOf()}(t,e,a,o[0],u,s);case 2:return function(t,e,r,i,o,a){if(Xl(t)){var s=t.diagonal(e);return null!==r?r!==s.storage()?n(s,r):s:s.valueOf()}for(var u=Math.min(i[0]-o,i[1]-a),l=[],c=0;c<u;c++)l[c]=t[c+o][c+a];return null!==r?n(l):l}(t,e,a,o,u,s)}throw new RangeError("Matrix for function diag must be 2 dimensional")}})),Ep="flatten",Ap=mf(Ep,["typed","matrix"],(t=>{var{typed:e,matrix:n}=t;return e(Ep,{Array:function(t){return df(t)},Matrix:function(t){var e=df(t.toArray());return n(e)}})})),Mp="identity",Sp=mf(Mp,["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],(t=>{var{typed:e,config:n,matrix:r,BigNumber:i,DenseMatrix:o,SparseMatrix:a}=t;return e(Mp,{"":function(){return"Matrix"===n.matrix?r([]):[]},string:function(t){return r(t)},"number | BigNumber":function(t){return u(t,t,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, string":function(t,e){return u(t,t,e)},"number | BigNumber, number | BigNumber":function(t,e){return u(t,e,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(t,e,n){return u(t,e,n)},Array:function(t){return s(t)},"Array, string":function(t,e){return s(t,e)},Matrix:function(t){return s(t.valueOf(),t.storage())},"Matrix, string":function(t,e){return s(t.valueOf(),e)}});function s(t,e){switch(t.length){case 0:return e?r(e):[];case 1:return u(t[0],t[0],e);case 2:return u(t[0],t[1],e);default:throw new Error("Vector containing two values expected")}}function u(t,e,n){var r=ql(t)||ql(e)?i:null;if(ql(t)&&(t=t.toNumber()),ql(e)&&(e=e.toNumber()),!jc(t)||t<1)throw new Error("Parameters in function identity must be positive integers");if(!jc(e)||e<1)throw new Error("Parameters in function identity must be positive integers");var s=r?new i(1):1,u=r?new r(0):0,l=[t,e];if(n){if("sparse"===n)return a.diagonal(l,s,0,u);if("dense"===n)return o.diagonal(l,s,0,u);throw new TypeError('Unknown matrix type "'.concat(n,'"'))}for(var c=af([],l,u),f=t<e?t:e,h=0;h<f;h++)c[h][h]=s;return c}})),Cp=mf("ones",["typed","config","matrix","BigNumber"],(t=>{var{typed:e,config:n,matrix:r,BigNumber:i}=t;return e("ones",{"":function(){return"Array"===n.matrix?o([]):o([],"default")},"...number | BigNumber | string":function(t){if("string"==typeof t[t.length-1]){var e=t.pop();return o(t,e)}return"Array"===n.matrix?o(t):o(t,"default")},Array:o,Matrix:function(t){var e=t.storage();return o(t.valueOf(),e)},"Array | Matrix, string":function(t,e){return o(t.valueOf(),e)}});function o(t,e){var n=function(t){var e=!1;return t.forEach((function(t,n,r){ql(t)&&(e=!0,r[n]=t.toNumber())})),e}(t),o=n?new i(1):1;if(function(t){t.forEach((function(t){if("number"!=typeof t||!jc(t)||t<0)throw new Error("Parameters in function ones must be positive integers")}))}(t),e){var a=r(e);return t.length>0?a.resize(t,o):a}var s=[];return t.length>0?af(s,t,o):s}}));function kp(){throw new Error('No "bignumber" implementation available')}function Fp(){throw new Error('No "fraction" implementation available')}var Np="reshape",Tp=mf(Np,["typed","isInteger","matrix"],(t=>{var{typed:e,isInteger:n}=t;return e(Np,{"Matrix, Array":function(t,e){return t.reshape(e,!0)},"Array, Array":function(t,e){return e.forEach((function(t){if(!n(t))throw new TypeError("Invalid size for dimension: "+t)})),uf(t,e)}})})),Bp="size",Op=mf(Bp,["typed","config","?matrix"],(t=>{var{typed:e,config:n,matrix:r}=t;return e(Bp,{Matrix:function(t){return t.create(t.size())},Array:ef,string:function(t){return"Array"===n.matrix?[t.length]:r([t.length])},"number | Complex | BigNumber | Unit | boolean | null":function(t){return"Array"===n.matrix?[]:r?r([]):function(){throw new Error('No "matrix" implementation available')}()}})})),zp="transpose",Ip=mf(zp,["typed","matrix"],(t=>{var{typed:e,matrix:n}=t;return e(zp,{Array:t=>r(n(t)).valueOf(),Matrix:r,any:Cc});function r(t){var e,n=t.size();switch(n.length){case 1:e=t.clone();break;case 2:var r=n[0],i=n[1];if(0===i)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Jc(n)+")");switch(t.storage()){case"dense":e=function(t,e,n){for(var r,i=t._data,o=[],a=0;a<n;a++){r=o[a]=[];for(var s=0;s<e;s++)r[s]=Cc(i[s][a])}return t.createDenseMatrix({data:o,size:[n,e],datatype:t._datatype})}(t,r,i);break;case"sparse":e=function(t,e,n){for(var r,i,o,a=t._values,s=t._index,u=t._ptr,l=a?[]:void 0,c=[],f=[],h=[],d=0;d<e;d++)h[d]=0;for(r=0,i=s.length;r<i;r++)h[s[r]]++;for(var p=0,m=0;m<e;m++)f.push(p),p+=h[m],h[m]=f[m];for(f.push(p),o=0;o<n;o++)for(var g=u[o],y=u[o+1],v=g;v<y;v++){var w=h[s[v]]++;c[w]=o,a&&(l[w]=Cc(a[v]))}return t.createSparseMatrix({values:l,index:c,ptr:f,size:[n,e],datatype:t._datatype})}(t,r,i)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Jc(n)+")")}return e}}));function Rp(t,e,n){var r;return-1!==String(t).indexOf("Unexpected type")?(r=arguments.length>2?" (type: "+Sc(n)+", value: "+JSON.stringify(n)+")":" (type: "+t.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+r)):-1!==String(t).indexOf("complex numbers")?(r=arguments.length>2?" (type: "+Sc(n)+", value: "+JSON.stringify(n)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+r)):t}var Pp=mf("numeric",["number","?bignumber","?fraction"],(t=>{var{number:e,bignumber:n,fraction:r}=t,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:t=>e(t),BigNumber:n?t=>n(t):kp,Fraction:r?t=>r(t):Fp};return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number";if(void 0!==(arguments.length>2?arguments[2]:void 0))throw new SyntaxError("numeric() takes one or two arguments");var n=Sc(t);if(!(n in i))throw new TypeError("Cannot convert "+t+' of type "'+n+'"; valid input types are '+Object.keys(i).join(", "));if(!(e in o))throw new TypeError("Cannot convert "+t+' to type "'+e+'"; valid output types are '+Object.keys(o).join(", "));return e===n?t:o[e](t)}})),$p="divideScalar",jp=mf($p,["typed","numeric"],(t=>{var{typed:e,numeric:n}=t;return e($p,{"number, number":function(t,e){return t/e},"Complex, Complex":function(t,e){return t.div(e)},"BigNumber, BigNumber":function(t,e){return t.div(e)},"Fraction, Fraction":function(t,e){return t.div(e)},"Unit, number | Complex | Fraction | BigNumber | Unit":(t,e)=>t.divide(e),"number | Fraction | Complex | BigNumber, Unit":(t,e)=>e.divideInto(t)})})),Lp=mf("pow",["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],(t=>{var{typed:e,config:n,identity:r,multiply:i,matrix:o,inv:a,number:s,fraction:u,Complex:l}=t;return e("pow",{"number, number":c,"Complex, Complex":function(t,e){return t.pow(e)},"BigNumber, BigNumber":function(t,e){return e.isInteger()||t>=0||n.predictable?t.pow(e):new l(t.toNumber(),0).pow(e.toNumber(),0)},"Fraction, Fraction":function(t,e){var r=t.pow(e);if(null!=r)return r;if(n.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return c(t.valueOf(),e.valueOf())},"Array, number":f,"Array, BigNumber":function(t,e){return f(t,e.toNumber())},"Matrix, number":h,"Matrix, BigNumber":function(t,e){return h(t,e.toNumber())},"Unit, number | BigNumber":function(t,e){return t.pow(e)}});function c(t,e){if(n.predictable&&!jc(e)&&t<0)try{var r=u(e),i=s(r);if((e===i||Math.abs((e-i)/e)<1e-14)&&r.d%2==1)return(r.n%2==0?1:-1)*Math.pow(-t,e)}catch(t){}return n.predictable&&(t<-1&&e===1/0||t>-1&&t<0&&e===-1/0)?NaN:jc(e)||t>=0||n.predictable?Nd(t,e):t*t<1&&e===1/0||t*t>1&&e===-1/0?0:new l(t,0).pow(e,0)}function f(t,e){if(!jc(e))throw new TypeError("For A^b, b must be an integer (value is "+e+")");var n=ef(t);if(2!==n.length)throw new Error("For A^b, A must be 2 dimensional (A has "+n.length+" dimensions)");if(n[0]!==n[1])throw new Error("For A^b, A must be square (size is "+n[0]+"x"+n[1]+")");if(e<0)try{return f(a(t),-e)}catch(t){if("Cannot calculate inverse, determinant is zero"===t.message)throw new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+e+")");throw t}for(var o=r(n[0]).valueOf(),s=t;e>=1;)1==(1&e)&&(o=i(s,o)),e>>=1,s=i(s,s);return o}function h(t,e){return o(f(t.valueOf(),e))}})),Up="dotPow",qp=mf(Up,["typed","equalScalar","matrix","pow","DenseMatrix","concat"],(t=>{var{typed:e,equalScalar:n,matrix:r,pow:i,DenseMatrix:o,concat:a}=t,s=op({typed:e}),u=gp({typed:e,DenseMatrix:o}),l=Xd({typed:e,equalScalar:n}),c=Kd({typed:e,DenseMatrix:o}),f=rp({typed:e,matrix:r,concat:a}),h={};for(var d in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,d)&&(d.includes("Matrix")||d.includes("Array")||(h[d]=i.signatures[d]));var p=e(h);return e(Up,f({elop:p,SS:u,DS:s,Ss:l,sS:c}))})),Vp="dotDivide",Wp=mf(Vp,["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],(t=>{var{typed:e,matrix:n,equalScalar:r,divideScalar:i,DenseMatrix:o,concat:a}=t,s=ip({typed:e,equalScalar:r}),u=op({typed:e}),l=gp({typed:e,DenseMatrix:o}),c=Xd({typed:e,equalScalar:r}),f=Kd({typed:e,DenseMatrix:o}),h=rp({typed:e,matrix:n,concat:a});return e(Vp,h({elop:i,SS:l,DS:u,SD:s,Ss:c,sS:f}))})),Hp="equal",Zp=mf(Hp,["typed","matrix","equalScalar","DenseMatrix","concat"],(t=>{var{typed:e,matrix:n,equalScalar:r,DenseMatrix:i,concat:o}=t,a=op({typed:e}),s=gp({typed:e,DenseMatrix:i}),u=Kd({typed:e,DenseMatrix:i}),l=rp({typed:e,matrix:n,concat:o});return e(Hp,Yp({typed:e,equalScalar:r}),l({elop:r,SS:s,DS:a,Ss:u}))})),Yp=mf(Hp,["typed","equalScalar"],(t=>{var{typed:e,equalScalar:n}=t;return e(Hp,{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:n(t,e)}})})),Xp="deepEqual",Kp=mf(Xp,["typed","equal"],(t=>{var{typed:e,equal:n}=t;return e(Xp,{"any, any":function(t,e){return r(t.valueOf(),e.valueOf())}});function r(t,e){if(Array.isArray(t)){if(Array.isArray(e)){var i=t.length;if(i!==e.length)return!1;for(var o=0;o<i;o++)if(!r(t[o],e[o]))return!1;return!0}return!1}return!Array.isArray(e)&&n(t,e)}})),Jp=mf("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],(t=>{var{typed:e,matrix:n,addScalar:r,equalScalar:i,DenseMatrix:o,SparseMatrix:a,concat:s}=t,u=Gd({typed:e}),l=Qd({typed:e,equalScalar:i}),c=tp({typed:e,DenseMatrix:o}),f=rp({typed:e,matrix:n,concat:s});return e("add",{"any, any":r,"any, any, ...any":e.referToSelf((t=>(e,n,r)=>{for(var i=t(e,n),o=0;o<r.length;o++)i=t(i,r[o]);return i}))},f({elop:r,DS:u,SS:l,Ss:c}))})),Gp=mf("dot",["typed","addScalar","multiplyScalar","conj","size"],(t=>{var{typed:e,addScalar:n,multiplyScalar:r,conj:i,size:o}=t;return e("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(t,o){var u=a(t,o),l=Xl(t)?t._data:t,c=Xl(t)?t._datatype:void 0,f=Xl(o)?o._data:o,h=Xl(o)?o._datatype:void 0,d=2===s(t).length,p=2===s(o).length,m=n,g=r;if(c&&h&&c===h&&"string"==typeof c){var y=c;m=e.find(n,[y,y]),g=e.find(r,[y,y])}if(!d&&!p){for(var v=g(i(l[0]),f[0]),w=1;w<u;w++)v=m(v,g(i(l[w]),f[w]));return v}if(!d&&p){for(var b=g(i(l[0]),f[0][0]),x=1;x<u;x++)b=m(b,g(i(l[x]),f[x][0]));return b}if(d&&!p){for(var _=g(i(l[0][0]),f[0]),D=1;D<u;D++)_=m(_,g(i(l[D][0]),f[D]));return _}if(d&&p){for(var E=g(i(l[0][0]),f[0][0]),A=1;A<u;A++)E=m(E,g(i(l[A][0]),f[A][0]));return E}},"SparseMatrix, SparseMatrix":function(t,e){a(t,e);for(var i=t._index,o=t._values,s=e._index,u=e._values,l=0,c=n,f=r,h=0,d=0;h<i.length&&d<s.length;){var p=i[h],m=s[d];p<m?h++:p>m?d++:p===m&&(l=c(l,f(o[h],u[d])),h++,d++)}return l}});function a(t,e){var n,r,i=s(t),o=s(e);if(1===i.length)n=i[0];else{if(2!==i.length||1!==i[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+i.join(", ")+")");n=i[0]}if(1===o.length)r=o[0];else{if(2!==o.length||1!==o[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+o.join(", ")+")");r=o[0]}if(n!==r)throw new RangeError("Vectors must have equal length ("+n+" != "+r+")");if(0===n)throw new RangeError("Cannot calculate the dot product of empty vectors");return n}function s(t){return Xl(t)?t.size():o(t)}})),Qp=mf("det",["typed","matrix","subtract","multiply","divideScalar","isZero","unaryMinus"],(t=>{var{typed:e,matrix:n,subtract:r,multiply:i,divideScalar:o,isZero:a,unaryMinus:s}=t;return e("det",{any:function(t){return Cc(t)},"Array | Matrix":function(t){var e;switch((e=Xl(t)?t.size():Array.isArray(t)?(t=n(t)).size():[]).length){case 0:return Cc(t);case 1:if(1===e[0])return Cc(t.valueOf()[0]);if(0===e[0])return 1;throw new RangeError("Matrix must be square (size: "+Jc(e)+")");case 2:var u=e[0],l=e[1];if(u===l)return function(t,e,n){if(1===e)return Cc(t[0][0]);if(2===e)return r(i(t[0][0],t[1][1]),i(t[1][0],t[0][1]));for(var u=!1,l=new Array(e).fill(0).map(((t,e)=>e)),c=0;c<e;c++){var f=l[c];if(a(t[f][c])){var h=void 0;for(h=c+1;h<e;h++)if(!a(t[l[h]][c])){f=l[h],l[h]=l[c],l[c]=f,u=!u;break}if(h===e)return t[f][c]}for(var d=t[f][c],p=0===c?1:t[l[c-1]][c-1],m=c+1;m<e;m++)for(var g=l[m],y=c+1;y<e;y++)t[g][y]=o(r(i(t[g][y],d),i(t[g][c],t[f][y])),p)}var v=t[l[e-1]][e-1];return u?s(v):v}(t.clone().valueOf(),u);if(0===l)return 1;throw new RangeError("Matrix must be square (size: "+Jc(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Jc(e)+")")}}})})),tm=mf("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],(t=>{var{typed:e,matrix:n,divideScalar:r,addScalar:i,multiply:o,unaryMinus:a,det:s,identity:u,abs:l}=t;return e("inv",{"Array | Matrix":function(t){var e=Xl(t)?t.size():ef(t);switch(e.length){case 1:if(1===e[0])return Xl(t)?n([r(1,t.valueOf()[0])]):[r(1,t[0])];throw new RangeError("Matrix must be square (size: "+Jc(e)+")");case 2:var i=e[0],o=e[1];if(i===o)return Xl(t)?n(c(t.valueOf(),i,o),t.storage()):c(t,i,o);throw new RangeError("Matrix must be square (size: "+Jc(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Jc(e)+")")}},any:function(t){return r(1,t)}});function c(t,e,n){var c,f,h,d,p;if(1===e){if(0===(d=t[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[r(1,d)]]}if(2===e){var m=s(t);if(0===m)throw Error("Cannot calculate inverse, determinant is zero");return[[r(t[1][1],m),r(a(t[0][1]),m)],[r(a(t[1][0]),m),r(t[0][0],m)]]}var g=t.concat();for(c=0;c<e;c++)g[c]=g[c].concat();for(var y=u(e).valueOf(),v=0;v<n;v++){var w=l(g[v][v]),b=v;for(c=v+1;c<e;)l(g[c][v])>w&&(w=l(g[c][v]),b=c),c++;if(0===w)throw Error("Cannot calculate inverse, determinant is zero");(c=b)!==v&&(p=g[v],g[v]=g[c],g[c]=p,p=y[v],y[v]=y[c],y[c]=p);var x=g[v],_=y[v];for(c=0;c<e;c++){var D=g[c],E=y[c];if(c!==v){if(0!==D[v]){for(h=r(a(D[v]),x[v]),f=v;f<n;f++)D[f]=i(D[f],o(h,x[f]));for(f=0;f<n;f++)E[f]=i(E[f],o(h,_[f]))}}else{for(h=x[v],f=v;f<n;f++)D[f]=r(D[f],h);for(f=0;f<n;f++)E[f]=r(E[f],h)}}}return y}})),em="distance",nm=mf(em,["typed","addScalar","subtract","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],(t=>{var{typed:e,addScalar:n,subtract:r,multiplyScalar:i,divideScalar:o,deepEqual:a,sqrt:s,abs:u}=t;return e(em,{"Array, Array, Array":function(t,e,n){if(2===t.length&&2===e.length&&2===n.length){if(!c(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!c(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!c(n))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(a(e,n))throw new TypeError("LinePoint1 should not be same with LinePoint2");var o=r(n[1],e[1]),s=r(e[0],n[0]),u=r(i(n[0],e[1]),i(e[0],n[1]));return m(t[0],t[1],o,s,u)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(t,e,n){if(2===Object.keys(t).length&&2===Object.keys(e).length&&2===Object.keys(n).length){if(!c(t))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!c(e))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!c(n))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(a(p(e),p(n)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in t&&"pointY"in t&&"lineOnePtX"in e&&"lineOnePtY"in e&&"lineTwoPtX"in n&&"lineTwoPtY"in n){var o=r(n.lineTwoPtY,e.lineOnePtY),s=r(e.lineOnePtX,n.lineTwoPtX),u=r(i(n.lineTwoPtX,e.lineOnePtY),i(e.lineOnePtX,n.lineTwoPtY));return m(t.pointX,t.pointY,o,s,u)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(t,e){if(2===t.length&&3===e.length){if(!c(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return m(t[0],t[1],e[0],e[1],e[2])}if(3===t.length&&6===e.length){if(!f(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!d(e))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return g(t[0],t[1],t[2],e[0],e[1],e[2],e[3],e[4],e[5])}if(t.length===e.length&&t.length>0){if(!h(t))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!h(e))throw new TypeError("All values of an array should be numbers or BigNumbers");return y(t,e)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(t,e){if(2===Object.keys(t).length&&3===Object.keys(e).length){if(!c(t))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(e))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in t&&"pointY"in t&&"xCoeffLine"in e&&"yCoeffLine"in e&&"constant"in e)return m(t.pointX,t.pointY,e.xCoeffLine,e.yCoeffLine,e.constant);throw new TypeError("Key names do not match")}if(3===Object.keys(t).length&&6===Object.keys(e).length){if(!f(t))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!d(e))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in t&&"pointY"in t&&"x0"in e&&"y0"in e&&"z0"in e&&"a"in e&&"b"in e&&"c"in e)return g(t.pointX,t.pointY,t.pointZ,e.x0,e.y0,e.z0,e.a,e.b,e.c);throw new TypeError("Key names do not match")}if(2===Object.keys(t).length&&2===Object.keys(e).length){if(!c(t))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!c(e))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in t&&"pointOneY"in t&&"pointTwoX"in e&&"pointTwoY"in e)return y([t.pointOneX,t.pointOneY],[e.pointTwoX,e.pointTwoY]);throw new TypeError("Key names do not match")}if(3===Object.keys(t).length&&3===Object.keys(e).length){if(!f(t))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!f(e))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in t&&"pointOneY"in t&&"pointOneZ"in t&&"pointTwoX"in e&&"pointTwoY"in e&&"pointTwoZ"in e)return y([t.pointOneX,t.pointOneY,t.pointOneZ],[e.pointTwoX,e.pointTwoY,e.pointTwoZ]);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(t){if(!function(t){if(2===t[0].length&&l(t[0][0])&&l(t[0][1])){if(t.some((t=>2!==t.length||!l(t[0])||!l(t[1]))))return!1}else{if(!(3===t[0].length&&l(t[0][0])&&l(t[0][1])&&l(t[0][2])))return!1;if(t.some((t=>3!==t.length||!l(t[0])||!l(t[1])||!l(t[2]))))return!1}return!0}(t))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function(t){for(var e=[],n=[],r=[],i=0;i<t.length-1;i++)for(var o=i+1;o<t.length;o++)2===t[0].length?(n=[t[i][0],t[i][1]],r=[t[o][0],t[o][1]]):3===t[0].length&&(n=[t[i][0],t[i][1],t[i][2]],r=[t[o][0],t[o][1],t[o][2]]),e.push(y(n,r));return e}(t)}});function l(t){return"number"==typeof t||ql(t)}function c(t){return t.constructor!==Array&&(t=p(t)),l(t[0])&&l(t[1])}function f(t){return t.constructor!==Array&&(t=p(t)),l(t[0])&&l(t[1])&&l(t[2])}function h(t){return Array.isArray(t)||(t=p(t)),t.every(l)}function d(t){return t.constructor!==Array&&(t=p(t)),l(t[0])&&l(t[1])&&l(t[2])&&l(t[3])&&l(t[4])&&l(t[5])}function p(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;r++)n.push(t[e[r]]);return n}function m(t,e,r,a,l){var c=u(n(n(i(r,t),i(a,e)),l)),f=s(n(i(r,r),i(a,a)));return o(c,f)}function g(t,e,a,u,l,c,f,h,d){var p=[r(i(r(l,e),d),i(r(c,a),h)),r(i(r(c,a),f),i(r(u,t),d)),r(i(r(u,t),h),i(r(l,e),f))];p=s(n(n(i(p[0],p[0]),i(p[1],p[1])),i(p[2],p[2])));var m=s(n(n(i(f,f),i(h,h)),i(d,d)));return o(p,m)}function y(t,e){for(var o=t.length,a=0,u=0,l=0;l<o;l++)u=r(t[l],e[l]),a=n(i(u,u),a);return s(a)}})),rm=mf("sum",["typed","config","add","numeric"],(t=>{var{typed:e,config:n,add:r,numeric:i}=t;return e("sum",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(t,e){try{var n=function(t,e,n){var r=Array.isArray(t)?ef(t):t.size();if(e<0||e>=r.length)throw new tf(e,r.length);return Xl(t)?t.create(_d(t.valueOf(),e,n)):_d(t,e,n)}(t,e,r);return n}catch(t){throw Rp(t,"sum")}},"...":function(t){if(function(t){for(var e=0;e<t.length;e++)if(Kl(t[e]))return!0;return!1}(t))throw new TypeError("Scalar values expected in function sum");return o(t)}});function o(t){var e;return bd(t,(function(t){try{e=void 0===e?t:r(e,t)}catch(e){throw Rp(e,"sum",t)}})),void 0===e&&(e=i(0,n.number)),"string"==typeof e&&(e=i(e,n.number)),e}})),im={exports:{}};!function(t,e,n){function r(t){var e=this,n=function(){var t=4022871197;return function(e){e=String(e);for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)}}();e.next=function(){var t=2091639*e.s0+2.3283064365386963e-10*e.c;return e.s0=e.s1,e.s1=e.s2,e.s2=t-(e.c=0|t)},e.c=1,e.s0=n(" "),e.s1=n(" "),e.s2=n(" "),e.s0-=n(t),e.s0<0&&(e.s0+=1),e.s1-=n(t),e.s1<0&&(e.s1+=1),e.s2-=n(t),e.s2<0&&(e.s2+=1),n=null}function i(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function o(t,e){var n=new r(t),o=e&&e.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,o&&("object"==typeof o&&i(o,n),a.state=function(){return i(n,{})}),a}e&&e.exports?e.exports=o:this.alea=o}(0,im);var om=im.exports,am={exports:{}};!function(t,e,n){function r(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}function i(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function o(t,e){var n=new r(t),o=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,o&&("object"==typeof o&&i(o,n),a.state=function(){return i(n,{})}),a}e&&e.exports?e.exports=o:this.xor128=o}(0,am);var sm=am.exports,um={exports:{}};!function(t,e,n){function r(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function i(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function o(t,e){var n=new r(t),o=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,o&&("object"==typeof o&&i(o,n),a.state=function(){return i(n,{})}),a}e&&e.exports?e.exports=o:this.xorwow=o}(0,um);var lm=um.exports,cm={exports:{}};!function(t,e,n){function r(t){var e=this;e.next=function(){var t,n,r=e.x,i=e.i;return t=r[i],n=(t^=t>>>7)^t<<24,n^=(t=r[i+1&7])^t>>>10,n^=(t=r[i+3&7])^t>>>3,n^=(t=r[i+4&7])^t<<7,t=r[i+7&7],n^=(t^=t<<13)^t<<9,r[i]=n,e.i=i+1&7,n},function(t,e){var n,r=[];if(e===(0|e))r[0]=e;else for(e=""+e,n=0;n<e.length;++n)r[7&n]=r[7&n]<<15^e.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],t.x=r,t.i=0,n=256;n>0;--n)t.next()}(e,t)}function i(t,e){return e.x=t.x.slice(),e.i=t.i,e}function o(t,e){null==t&&(t=+new Date);var n=new r(t),o=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,o&&(o.x&&i(o,n),a.state=function(){return i(n,{})}),a}e&&e.exports?e.exports=o:this.xorshift7=o}(0,cm);var fm=cm.exports,hm={exports:{}};!function(t,e,n){function r(t){var e=this;e.next=function(){var t,n,r=e.w,i=e.X,o=e.i;return e.w=r=r+1640531527|0,n=i[o+34&127],t=i[o=o+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=i[o]=n^t,e.i=o,n+(r^r>>>16)|0},function(t,e){var n,r,i,o,a,s=[],u=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,u=Math.max(u,e.length)),i=0,o=-32;o<u;++o)e&&(r^=e.charCodeAt((o+32)%e.length)),0===o&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(a=a+1640531527|0,i=0==(n=s[127&o]^=r+a)?i+1:0);for(i>=128&&(s[127&(e&&e.length||0)]=-1),i=127,o=512;o>0;--o)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;t.w=a,t.X=s,t.i=i}(e,t)}function i(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function o(t,e){null==t&&(t=+new Date);var n=new r(t),o=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,o&&(o.X&&i(o,n),a.state=function(){return i(n,{})}),a}e&&e.exports?e.exports=o:this.xor4096=o}(0,hm);var dm=hm.exports,pm={exports:{}};!function(t,e,n){function r(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,i=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^i,e.a=i-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}function i(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function o(t,e){var n=new r(t),o=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,o&&("object"==typeof o&&i(o,n),a.state=function(){return i(n,{})}),a}e&&e.exports?e.exports=o:this.tychei=o}(0,pm);var mm=pm.exports,gm={exports:{}};!function(t){!function(e,n,r){var i,o=256,a="random",s=r.pow(o,6),u=r.pow(2,52),l=2*u,c=o-1;function f(t,c,f){var y=[],v=m(p((c=1==c?{entropy:!0}:c||{}).entropy?[t,g(n)]:null==t?function(){try{var t;return i&&(t=i.randomBytes)?t=t(o):(t=new Uint8Array(o),(e.crypto||e.msCrypto).getRandomValues(t)),g(t)}catch(t){var r=e.navigator,a=r&&r.plugins;return[+new Date,e,a,e.screen,g(n)]}}():t,3),y),w=new h(y),b=function(){for(var t=w.g(6),e=s,n=0;t<u;)t=(t+n)*o,e*=o,n=w.g(1);for(;t>=l;)t/=2,e/=2,n>>>=1;return(t+n)/e};return b.int32=function(){return 0|w.g(4)},b.quick=function(){return w.g(4)/4294967296},b.double=b,m(g(w.S),n),(c.pass||f||function(t,e,n,i){return i&&(i.S&&d(i,w),t.state=function(){return d(w,{})}),n?(r[a]=t,e):t})(b,v,"global"in c?c.global:this==r,c.state)}function h(t){var e,n=t.length,r=this,i=0,a=r.i=r.j=0,s=r.S=[];for(n||(t=[n++]);i<o;)s[i]=i++;for(i=0;i<o;i++)s[i]=s[a=c&a+t[i%n]+(e=s[i])],s[a]=e;(r.g=function(t){for(var e,n=0,i=r.i,a=r.j,s=r.S;t--;)e=s[i=c&i+1],n=n*o+s[c&(s[i]=s[a=c&a+e])+(s[a]=e)];return r.i=i,r.j=a,n})(o)}function d(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function p(t,e){var n,r=[],i=typeof t;if(e&&"object"==i)for(n in t)try{r.push(p(t[n],e-1))}catch(t){}return r.length?r:"string"==i?t:t+"\0"}function m(t,e){for(var n,r=t+"",i=0;i<r.length;)e[c&i]=c&(n^=19*e[c&i])+r.charCodeAt(i++);return g(e)}function g(t){return String.fromCharCode.apply(0,t)}if(m(r.random(),n),t.exports){t.exports=f;try{i=require("crypto")}catch(t){}}else r["seed"+a]=f}("undefined"!=typeof self?self:pu,[],Math)}(gm);var ym=om,vm=sm,wm=lm,bm=fm,xm=dm,_m=mm,Dm=gm.exports;Dm.alea=ym,Dm.xor128=vm,Dm.xorwow=wm,Dm.xorshift7=bm,Dm.xor4096=xm,Dm.tychei=_m;var Em=mu(Dm),Am=Em(Date.now());function Mm(t){var e,n;return e=null===(n=t)?Am:Em(String(n)),function(){return e()}}function Sm(t,e){var n=[];if((t=t.slice(0)).length>1)for(var r=0,i=t.shift();r<i;r++)n.push(Sm(t,e));else for(var o=0,a=t.shift();o<a;o++)n.push(e());return n}var Cm="random",km=mf(Cm,["typed","config","?on"],(t=>{var{typed:e,config:n,on:r}=t,i=Mm(n.randomSeed);return r&&r("config",(function(t,e){t.randomSeed!==e.randomSeed&&(i=Mm(t.randomSeed))})),e(Cm,{"":()=>a(0,1),number:t=>a(0,t),"number, number":(t,e)=>a(t,e),"Array | Matrix":t=>o(t,0,1),"Array | Matrix, number":(t,e)=>o(t,0,e),"Array | Matrix, number, number":(t,e,n)=>o(t,e,n)});function o(t,e,n){var r=Sm(t.valueOf(),(()=>a(e,n)));return Xl(t)?t.create(r):r}function a(t,e){return t+i()*(e-t)}})),Fm=cd({config:Nc}),Nm=dd({}),Tm=gd({}),Bm=yd({}),Om=wd({Matrix:Bm}),zm=Ef({BigNumber:Fm,Complex:Nm,DenseMatrix:Om,Fraction:Tm}),Im=Hd({typed:zm}),Rm=Yd({typed:zm}),Pm=jd({BigNumber:Fm,typed:zm}),$m=vp({typed:zm}),jm=Rd({config:Nc,typed:zm}),Lm=Ed({typed:zm}),Um=Od({typed:zm}),qm=sp({typed:zm}),Vm=$d({typed:zm}),Wm=km({config:Nc,typed:zm}),Hm=Pd({Matrix:Bm,equalScalar:jm,typed:zm}),Zm=cp({Complex:Nm,config:Nc,typed:zm}),Ym=Wd({typed:zm}),Xm=Ld({Fraction:Tm,typed:zm}),Km=qd({DenseMatrix:Om,Matrix:Bm,SparseMatrix:Hm,typed:zm}),Jm=Pp({bignumber:Pm,fraction:Xm,number:Vm}),Gm=Tp({isInteger:Lm,matrix:Km,typed:zm}),Qm=Op({matrix:Km,config:Nc,typed:zm}),tg=Ip({matrix:Km,typed:zm}),eg=bp({isInteger:Lm,matrix:Km,typed:zm}),ng=Dp({DenseMatrix:Om,SparseMatrix:Hm,matrix:Km,typed:zm}),rg=jp({numeric:Jm,typed:zm}),ig=Wp({DenseMatrix:Om,concat:eg,divideScalar:rg,equalScalar:jm,matrix:Km,typed:zm}),og=Zp({DenseMatrix:Om,concat:eg,equalScalar:jm,matrix:Km,typed:zm}),ag=Ap({matrix:Km,typed:zm}),sg=Sp({BigNumber:Fm,DenseMatrix:Om,SparseMatrix:Hm,config:Nc,matrix:Km,typed:zm}),ug=Cp({BigNumber:Fm,config:Nc,matrix:Km,typed:zm}),lg=Jp({DenseMatrix:Om,SparseMatrix:Hm,addScalar:Rm,concat:eg,equalScalar:jm,matrix:Km,typed:zm}),cg=Kp({equal:og,typed:zm}),fg=lp({addScalar:Rm,dot:Gp({addScalar:Rm,conj:$m,multiplyScalar:qm,size:Qm,typed:zm}),equalScalar:jm,matrix:Km,multiplyScalar:qm,typed:zm}),hg=hp({DenseMatrix:Om,addScalar:Rm,concat:eg,equalScalar:jm,matrix:Km,typed:zm,unaryMinus:Ym}),dg=Qp({divideScalar:rg,isZero:Um,matrix:Km,multiply:fg,subtract:hg,typed:zm,unaryMinus:Ym}),pg=nm({abs:Im,addScalar:Rm,deepEqual:cg,divideScalar:rg,multiplyScalar:qm,sqrt:Zm,subtract:hg,typed:zm}),mg=mp({concat:eg,equalScalar:jm,matrix:Km,multiplyScalar:qm,typed:zm});const gg={add:lg,subtract:hg,sum:rm({add:lg,config:Nc,numeric:Jm,typed:zm}),multiply:fg,reshape:Gm,transpose:tg,flatten:ag,abs:Im,distance:pg,dotMultiply:mg,dotDivide:ig,dotPow:qp({DenseMatrix:Om,concat:eg,equalScalar:jm,matrix:Km,pow:Lp({Complex:Nm,config:Nc,fraction:Xm,identity:sg,inv:tm({abs:Im,addScalar:Rm,det:dg,divideScalar:rg,identity:sg,matrix:Km,multiply:fg,typed:zm,unaryMinus:Ym}),matrix:Km,multiply:fg,number:Vm,typed:zm}),typed:zm}),diag:ng,ones:ug,matrix:Km,random:Wm};function yg(t){return gg.diag(gg.ones(t))}function vg(t,e){const n=t.map((t=>[]));for(let r=0;r<t.length;r++)for(let i=0;i<e.length;i++)n[r][i]=gg.distance(t[r],e[i]);return n}function wg(t,e){const n=wu.getEigenVectors(t,e),r=wu.computeAdjustedData(t,...n.slice(0,e)).adjustedData,i=[];for(let n=0;n<t.length;n++)i.push(Array.from({length:e},((t,e)=>r[e][n])));return i}function bg(t,e){const n=new $l({nNeighbors:Math.min(t.length-1,15)});return n.fit(t),n.getEmbedding()}function xg(t,e){return function(t,e,n={}){const r=t=>gg.flatten(gg.transpose(t));n=Object.assign({maxIter:500,maxHalves:20,tolFun:1e-9,init:null},n);const{maxIter:i,maxHalves:o,tolFun:a,init:s}=n;let u=vg(t,t);const l=t.length,c=.5/gg.sum(u);u=gg.add(u,yg(l));const f=gg.dotDivide(1,u);let h=[];s?h=s:t[0].length>t.length?(console.warn("More columns than rows, so initializing using random vectors rather than PCA"),t.forEach((()=>h.push(gg.random([e]))))):h=function(t,e){const n=wu.getEigenVectors(t,e),r=wu.computeAdjustedData(t,...n.slice(0,e)).adjustedData,i=[];for(let n=0;n<t.length;n++)i.push(Array.from({length:e},((t,e)=>r[e][n])));return i}(t,e);const d=gg.ones([t.length,e]);let p=gg.add(vg(h,h),yg(t.length)),m=gg.dotDivide(1,p),g=gg.subtract(u,p),y=gg.sum(gg.dotMultiply(gg.dotPow(g,2),f)),v=null,w=0;for(w=0;w<i;w++){g=gg.subtract(m,f);const n=gg.multiply(g,d),i=gg.subtract(gg.multiply(g,h),gg.dotMultiply(h,n)),s=gg.dotPow(m,3),l=gg.dotPow(h,2),c=gg.multiply(s,l),w=gg.multiply(2,h),b=gg.multiply(s,h),x=gg.dotMultiply(l,gg.multiply(s,d)),_=gg.dotMultiply(w,b),D=gg.add(gg.subtract(gg.subtract(c,n),_),x);let E=gg.subtract(0,gg.dotDivide(r(i.toArray()),gg.abs(r(D.toArray()))));v=h;let A=0,M=null;for(A=0;A<o;A++){const n=gg.transpose(gg.reshape(E,[e,t.length]));if(h=gg.add(v,n),p=gg.add(vg(h,h),yg(t.length)),m=gg.dotDivide(1,p),g=gg.subtract(u,p),M=gg.sum(gg.dotMultiply(gg.dotPow(g,2),f)),M<y)break;E=gg.multiply(E,.5)}if(A==o-1&&console.warn("Warning: maxHalves exceeded. Sammon mapping may not converge..."),Math.abs((y-M)/y)<a)break;y=M}return w==i-1&&console.warn("Warning: maxiter exceeded. Sammon mapping may not have converged..."),y*=c,{vectors:h,E:y}}(t,e).vectors}async function _g(t,e,n){const r=function(t,e,n){const r=function(t){return{...hu,...t}}(n);!function(t,e){if(e<=0||e>t.length||!Number.isInteger(e))throw new Error("K should be a positive integer smaller than the number of points")}(t,e);let i=function(t,e,n){let r;if(Array.isArray(n.initialization)){if(n.initialization.length!==e)throw new Error("The initial centers should have the same length as K");r=n.initialization}else switch(n.initialization){case"kmeans++":r=function(t,e,n={}){const r=new Qs(t),i=r.rows,o=new uu(n.seed),a=[],s=n.localTrials||2+Math.floor(Math.log(e)),u=o.randInt(i);a.push(r.getRow(u));let l=new Qs(1,r.rows);for(let t=0;t<r.rows;t++)l.set(0,t,Fs(r.getRow(t),a[0]));let c=[fu(l.getRow(0))];const f=1/c[0][i-1];let h=Qs.mul(l,f);for(let t=1;t<e;t++){const e=o.choice(i,{replace:!0,size:s,probabilities:h.getRow(0)}),n=lu(r.selection(e,cu(r.columns)),r);let u=1/0,f=1/0,d=l;for(let t=0;t<s;t++){const r=Qs.min(l,[n.getRow(t)]),i=r.sum();i<f&&(u=e[t],f=i,d=r)}a[t]=r.getRow(u),l=d,c=[fu(l.getRow(0))],h=Qs.mul(l,1/c[0][i-1])}return a}(t,e,n);break;case"random":r=function(t,e,n){return new uu(n).choice(t,{size:e})}(t,e,n.seed);break;case"mostDistant":r=function(t,e,n,r){const i=new uu(r);let o=new Array(e);if(o[0]=Math.floor(i.random()*t.length),e>1){let r={dist:-1,index:-1};for(let e=0;e<t.length;++e)n[o[0]][e]>r.dist&&(r.dist=n[o[0]][e],r.index=e);if(o[1]=r.index,e>2)for(let r=2;r<e;++r){let e={dist:-1,index:-1};for(let i=0;i<t.length;++i){let t={dist:Number.MAX_VALUE,index:-1};for(let e=0;e<r;++e)n[e][i]<t.dist&&!o.includes(i)&&(t={dist:n[e][i],index:i});t.dist!==Number.MAX_VALUE&&t.dist>e.dist&&(e={...t})}o[r]=e.index}}return o.map((e=>t[e]))}(t,e,function(t,e){let n=new Array(t.length);for(let r=0;r<t.length;++r)for(let i=r;i<t.length;++i){n[r]||(n[r]=new Array(t.length)),n[i]||(n[i]=new Array(t.length));const o=e(t[r],t[i]);n[r][i]=o,n[i][r]=o}return n}(t,n.distanceFunction),n.seed);break;default:!function(t,e){throw new Error(`Unknown initialization method: "${String(t)}"`)}(n.initialization)}return r}(t,e,r);0===r.maxIterations&&(r.maxIterations=Number.MAX_VALUE);let o,a=new Array(t.length),s=!1,u=0;for(;!s&&u<r.maxIterations;)o=du(i,t,a,e,r,++u),s=o.converged,i=o.centroids;if(!o)throw new Error("unreachable: no kmeans step executed");return o}(t,e,{}),i=n(r.centroids,2);return{centroids:r.centroids,embeddedCentroids:i,labels:r.clusters}}async function Dg(t,e,n,r=!0){let i=null;if("som"==n){const n=function(t){let e=1,n=t;for(let r=2;r<=Math.sqrt(t);r++)t%r==0&&Math.abs(r-t/r)<Math.abs(e-n)&&(e=r,n=t/r);return[e,n]}(e);i=await async function(t,e,n){const r=new ks([e,n]);r.fit(t);const i=r.predict(t);return{centroids:r.weights,embeddedCentroids:r.locations,labels:i}}(t,n[0],n[1])}else if("kmc+pca"==n)i=await _g(t,e,wg);else if("kmc+umap"==n)i=await _g(t,e,bg);else{if("kmc+tsne"==n)throw new Error("t-SNE temporarily removed due to security vulnerability in npm package");if("kmc+sammon"!=n)throw new Error("Invalid method "+n);i=await _g(t,e,xg)}if(r){const t=_s(i.embeddedCentroids,(t=>t[0])),e=_s(i.embeddedCentroids,(t=>t[1]));if(null!=t[0]){const e=(t[0]+t[1])/2;for(const n of i.embeddedCentroids)n[0]=(n[0]-e)/(t[1]-t[0])}if(null!=e[0]){const t=(e[0]+e[1])/2;for(const n of i.embeddedCentroids)n[1]=(n[1]-t)/(e[1]-e[0])}}return i}var Eg={exports:{}};!function(t,e){!function(t){class e extends Map{constructor(t,e=r){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(n(this,t))}has(t){return super.has(n(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}(this,t))}}function n({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function r(t){return null!==t&&"object"==typeof t?t.valueOf():t}function i(t){return t}function o(t,...n){return function(t,n,r,i){return function t(o,a){if(a>=i.length)return r(o);const s=new e,u=i[a++];let l=-1;for(const t of o){const e=u(t,++l,o),n=s.get(e);n?n.push(t):s.set(e,[t])}for(const[e,n]of s)s.set(e,t(n,a));return n(s)}(t,0)}(t,Array.from,i,n)}const a={mean:function(t,e){let n=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++n,r+=e);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n},deviation:function(t,e){const n=function(t,e){let n,r=0,i=0,o=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(n=e-i,i+=n/++r,o+=n*(e-i));else{let a=-1;for(let s of t)null!=(s=e(s,++a,t))&&(s=+s)>=s&&(n=s-i,i+=n/++r,o+=n*(s-i))}if(r>1)return o/(r-1)}(t,e);return n?Math.sqrt(n):n},flatGroup:function(t,...e){return function(t,e){for(let n=1,r=e.length;n<r;++n)t=t.flatMap((t=>t.pop().map((([e,n])=>[...t,e,n]))));return t}(o(t,...e),e)},merge:function(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}};t.fillMeanColumnMissing=function(t){const e=Array.from({length:t[0].length},((e,n)=>a.mean(t,(t=>t[n]))));for(const n of t)for(let t=0;t<n.length;t++)null==n[t]&&(n[t]=e[t]);return t},t.interpolateMissing=function(t){function e(t){for(let e=0;e<t.length;e++)if(null==t[e]){let n=e,r=e;for(let e=n+1;e<t.length;e++)if(null!=t[e]){r=e;break}if(0==n)for(let e=n;e<r;e++)t[e]=t[r];else if(n==r){n--;for(let e=n+1;e<r+1;e++)t[e]=t[n]}else{const e=t[n-1],i=t[r];for(let o=n;o<r;o++){const a=(o-n+1)/(r-n+1);t[o]=e+(i-e)*a}}}return t}for(const n of t)e(n);return t},t.movingAverageSmooth=function(t,e=1,n="fill_null"){const r=[],i="cut_window"==n?0:e,o="cut_window"==n?t.length:t.length-e;for(let n=i;n<o;n++){const i=Math.max(0,n-e),o=Math.min(n+e,t.length-1);let a=0;for(let e=i;e<=o;e++)a+=t[e];r[n]=a/(o-i+1)}if("fill_null"==n)for(let t=0;t<e;t++)r[t]=null,r.push(null);else if("shorten"==n)return Object.values(r);return r},t.zNormalize=function(t,e="row"){let n=t.map((t=>[...t]));if("global"==e){const e=a.mean(a.merge(t)),r=a.deviation(a.merge(t));if(null!=e&&null!=r)for(let t=0;t<n.length;t++)for(let i=0;i<n[t].length;i++)n[t][i]=(n[t][i]-e)/r}if("column"==e||"both"==e)for(let e=0;e<t[0].length;e++){let r=a.mean(t,(t=>t[e])),i=a.deviation(t,(t=>t[e]));if(null!=r&&null!=i){0==i&&(i=1);for(let o=0;o<t.length;o++)n[o][e]=(n[o][e]-r)/i}else for(let r=0;r<t.length;r++)n[r][e]=NaN}if("row"==e||"both"==e)for(let t=0;t<n.length;t++){let e=a.mean(n[t]),r=a.deviation(n[t]);if(null!=e&&null!=r){0==r&&(r=1);for(let i=0;i<n[t].length;i++)n[t][i]=(n[t][i]-e)/r}else for(let e=0;e<n[t].length;e++)n[t][e]=NaN}return n}}(e)}(0,Eg.exports);var Ag=Eg.exports;function Mg(t,e,n,r,i=(t=>t)){const o=document.querySelector(t);if(null==o)throw new Error(`No element found for ${t}`);function a(t){if(o.innerHTML="",t)for(let n of t){"string"==typeof n&&(n={value:n,label:i(n)});const t=document.createElement("option");t.value=n.value,t.innerText=n.label,n.value==e[r]&&(t.selected=!0,o.value=n.value),o.appendChild(t)}}e.addListener((()=>{a(e[n]),e[r]=o.value}),n),e.addListener((()=>{for(const t of o.options)t.value==e[r]?t.selected=!0:t.selected=!1}),r),o.addEventListener("change",(()=>{e[r]=o.value})),a(e[n]),""!=o.value&&(e[r]=o.value)}class Sg{constructor(){this.properties={},this.listeners=new Map([["global",[]]]),this.onceListeners=new Map}defineProperty(t,e){this.hasOwnProperty(t)||(Object.defineProperty(this,t,{set:function(e){this._setProperty(t,e)},get:function(){return this.properties[t]}}),this.properties[t]=e)}addListener(t,...e){0==e.length&&e.push("global");for(const n of e)this.listeners.has(n)||this.listeners.set(n,[]),this.listeners.get(n).push(t)}addOnceListener(t,...e){0==e.length&&e.push("global");for(const n of e)this.onceListeners.has(n)||this.onceListeners.set(n,[]),this.onceListeners.get(n).push(t)}fireListeners(t){const e=this.properties[t],n=this.listeners.get(t);if(n)for(const r of n)r(t,e);const r=this.onceListeners.get(t);if(r){for(const n of r)n(t,e);this.onceListeners.set(t,[])}for(const n of this.listeners.get("global"))n(t,e)}_setProperty(t,e){e!=this.properties[t]&&(this.properties[t]=e,this.fireListeners(t))}}function Cg(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kg(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Fg(t){let e,n,r;function i(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<0?i=e+1:o=e}while(i<o)}return i}return 2!==t.length?(e=Cg,n=(e,n)=>Cg(t(e),n),r=(e,n)=>t(e)-n):(e=t===Cg||t===kg?t:Ng,n=t,r=t),{left:i,center:function(t,e,n=0,o=t.length){const a=i(t,e,n,o-1);return a>n&&r(t[a-1],e)>-r(t[a],e)?a-1:a},right:function(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<=0?i=e+1:o=e}while(i<o)}return i}}}function Ng(){return 0}function Tg(t){return null===t?NaN:+t}const Bg=Fg(Cg).right;Fg(Tg).center;var Og=Bg;function zg(t,e){let n=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&++n;else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(i=+i)>=i&&++n}return n}function Ig(t){return 0|t.length}function Rg(t){return!(t>0)}function Pg(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function $g(t,e){let n,r=0,i=0,o=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(n=e-i,i+=n/++r,o+=n*(e-i));else{let a=-1;for(let s of t)null!=(s=e(s,++a,t))&&(s=+s)>=s&&(n=s-i,i+=n/++r,o+=n*(s-i))}if(r>1)return o/(r-1)}function jg(t,e){const n=$g(t,e);return n?Math.sqrt(n):n}function Lg(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class Ug{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=e[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(e[n++]=a),t=o}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(e=o,n=t[--i],o=e+n,r=n-(o-e),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(n=2*r,e=o+n,n==e-o&&(o=e))}return o}}class qg extends Map{constructor(t,e=Yg){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(Wg(this,t))}has(t){return super.has(Wg(this,t))}set(t,e){return super.set(Hg(this,t),e)}delete(t){return super.delete(Zg(this,t))}}class Vg extends Set{constructor(t,e=Yg){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const e of t)this.add(e)}has(t){return super.has(Wg(this,t))}add(t){return super.add(Hg(this,t))}delete(t){return super.delete(Zg(this,t))}}function Wg({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Hg({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Zg({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Yg(t){return null!==t&&"object"==typeof t?t.valueOf():t}function Xg(t){return t}function Kg(t,...e){return Qg(t,Xg,Xg,e)}function Jg(t,e,...n){return Qg(t,Xg,e,n)}function Gg(t,e,...n){return Qg(t,Array.from,e,n)}function Qg(t,e,n,r){return function t(i,o){if(o>=r.length)return n(i);const a=new qg,s=r[o++];let u=-1;for(const t of i){const e=s(t,++u,i),n=a.get(e);n?n.push(t):a.set(e,[t])}for(const[e,n]of a)a.set(e,t(n,o));return e(a)}(t,0)}function ty(t,...e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&2!==n.length||e.length>1){const o=Uint32Array.from(t,((t,e)=>e));return e.length>1?(e=e.map((e=>t.map(e))),o.sort(((t,n)=>{for(const r of e){const e=ny(r[t],r[n]);if(e)return e}}))):(n=t.map(n),o.sort(((t,e)=>ny(n[t],n[e])))),r=t,i=o,Array.from(i,(t=>r[t]))}var r,i;return t.sort(ey(n))}function ey(t=Cg){if(t===Cg)return ny;if("function"!=typeof t)throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}function ny(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}const ry=Math.sqrt(50),iy=Math.sqrt(10),oy=Math.sqrt(2);function ay(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=ry?10:o>=iy?5:o>=oy?2:1;let s,u,l;return i<0?(l=Math.pow(10,-i)/a,s=Math.round(t*l),u=Math.round(e*l),s/l<t&&++s,u/l>e&&--u,l=-l):(l=Math.pow(10,i)*a,s=Math.round(t/l),u=Math.round(e/l),s*l<t&&++s,u*l>e&&--u),u<s&&.5<=n&&n<2?ay(t,e,2*n):[s,u,l]}function sy(t,e,n){if(!((n=+n)>0))return[];if((t=+t)===(e=+e))return[t];const r=e<t,[i,o,a]=r?ay(e,t,n):ay(t,e,n);if(!(o>=i))return[];const s=o-i+1,u=new Array(s);if(r)if(a<0)for(let t=0;t<s;++t)u[t]=(o-t)/-a;else for(let t=0;t<s;++t)u[t]=(o-t)*a;else if(a<0)for(let t=0;t<s;++t)u[t]=(i+t)/-a;else for(let t=0;t<s;++t)u[t]=(i+t)*a;return u}function uy(t,e,n){return ay(t=+t,e=+e,n=+n)[2]}function ly(t,e,n){n=+n;const r=(e=+e)<(t=+t),i=r?uy(e,t,n):uy(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function cy(t){return Math.max(1,Math.ceil(Math.log(zg(t))/Math.LN2)+1)}function fy(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function hy(t,e){let n,r=-1,i=-1;if(void 0===e)for(const e of t)++i,null!=e&&(n<e||void 0===n&&e>=e)&&(n=e,r=i);else for(let o of t)null!=(o=e(o,++i,t))&&(n<o||void 0===n&&o>=o)&&(n=o,r=i);return r}function dy(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function py(t,e){let n,r=-1,i=-1;if(void 0===e)for(const e of t)++i,null!=e&&(n>e||void 0===n&&e>=e)&&(n=e,r=i);else for(let o of t)null!=(o=e(o,++i,t))&&(n>o||void 0===n&&o>=o)&&(n=o,r=i);return r}function my(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=void 0===i?ny:ey(i);r>n;){if(r-n>600){const o=r-n+1,a=e-n+1,s=Math.log(o),u=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*u*(o-u)/o)*(a-o/2<0?-1:1);my(t,e,Math.max(n,Math.floor(e-a*u/o+l)),Math.min(r,Math.floor(e+(o-a)*u/o+l)),i)}const o=t[e];let a=n,s=r;for(gy(t,n,e),i(t[r],o)>0&&gy(t,n,r);a<s;){for(gy(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}0===i(t[n],o)?gy(t,n,s):(++s,gy(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function gy(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function yy(t,e,n){if(t=Float64Array.from(function*(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}(t,n)),(r=t.length)&&!isNaN(e=+e)){if(e<=0||r<2)return dy(t);if(e>=1)return fy(t);var r,i=(r-1)*e,o=Math.floor(i),a=fy(my(t,o).subarray(0,o+1));return a+(dy(t.subarray(o+1))-a)*(i-o)}}function vy(t,e,n=Tg){if((r=t.length)&&!isNaN(e=+e)){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}}function wy(t,e,n){const r=zg(t),i=yy(t,.75)-yy(t,.25);return r&&i?Math.ceil((n-e)/(2*i*Math.pow(r,-1/3))):1}function by(t,e,n){const r=zg(t),i=jg(t);return r&&i?Math.ceil((n-e)*Math.cbrt(r)/(3.49*i)):1}function xy(t,e){let n=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++n,r+=e);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function _y(t,e){return yy(t,.5,e)}function Dy(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}function Ey(t,e){const n=new qg;if(void 0===e)for(let e of t)null!=e&&e>=e&&n.set(e,(n.get(e)||0)+1);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&i>=i&&n.set(i,(n.get(i)||0)+1)}let r,i=0;for(const[t,e]of n)e>i&&(i=e,r=t);return r}function Ay(t,e){return[t,e]}function My(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Sy(t,e){let n=0;if(void 0===e)for(let e of t)(e=+e)&&(n+=e);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function Cy(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function ky(t,...e){t=new Vg(t),e=e.map(Fy);t:for(const n of t)for(const r of e)if(!r.has(n)){t.delete(n);continue t}return t}function Fy(t){return t instanceof Vg?t:new Vg(t)}function Ny(t){return t}var Ty=1,By=2,Oy=3,zy=4,Iy=1e-6;function Ry(t){return"translate("+t+",0)"}function Py(t){return"translate(0,"+t+")"}function $y(t){return e=>+t(e)}function jy(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Ly(){return!this.__axis}function Uy(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,u="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,l=t===Ty||t===zy?-1:1,c=t===zy||t===By?"x":"y",f=t===Ty||t===Oy?Ry:Py;function h(h){var d=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,p=null==i?e.tickFormat?e.tickFormat.apply(e,n):Ny:i,m=Math.max(o,0)+s,g=e.range(),y=+g[0]+u,v=+g[g.length-1]+u,w=(e.bandwidth?jy:$y)(e.copy(),u),b=h.selection?h.selection():h,x=b.selectAll(".domain").data([null]),_=b.selectAll(".tick").data(d,e).order(),D=_.exit(),E=_.enter().append("g").attr("class","tick"),A=_.select("line"),M=_.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(E),A=A.merge(E.append("line").attr("stroke","currentColor").attr(c+"2",l*o)),M=M.merge(E.append("text").attr("fill","currentColor").attr(c,l*m).attr("dy",t===Ty?"0em":t===Oy?"0.71em":"0.32em")),h!==b&&(x=x.transition(h),_=_.transition(h),A=A.transition(h),M=M.transition(h),D=D.transition(h).attr("opacity",Iy).attr("transform",(function(t){return isFinite(t=w(t))?f(t+u):this.getAttribute("transform")})),E.attr("opacity",Iy).attr("transform",(function(t){var e=this.parentNode.__axis;return f((e&&isFinite(e=e(t))?e:w(t))+u)}))),D.remove(),x.attr("d",t===zy||t===By?a?"M"+l*a+","+y+"H"+u+"V"+v+"H"+l*a:"M"+u+","+y+"V"+v:a?"M"+y+","+l*a+"V"+u+"H"+v+"V"+l*a:"M"+y+","+u+"H"+v),_.attr("opacity",1).attr("transform",(function(t){return f(w(t)+u)})),A.attr(c+"2",l*o),M.attr(c,l*m).text(p),b.filter(Ly).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===By?"start":t===zy?"end":"middle"),b.each((function(){this.__axis=w}))}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(t){return arguments.length?(n=null==t?[]:Array.from(t),h):n.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(o=a=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(a=+t,h):a},h.tickPadding=function(t){return arguments.length?(s=+t,h):s},h.offset=function(t){return arguments.length?(u=+t,h):u},h}var qy={value:()=>{}};function Vy(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Wy(r)}function Wy(t){this._=t}function Hy(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Zy(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=qy,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Wy.prototype=Vy.prototype={constructor:Wy,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)i[n]=Zy(i[n],t.name,e);else if(null==e)for(n in i)i[n]=Zy(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=Hy(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Wy(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var Yy="http://www.w3.org/1999/xhtml",Xy={svg:"http://www.w3.org/2000/svg",xhtml:Yy,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ky(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Xy.hasOwnProperty(e)?{space:Xy[e],local:t}:t}function Jy(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Yy&&e.documentElement.namespaceURI===Yy?e.createElement(t):e.createElementNS(n,t)}}function Gy(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Qy(t){var e=Ky(t);return(e.local?Gy:Jy)(e)}function tv(){}function ev(t){return null==t?tv:function(){return this.querySelector(t)}}function nv(){return[]}function rv(t){return null==t?nv:function(){return this.querySelectorAll(t)}}function iv(t){return function(){return function(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}(t.apply(this,arguments))}}function ov(t){return function(){return this.matches(t)}}function av(t){return function(e){return e.matches(t)}}var sv=Array.prototype.find;function uv(){return this.firstElementChild}var lv=Array.prototype.filter;function cv(){return Array.from(this.children)}function fv(t){return new Array(t.length)}function hv(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function dv(t,e,n,r,i,o){for(var a,s=0,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new hv(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function pv(t,e,n,r,i,o,a){var s,u,l,c=new Map,f=e.length,h=o.length,d=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(d[s]=l=a.call(u,u.__data__,s,e)+"",c.has(l)?i[s]=u:c.set(l,u));for(s=0;s<h;++s)l=a.call(t,o[s],s,o)+"",(u=c.get(l))?(r[s]=u,u.__data__=o[s],c.delete(l)):n[s]=new hv(t,o[s]);for(s=0;s<f;++s)(u=e[s])&&c.get(d[s])===u&&(i[s]=u)}function mv(t){return t.__data__}function gv(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function yv(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function vv(t){return function(){this.removeAttribute(t)}}function wv(t){return function(){this.removeAttributeNS(t.space,t.local)}}function bv(t,e){return function(){this.setAttribute(t,e)}}function xv(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function _v(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Dv(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ev(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Av(t){return function(){this.style.removeProperty(t)}}function Mv(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Sv(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Cv(t,e){return t.style.getPropertyValue(e)||Ev(t).getComputedStyle(t,null).getPropertyValue(e)}function kv(t){return function(){delete this[t]}}function Fv(t,e){return function(){this[t]=e}}function Nv(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Tv(t){return t.trim().split(/^|\s+/)}function Bv(t){return t.classList||new Ov(t)}function Ov(t){this._node=t,this._names=Tv(t.getAttribute("class")||"")}function zv(t,e){for(var n=Bv(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Iv(t,e){for(var n=Bv(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Rv(t){return function(){zv(this,t)}}function Pv(t){return function(){Iv(this,t)}}function $v(t,e){return function(){(e.apply(this,arguments)?zv:Iv)(this,t)}}function jv(){this.textContent=""}function Lv(t){return function(){this.textContent=t}}function Uv(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function qv(){this.innerHTML=""}function Vv(t){return function(){this.innerHTML=t}}function Wv(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Hv(){this.nextSibling&&this.parentNode.appendChild(this)}function Zv(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Yv(){return null}function Xv(){var t=this.parentNode;t&&t.removeChild(this)}function Kv(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Jv(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Gv(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Qv(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function tw(t,e,n){var r=Ev(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ew(t,e){return function(){return tw(this,t,e)}}function nw(t,e){return function(){return tw(this,t,e.apply(this,arguments))}}hv.prototype={constructor:hv,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Ov.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var rw=[null];function iw(t,e){this._groups=t,this._parents=e}function ow(){return new iw([[document.documentElement]],rw)}function aw(t){return"string"==typeof t?new iw([[document.querySelector(t)]],[document.documentElement]):new iw([[t]],rw)}function sw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function uw(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function lw(){}iw.prototype=ow.prototype={constructor:iw,select:function(t){"function"!=typeof t&&(t=ev(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new iw(r,this._parents)},selectAll:function(t){t="function"==typeof t?iv(t):rv(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new iw(r,i)},selectChild:function(t){return this.select(null==t?uv:function(t){return function(){return sv.call(this.children,t)}}("function"==typeof t?t:av(t)))},selectChildren:function(t){return this.selectAll(null==t?cv:function(t){return function(){return lv.call(this.children,t)}}("function"==typeof t?t:av(t)))},filter:function(t){"function"!=typeof t&&(t=ov(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new iw(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,mv);var n=e?pv:dv,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],f=i[l],h=f.length,d=gv(t.call(c,c&&c.__data__,l,r)),p=d.length,m=s[l]=new Array(p),g=a[l]=new Array(p);n(c,f,m,g,u[l]=new Array(h),d,e);for(var y,v,w=0,b=0;w<p;++w)if(y=m[w]){for(w>=b&&(b=w+1);!(v=g[b])&&++b<p;);y._next=v||null}}return(a=new iw(a,r))._enter=s,a._exit=u,a},enter:function(){return new iw(this._enter||this._groups.map(fv),this._parents)},exit:function(){return new iw(this._exit||this._groups.map(fv),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var l,c=n[u],f=r[u],h=c.length,d=s[u]=new Array(h),p=0;p<h;++p)(l=c[p]||f[p])&&(d[p]=l);for(;u<i;++u)s[u]=n[u];return new iw(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=yv);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,l=i[o]=new Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(e)}return new iw(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Ky(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?wv:vv:"function"==typeof e?n.local?Dv:_v:n.local?xv:bv)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Av:"function"==typeof e?Sv:Mv)(t,e,null==n?"":n)):Cv(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?kv:"function"==typeof e?Nv:Fv)(t,e)):this.node()[t]},classed:function(t,e){var n=Tv(t+"");if(arguments.length<2){for(var r=Bv(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?$v:e?Rv:Pv)(n,e))},text:function(t){return arguments.length?this.each(null==t?jv:("function"==typeof t?Uv:Lv)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?qv:("function"==typeof t?Wv:Vv)(t)):this.node().innerHTML},raise:function(){return this.each(Hv)},lower:function(){return this.each(Zv)},append:function(t){var e="function"==typeof t?t:Qy(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Qy(t),r=null==e?Yv:"function"==typeof e?e:ev(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Xv)},clone:function(t){return this.select(t?Jv:Kv)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Qv:Gv,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?nw:ew)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var cw=.7,fw=1/cw,hw="\\s*([+-]?\\d+)\\s*",dw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mw=/^#([0-9a-f]{3,8})$/,gw=new RegExp(`^rgb\\(${hw},${hw},${hw}\\)$`),yw=new RegExp(`^rgb\\(${pw},${pw},${pw}\\)$`),vw=new RegExp(`^rgba\\(${hw},${hw},${hw},${dw}\\)$`),ww=new RegExp(`^rgba\\(${pw},${pw},${pw},${dw}\\)$`),bw=new RegExp(`^hsl\\(${dw},${pw},${pw}\\)$`),xw=new RegExp(`^hsla\\(${dw},${pw},${pw},${dw}\\)$`),_w={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Dw(){return this.rgb().formatHex()}function Ew(){return this.rgb().formatRgb()}function Aw(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=mw.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Mw(e):3===n?new Fw(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Sw(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Sw(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=gw.exec(t))?new Fw(e[1],e[2],e[3],1):(e=yw.exec(t))?new Fw(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=vw.exec(t))?Sw(e[1],e[2],e[3],e[4]):(e=ww.exec(t))?Sw(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=bw.exec(t))?Iw(e[1],e[2]/100,e[3]/100,1):(e=xw.exec(t))?Iw(e[1],e[2]/100,e[3]/100,e[4]):_w.hasOwnProperty(t)?Mw(_w[t]):"transparent"===t?new Fw(NaN,NaN,NaN,0):null}function Mw(t){return new Fw(t>>16&255,t>>8&255,255&t,1)}function Sw(t,e,n,r){return r<=0&&(t=e=n=NaN),new Fw(t,e,n,r)}function Cw(t){return t instanceof lw||(t=Aw(t)),t?new Fw((t=t.rgb()).r,t.g,t.b,t.opacity):new Fw}function kw(t,e,n,r){return 1===arguments.length?Cw(t):new Fw(t,e,n,null==r?1:r)}function Fw(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Nw(){return`#${zw(this.r)}${zw(this.g)}${zw(this.b)}`}function Tw(){const t=Bw(this.opacity);return`${1===t?"rgb(":"rgba("}${Ow(this.r)}, ${Ow(this.g)}, ${Ow(this.b)}${1===t?")":`, ${t})`}`}function Bw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ow(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function zw(t){return((t=Ow(t))<16?"0":"")+t.toString(16)}function Iw(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new $w(t,e,n,r)}function Rw(t){if(t instanceof $w)return new $w(t.h,t.s,t.l,t.opacity);if(t instanceof lw||(t=Aw(t)),!t)return new $w;if(t instanceof $w)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new $w(a,s,u,t.opacity)}function Pw(t,e,n,r){return 1===arguments.length?Rw(t):new $w(t,e,n,null==r?1:r)}function $w(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function jw(t){return(t=(t||0)%360)<0?t+360:t}function Lw(t){return Math.max(0,Math.min(1,t||0))}function Uw(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}sw(lw,Aw,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Dw,formatHex:Dw,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Rw(this).formatHsl()},formatRgb:Ew,toString:Ew}),sw(Fw,kw,uw(lw,{brighter(t){return t=null==t?fw:Math.pow(fw,t),new Fw(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?cw:Math.pow(cw,t),new Fw(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Fw(Ow(this.r),Ow(this.g),Ow(this.b),Bw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Nw,formatHex:Nw,formatHex8:function(){return`#${zw(this.r)}${zw(this.g)}${zw(this.b)}${zw(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Tw,toString:Tw})),sw($w,Pw,uw(lw,{brighter(t){return t=null==t?fw:Math.pow(fw,t),new $w(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?cw:Math.pow(cw,t),new $w(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Fw(Uw(t>=240?t-240:t+120,i,r),Uw(t,i,r),Uw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new $w(jw(this.h),Lw(this.s),Lw(this.l),Bw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Bw(this.opacity);return`${1===t?"hsl(":"hsla("}${jw(this.h)}, ${100*Lw(this.s)}%, ${100*Lw(this.l)}%${1===t?")":`, ${t})`}`}}));const qw=Math.PI/180,Vw=180/Math.PI,Ww=.96422,Hw=1,Zw=.82521,Yw=4/29,Xw=6/29,Kw=3*Xw*Xw,Jw=Xw*Xw*Xw;function Gw(t){if(t instanceof tb)return new tb(t.l,t.a,t.b,t.opacity);if(t instanceof ab)return sb(t);t instanceof Fw||(t=Cw(t));var e,n,r=ib(t.r),i=ib(t.g),o=ib(t.b),a=eb((.2225045*r+.7168786*i+.0606169*o)/Hw);return r===i&&i===o?e=n=a:(e=eb((.4360747*r+.3850649*i+.1430804*o)/Ww),n=eb((.0139322*r+.0971045*i+.7141733*o)/Zw)),new tb(116*a-16,500*(e-a),200*(a-n),t.opacity)}function Qw(t,e,n,r){return 1===arguments.length?Gw(t):new tb(t,e,n,null==r?1:r)}function tb(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function eb(t){return t>Jw?Math.pow(t,1/3):t/Kw+Yw}function nb(t){return t>Xw?t*t*t:Kw*(t-Yw)}function rb(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ib(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ob(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof ab)return new ab(t.h,t.c,t.l,t.opacity);if(t instanceof tb||(t=Gw(t)),0===t.a&&0===t.b)return new ab(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Vw;return new ab(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new ab(t,e,n,null==r?1:r)}function ab(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function sb(t){if(isNaN(t.h))return new tb(t.l,0,0,t.opacity);var e=t.h*qw;return new tb(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}sw(tb,Qw,uw(lw,{brighter(t){return new tb(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new tb(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Fw(rb(3.1338561*(e=Ww*nb(e))-1.6168667*(t=Hw*nb(t))-.4906146*(n=Zw*nb(n))),rb(-.9787684*e+1.9161415*t+.033454*n),rb(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),sw(ab,ob,uw(lw,{brighter(t){return new ab(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new ab(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return sb(this).rgb()}}));var ub=-.14861,lb=1.78277,cb=-.29227,fb=-.90649,hb=1.97294,db=hb*fb,pb=hb*lb,mb=lb*cb-fb*ub;function gb(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof yb)return new yb(t.h,t.s,t.l,t.opacity);t instanceof Fw||(t=Cw(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(mb*r+db*e-pb*n)/(mb+db-pb),o=r-i,a=(hb*(n-i)-cb*o)/fb,s=Math.sqrt(a*a+o*o)/(hb*i*(1-i)),u=s?Math.atan2(a,o)*Vw-120:NaN;return new yb(u<0?u+360:u,s,i,t.opacity)}(t):new yb(t,e,n,null==r?1:r)}function yb(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}sw(yb,gb,uw(lw,{brighter(t){return t=null==t?fw:Math.pow(fw,t),new yb(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?cw:Math.pow(cw,t),new yb(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*qw,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Fw(255*(e+n*(ub*r+lb*i)),255*(e+n*(cb*r+fb*i)),255*(e+n*(hb*r)),this.opacity)}}));var vb=t=>()=>t;function wb(t,e){return function(n){return t+n*e}}function bb(t,e){var n=e-t;return n?wb(t,n>180||n<-180?n-360*Math.round(n/360):n):vb(isNaN(t)?e:t)}function xb(t){return 1==(t=+t)?_b:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):vb(isNaN(e)?n:e)}}function _b(t,e){var n=e-t;return n?wb(t,n):vb(isNaN(t)?e:t)}var Db=function t(e){var n=xb(e);function r(t,e){var r=n((t=kw(t)).r,(e=kw(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=_b(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);var Eb,Ab=(Eb=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return function(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}((n-r/e)*e,a,i,o,s)}},function(t){var e,n,r=t.length,i=new Array(r),o=new Array(r),a=new Array(r);for(e=0;e<r;++e)n=kw(t[e]),i[e]=n.r||0,o[e]=n.g||0,a[e]=n.b||0;return i=Eb(i),o=Eb(o),a=Eb(a),n.opacity=1,function(t){return n.r=i(t),n.g=o(t),n.b=a(t),n+""}});function Mb(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Sb(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Ob(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Cb(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function kb(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Fb(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Ob(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Nb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tb=new RegExp(Nb.source,"g");function Bb(t,e){var n,r,i,o=Nb.lastIndex=Tb.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=Nb.exec(t))&&(r=Tb.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:kb(n,r)})),o=Tb.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function Ob(t,e){var n,r=typeof e;return null==e||"boolean"===r?vb(e):("number"===r?kb:"string"===r?(n=Aw(e))?(e=n,Db):Bb:e instanceof Aw?Db:e instanceof Date?Cb:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?Mb:Array.isArray(e)?Sb:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Fb:kb)(t,e)}function zb(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Ib,Rb=180/Math.PI,Pb={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function $b(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Rb,skewX:Math.atan(u)*Rb,scaleX:a,scaleY:s}}function jb(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:kb(t,i)},{i:u-2,x:kb(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:kb(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:kb(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,u),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:kb(t,n)},{i:s-2,x:kb(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var Lb=jb((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Pb:$b(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Ub=jb((function(t){return null==t?Pb:(Ib||(Ib=document.createElementNS("http://www.w3.org/2000/svg","g")),Ib.setAttribute("transform",t),(t=Ib.transform.baseVal.consolidate())?$b((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Pb)}),", ",")",")");var qb=function(t){return function(e,n){var r=t((e=Pw(e)).h,(n=Pw(n)).h),i=_b(e.s,n.s),o=_b(e.l,n.l),a=_b(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}(bb);var Vb=function(t){return function(e,n){var r=t((e=ob(e)).h,(n=ob(n)).h),i=_b(e.c,n.c),o=_b(e.l,n.l),a=_b(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}(bb);function Wb(t){return function e(n){function r(e,r){var i=t((e=gb(e)).h,(r=gb(r)).h),o=_b(e.s,r.s),a=_b(e.l,r.l),s=_b(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}Wb(bb);var Hb=Wb(_b);function Zb(t,e){void 0===e&&(e=t,t=Ob);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}function Yb(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var Xb,Kb,Jb=0,Gb=0,Qb=0,tx=1e3,ex=0,nx=0,rx=0,ix="object"==typeof performance&&performance.now?performance:Date,ox="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ax(){return nx||(ox(sx),nx=ix.now()+rx)}function sx(){nx=0}function ux(){this._call=this._time=this._next=null}function lx(t,e,n){var r=new ux;return r.restart(t,e,n),r}function cx(){nx=(ex=ix.now())+rx,Jb=Gb=0;try{!function(){ax(),++Jb;for(var t,e=Xb;e;)(t=nx-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Jb}()}finally{Jb=0,function(){var t,e,n=Xb,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Xb=e);Kb=t,hx(r)}(),nx=0}}function fx(){var t=ix.now(),e=t-ex;e>tx&&(rx-=e,ex=t)}function hx(t){Jb||(Gb&&(Gb=clearTimeout(Gb)),t-nx>24?(t<1/0&&(Gb=setTimeout(cx,t-ix.now()-rx)),Qb&&(Qb=clearInterval(Qb))):(Qb||(ex=ix.now(),Qb=setInterval(fx,tx)),Jb=1,ox(cx)))}function dx(t,e,n){var r=new ux;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}ux.prototype=lx.prototype={constructor:ux,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?ax():+n)+(null==e?0:+e),this._next||Kb===this||(Kb?Kb._next=this:Xb=this,Kb=this),this._call=t,this._time=n,hx()},stop:function(){this._call&&(this._call=null,this._time=1/0,hx())}};var px=Vy("start","end","cancel","interrupt"),mx=[],gx=0,yx=1,vx=2,wx=3,bx=4,xx=5,_x=6;function Dx(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(t){n.state=yx,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var l,c,f,h;if(n.state!==yx)return u();for(l in i)if((h=i[l]).name===n.name){if(h.state===wx)return dx(a);h.state===bx?(h.state=_x,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[l]):+l<e&&(h.state=_x,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[l])}if(dx((function(){n.state===wx&&(n.state=bx,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=vx,n.on.call("start",t,t.__data__,n.index,n.group),n.state===vx){for(n.state=wx,r=new Array(f=n.tween.length),l=0,c=-1;l<f;++l)(h=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=h);r.length=c+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=xx,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);n.state===xx&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=_x,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=lx(o,0,n.time)}(t,n,{name:e,index:r,group:i,on:px,tween:mx,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:gx})}function Ex(t,e){var n=Mx(t,e);if(n.state>gx)throw new Error("too late; already scheduled");return n}function Ax(t,e){var n=Mx(t,e);if(n.state>wx)throw new Error("too late; already running");return n}function Mx(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Sx(t,e){var n,r;return function(){var i=Ax(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function Cx(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Ax(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function kx(t,e,n){var r=t._id;return t.each((function(){var t=Ax(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Mx(t,r).value[e]}}function Fx(t,e){var n;return("number"==typeof e?kb:e instanceof Aw?Db:(n=Aw(e))?(e=n,Db):Bb)(t,e)}function Nx(t){return function(){this.removeAttribute(t)}}function Tx(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Bx(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function Ox(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function zx(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttribute(t)}}function Ix(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}function Rx(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return i._value=e,i}function Px(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return i._value=e,i}function $x(t,e){return function(){Ex(this,t).delay=+e.apply(this,arguments)}}function jx(t,e){return e=+e,function(){Ex(this,t).delay=e}}function Lx(t,e){return function(){Ax(this,t).duration=+e.apply(this,arguments)}}function Ux(t,e){return e=+e,function(){Ax(this,t).duration=e}}var qx=ow.prototype.constructor;function Vx(t){return function(){this.style.removeProperty(t)}}var Wx=0;function Hx(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Zx(){return++Wx}var Yx=ow.prototype;Hx.prototype={constructor:Hx,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=ev(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,l=r[a],c=l.length,f=o[a]=new Array(c),h=0;h<c;++h)(s=l[h])&&(u=t.call(s,s.__data__,h,l))&&("__data__"in s&&(u.__data__=s.__data__),f[h]=u,Dx(f[h],e,n,h,f,Mx(s,n)));return new Hx(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=rv(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,f=0;f<c;++f)if(u=l[f]){for(var h,d=t.call(u,u.__data__,f,l),p=Mx(u,n),m=0,g=d.length;m<g;++m)(h=d[m])&&Dx(h,e,n,m,d,p);o.push(d),a.push(u)}return new Hx(o,a,e,n)},selectChild:Yx.selectChild,selectChildren:Yx.selectChildren,filter:function(t){"function"!=typeof t&&(t=ov(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new Hx(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],f=l.length,h=a[s]=new Array(f),d=0;d<f;++d)(u=l[d]||c[d])&&(h[d]=u);for(;s<r;++s)a[s]=e[s];return new Hx(a,this._parents,this._name,this._id)},selection:function(){return new qx(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Zx(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var c=Mx(a,e);Dx(a,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Hx(r,this._parents,t,n)},call:Yx.call,nodes:Yx.nodes,node:Yx.node,size:Yx.size,empty:Yx.empty,each:Yx.each,on:function(t,e){var n=this._id;return arguments.length<2?Mx(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Ex:Ax;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}(n,t,e))},attr:function(t,e){var n=Ky(t),r="transform"===n?Ub:Fx;return this.attrTween(t,"function"==typeof e?(n.local?Ix:zx)(n,r,kx(this,"attr."+t,e)):null==e?(n.local?Tx:Nx)(n):(n.local?Ox:Bx)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Ky(t);return this.tween(n,(r.local?Rx:Px)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Lb:Fx;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=Cv(this,t),a=(this.style.removeProperty(t),Cv(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Vx(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=Cv(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=Cv(this,t)),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}(t,r,kx(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var u=Ax(this,t),l=u.on,c=null==u.value[a]?o||(o=Vx(e)):void 0;l===n&&i===c||(r=(n=l).copy()).on(s,i=c),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=Cv(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,o,n)),r}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(kx(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Mx(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Sx:Cx)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?$x:jx)(e,t)):Mx(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Lx:Ux)(e,t)):Mx(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Ax(this,t).ease=e}}(e,t)):Mx(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Ax(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},u={value:function(){0==--i&&o()}};n.each((function(){var n=Ax(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:Yx[Symbol.iterator]};var Xx={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Kx(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}ow.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>vx&&n.state<xx,n.state=_x,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)}))},ow.prototype.transition=function(t){var e,n;t instanceof Hx?(e=t._id,t=t._name):(e=Zx(),(n=Xx).time=ax(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)(a=s[l])&&Dx(a,t,e,l,s,n||Kx(a,e));return new Hx(r,this._parents,t,e)};const Jx=Math.PI,Gx=2*Jx,Qx=1e-6,t_=Gx-Qx;function e_(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}let n_=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?e_:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return e_;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,r){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,e,n,r,i,o){this._append`C${+t},${+e},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,s=n-t,u=r-e,l=o-t,c=a-e,f=l*l+c*c;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(f>Qx)if(Math.abs(c*s-u*l)>Qx&&i){let h=n-o,d=r-a,p=s*s+u*u,m=h*h+d*d,g=Math.sqrt(p),y=Math.sqrt(f),v=i*Math.tan((Jx-Math.acos((p+f-m)/(2*g*y)))/2),w=v/y,b=v/g;Math.abs(w-1)>Qx&&this._append`L${t+w*l},${e+w*c}`,this._append`A${i},${i},0,0,${+(c*h>l*d)},${this._x1=t+b*s},${this._y1=e+b*u}`}else this._append`L${this._x1=t},${this._y1=e}`;else;}arc(t,e,n,r,i,o){if(t=+t,e=+e,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),u=t+a,l=e+s,c=1^o,f=o?r-i:i-r;null===this._x1?this._append`M${u},${l}`:(Math.abs(this._x1-u)>Qx||Math.abs(this._y1-l)>Qx)&&this._append`L${u},${l}`,n&&(f<0&&(f=f%Gx+Gx),f>t_?this._append`A${n},${n},0,1,${c},${t-a},${e-s}A${n},${n},0,1,${c},${this._x1=u},${this._y1=l}`:f>Qx&&this._append`A${n},${n},0,${+(f>=Jx)},${c},${this._x1=t+n*Math.cos(i)},${this._y1=e+n*Math.sin(i)}`)}rect(t,e,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}};function r_(t=3){return new n_(+t)}const i_=134217729,o_=33306690738754706e-32;function a_(t,e,n,r,i){let o,a,s,u,l=e[0],c=r[0],f=0,h=0;c>l==c>-l?(o=l,l=e[++f]):(o=c,c=r[++h]);let d=0;if(f<t&&h<n)for(c>l==c>-l?(a=l+o,s=o-(a-l),l=e[++f]):(a=c+o,s=o-(a-c),c=r[++h]),o=a,0!==s&&(i[d++]=s);f<t&&h<n;)c>l==c>-l?(a=o+l,u=a-o,s=o-(a-u)+(l-u),l=e[++f]):(a=o+c,u=a-o,s=o-(a-u)+(c-u),c=r[++h]),o=a,0!==s&&(i[d++]=s);for(;f<t;)a=o+l,u=a-o,s=o-(a-u)+(l-u),l=e[++f],o=a,0!==s&&(i[d++]=s);for(;h<n;)a=o+c,u=a-o,s=o-(a-u)+(c-u),c=r[++h],o=a,0!==s&&(i[d++]=s);return 0===o&&0!==d||(i[d++]=o),d}function s_(t){return new Float64Array(t)}const u_=22204460492503146e-32,l_=11093356479670487e-47,c_=s_(4),f_=s_(8),h_=s_(12),d_=s_(16),p_=s_(4);function m_(t,e,n,r,i,o){const a=(e-o)*(n-i),s=(t-i)*(r-o),u=a-s,l=Math.abs(a+s);return Math.abs(u)>=33306690738754716e-32*l?u:-function(t,e,n,r,i,o,a){let s,u,l,c,f,h,d,p,m,g,y,v,w,b,x,_,D,E;const A=t-i,M=n-i,S=e-o,C=r-o;b=A*C,h=i_*A,d=h-(h-A),p=A-d,h=i_*C,m=h-(h-C),g=C-m,x=p*g-(b-d*m-p*m-d*g),_=S*M,h=i_*S,d=h-(h-S),p=S-d,h=i_*M,m=h-(h-M),g=M-m,D=p*g-(_-d*m-p*m-d*g),y=x-D,f=x-y,c_[0]=x-(y+f)+(f-D),v=b+y,f=v-b,w=b-(v-f)+(y-f),y=w-_,f=w-y,c_[1]=w-(y+f)+(f-_),E=v+y,f=E-v,c_[2]=v-(E-f)+(y-f),c_[3]=E;let k=function(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}(4,c_),F=u_*a;if(k>=F||-k>=F)return k;if(f=t-A,s=t-(A+f)+(f-i),f=n-M,l=n-(M+f)+(f-i),f=e-S,u=e-(S+f)+(f-o),f=r-C,c=r-(C+f)+(f-o),0===s&&0===u&&0===l&&0===c)return k;if(F=l_*a+o_*Math.abs(k),k+=A*c+C*s-(S*l+M*u),k>=F||-k>=F)return k;b=s*C,h=i_*s,d=h-(h-s),p=s-d,h=i_*C,m=h-(h-C),g=C-m,x=p*g-(b-d*m-p*m-d*g),_=u*M,h=i_*u,d=h-(h-u),p=u-d,h=i_*M,m=h-(h-M),g=M-m,D=p*g-(_-d*m-p*m-d*g),y=x-D,f=x-y,p_[0]=x-(y+f)+(f-D),v=b+y,f=v-b,w=b-(v-f)+(y-f),y=w-_,f=w-y,p_[1]=w-(y+f)+(f-_),E=v+y,f=E-v,p_[2]=v-(E-f)+(y-f),p_[3]=E;const N=a_(4,c_,4,p_,f_);b=A*c,h=i_*A,d=h-(h-A),p=A-d,h=i_*c,m=h-(h-c),g=c-m,x=p*g-(b-d*m-p*m-d*g),_=S*l,h=i_*S,d=h-(h-S),p=S-d,h=i_*l,m=h-(h-l),g=l-m,D=p*g-(_-d*m-p*m-d*g),y=x-D,f=x-y,p_[0]=x-(y+f)+(f-D),v=b+y,f=v-b,w=b-(v-f)+(y-f),y=w-_,f=w-y,p_[1]=w-(y+f)+(f-_),E=v+y,f=E-v,p_[2]=v-(E-f)+(y-f),p_[3]=E;const T=a_(N,f_,4,p_,h_);b=s*c,h=i_*s,d=h-(h-s),p=s-d,h=i_*c,m=h-(h-c),g=c-m,x=p*g-(b-d*m-p*m-d*g),_=u*l,h=i_*u,d=h-(h-u),p=u-d,h=i_*l,m=h-(h-l),g=l-m,D=p*g-(_-d*m-p*m-d*g),y=x-D,f=x-y,p_[0]=x-(y+f)+(f-D),v=b+y,f=v-b,w=b-(v-f)+(y-f),y=w-_,f=w-y,p_[1]=w-(y+f)+(f-_),E=v+y,f=E-v,p_[2]=v-(E-f)+(y-f),p_[3]=E;const B=a_(T,h_,4,p_,d_);return d_[B-1]}(t,e,n,r,i,o,l)}const g_=Math.pow(2,-52),y_=new Uint32Array(512);class v_{static from(t,e=E_,n=A_){const r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=t[o];i[2*o]=e(r),i[2*o+1]=n(r)}return new v_(i)}constructor(t){const e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:n,_hullTri:r,_hullHash:i}=this,o=t.length>>1;let a=1/0,s=1/0,u=-1/0,l=-1/0;for(let e=0;e<o;e++){const n=t[2*e],r=t[2*e+1];n<a&&(a=n),r<s&&(s=r),n>u&&(u=n),r>l&&(l=r),this._ids[e]=e}const c=(a+u)/2,f=(s+l)/2;let h,d,p,m=1/0;for(let e=0;e<o;e++){const n=w_(c,f,t[2*e],t[2*e+1]);n<m&&(h=e,m=n)}const g=t[2*h],y=t[2*h+1];m=1/0;for(let e=0;e<o;e++){if(e===h)continue;const n=w_(g,y,t[2*e],t[2*e+1]);n<m&&n>0&&(d=e,m=n)}let v=t[2*d],w=t[2*d+1],b=1/0;for(let e=0;e<o;e++){if(e===h||e===d)continue;const n=x_(g,y,v,w,t[2*e],t[2*e+1]);n<b&&(p=e,b=n)}let x=t[2*p],_=t[2*p+1];if(b===1/0){for(let e=0;e<o;e++)this._dists[e]=t[2*e]-t[0]||t[2*e+1]-t[1];__(this._ids,this._dists,0,o-1);const e=new Uint32Array(o);let n=0;for(let t=0,r=-1/0;t<o;t++){const i=this._ids[t];this._dists[i]>r&&(e[n++]=i,r=this._dists[i])}return this.hull=e.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(m_(g,y,v,w,x,_)<0){const t=d,e=v,n=w;d=p,v=x,w=_,p=t,x=e,_=n}const D=function(t,e,n,r,i,o){const a=n-t,s=r-e,u=i-t,l=o-e,c=a*a+s*s,f=u*u+l*l,h=.5/(a*l-s*u),d=t+(l*c-s*f)*h,p=e+(a*f-u*c)*h;return{x:d,y:p}}(g,y,v,w,x,_);this._cx=D.x,this._cy=D.y;for(let e=0;e<o;e++)this._dists[e]=w_(t[2*e],t[2*e+1],D.x,D.y);__(this._ids,this._dists,0,o-1),this._hullStart=h;let E=3;n[h]=e[p]=d,n[d]=e[h]=p,n[p]=e[d]=h,r[h]=0,r[d]=1,r[p]=2,i.fill(-1),i[this._hashKey(g,y)]=h,i[this._hashKey(v,w)]=d,i[this._hashKey(x,_)]=p,this.trianglesLen=0,this._addTriangle(h,d,p,-1,-1,-1);for(let o,a,s=0;s<this._ids.length;s++){const u=this._ids[s],l=t[2*u],c=t[2*u+1];if(s>0&&Math.abs(l-o)<=g_&&Math.abs(c-a)<=g_)continue;if(o=l,a=c,u===h||u===d||u===p)continue;let f=0;for(let t=0,e=this._hashKey(l,c);t<this._hashSize&&(f=i[(e+t)%this._hashSize],-1===f||f===n[f]);t++);f=e[f];let m,g=f;for(;m=n[g],m_(l,c,t[2*g],t[2*g+1],t[2*m],t[2*m+1])>=0;)if(g=m,g===f){g=-1;break}if(-1===g)continue;let y=this._addTriangle(g,u,n[g],-1,-1,r[g]);r[u]=this._legalize(y+2),r[g]=y,E++;let v=n[g];for(;m=n[v],m_(l,c,t[2*v],t[2*v+1],t[2*m],t[2*m+1])<0;)y=this._addTriangle(v,u,m,r[u],-1,r[v]),r[u]=this._legalize(y+2),n[v]=v,E--,v=m;if(g===f)for(;m=e[g],m_(l,c,t[2*m],t[2*m+1],t[2*g],t[2*g+1])<0;)y=this._addTriangle(m,u,g,-1,r[g],r[m]),this._legalize(y+2),r[m]=y,n[g]=g,E--,g=m;this._hullStart=e[u]=g,n[g]=e[v]=u,n[u]=v,i[this._hashKey(l,c)]=u,i[this._hashKey(t[2*g],t[2*g+1])]=g}this.hull=new Uint32Array(E);for(let t=0,e=this._hullStart;t<E;t++)this.hull[t]=e,e=n[e];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:n,coords:r}=this;let i=0,o=0;for(;;){const a=n[t],s=t-t%3;if(o=s+(t+2)%3,-1===a){if(0===i)break;t=y_[--i];continue}const u=a-a%3,l=s+(t+1)%3,c=u+(a+2)%3,f=e[o],h=e[t],d=e[l],p=e[c];if(b_(r[2*f],r[2*f+1],r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*p],r[2*p+1])){e[t]=p,e[a]=f;const r=n[c];if(-1===r){let e=this._hullStart;do{if(this._hullTri[e]===c){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,r),this._link(a,n[o]),this._link(o,c);const s=u+(a+1)%3;i<y_.length&&(y_[i++]=s)}else{if(0===i)break;t=y_[--i]}}return o}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,r,i,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=e,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}function w_(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}function b_(t,e,n,r,i,o,a,s){const u=t-a,l=e-s,c=n-a,f=r-s,h=i-a,d=o-s,p=c*c+f*f,m=h*h+d*d;return u*(f*m-p*d)-l*(c*m-p*h)+(u*u+l*l)*(c*d-f*h)<0}function x_(t,e,n,r,i,o){const a=n-t,s=r-e,u=i-t,l=o-e,c=a*a+s*s,f=u*u+l*l,h=.5/(a*l-s*u),d=(l*c-s*f)*h,p=(a*f-u*c)*h;return d*d+p*p}function __(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=t[i],o=e[r];let a=i-1;for(;a>=n&&e[t[a]]>o;)t[a+1]=t[a--];t[a+1]=r}else{let i=n+1,o=r;D_(t,n+r>>1,i),e[t[n]]>e[t[r]]&&D_(t,n,r),e[t[i]]>e[t[r]]&&D_(t,i,r),e[t[n]]>e[t[i]]&&D_(t,n,i);const a=t[i],s=e[a];for(;;){do{i++}while(e[t[i]]<s);do{o--}while(e[t[o]]>s);if(o<i)break;D_(t,i,o)}t[n+1]=t[o],t[o]=a,r-i+1>=o-n?(__(t,e,i,r),__(t,e,n,o-1)):(__(t,e,n,o-1),__(t,e,i,r))}}function D_(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function E_(t){return t[0]}function A_(t){return t[1]}const M_=1e-6;class S_{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,n){const r=(t=+t)+(n=+n),i=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>M_||Math.abs(this._y1-i)>M_)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${t-n},${e}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,e,n,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class C_{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class k_{constructor(t,[e,n,r,i]=[0,0,960,500]){if(!((r=+r)>=(e=+e)&&(i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=e,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:n},vectors:r}=this;let i,o;const a=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let r,s,u=0,l=0,c=n.length;u<c;u+=3,l+=2){const c=2*n[u],f=2*n[u+1],h=2*n[u+2],d=t[c],p=t[c+1],m=t[f],g=t[f+1],y=t[h],v=t[h+1],w=m-d,b=g-p,x=y-d,_=v-p,D=2*(w*_-b*x);if(Math.abs(D)<1e-9){if(void 0===i){i=o=0;for(const n of e)i+=t[2*n],o+=t[2*n+1];i/=e.length,o/=e.length}const n=1e9*Math.sign((i-d)*_-(o-p)*x);r=(d+y)/2-n*_,s=(p+v)/2+n*x}else{const t=1/D,e=w*w+b*b,n=x*x+_*_;r=d+(_*e-b*n)*t,s=p+(w*n-x*e)*t}a[l]=r,a[l+1]=s}let s,u,l,c=e[e.length-1],f=4*c,h=t[2*c],d=t[2*c+1];r.fill(0);for(let n=0;n<e.length;++n)c=e[n],s=f,u=h,l=d,f=4*c,h=t[2*c],d=t[2*c+1],r[s+2]=r[f]=l-d,r[s+3]=r[f+1]=h-u}render(t){const e=null==t?t=new S_:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:o,vectors:a}=this;if(i.length<=1)return null;for(let e=0,r=n.length;e<r;++e){const r=n[e];if(r<e)continue;const i=2*Math.floor(e/3),a=2*Math.floor(r/3),s=o[i],u=o[i+1],l=o[a],c=o[a+1];this._renderSegment(s,u,l,c,t)}let s,u=i[i.length-1];for(let e=0;e<i.length;++e){s=u,u=i[e];const n=2*Math.floor(r[u]/3),l=o[n],c=o[n+1],f=4*s,h=this._project(l,c,a[f+2],a[f+3]);h&&this._renderSegment(l,c,h[0],h[1],t)}return e&&e.value()}renderBounds(t){const e=null==t?t=new S_:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const n=null==e?e=new S_:void 0,r=this._clip(t);if(null===r||!r.length)return;e.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let t=2;t<i;t+=2)r[t]===r[t-2]&&r[t+1]===r[t-1]||e.lineTo(r[t],r[t+1]);return e.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){const t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){const e=new C_;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,r,i){let o;const a=this._regioncode(t,e),s=this._regioncode(n,r);0===a&&0===s?(i.moveTo(t,e),i.lineTo(n,r)):(o=this._clipSegment(t,e,n,r,a,s))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}*neighbors(t){const e=this._clip(t);if(e)for(const n of this.delaunay.neighbors(t)){const t=this._clip(n);if(t)t:for(let r=0,i=e.length;r<i;r+=2)for(let o=0,a=t.length;o<a;o+=2)if(e[r]===t[o]&&e[r+1]===t[o+1]&&e[(r+2)%i]===t[(o+a-2)%a]&&e[(r+3)%i]===t[(o+a-1)%a]){yield n;break t}}}_cell(t){const{circumcenters:e,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,o=n[t];if(-1===o)return null;const a=[];let s=o;do{const n=Math.floor(s/3);if(a.push(e[2*n],e[2*n+1]),s=s%3==2?s-2:s+1,i[s]!==t)break;s=r[s]}while(s!==o&&-1!==s);return a}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(null===e)return null;const{vectors:n}=this,r=4*t;return this._simplify(n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e))}_clipFinite(t,e){const n=e.length;let r,i,o,a,s=null,u=e[n-2],l=e[n-1],c=this._regioncode(u,l),f=0;for(let h=0;h<n;h+=2)if(r=u,i=l,u=e[h],l=e[h+1],o=c,c=this._regioncode(u,l),0===o&&0===c)a=f,f=0,s?s.push(u,l):s=[u,l];else{let e,n,h,d,p;if(0===o){if(null===(e=this._clipSegment(r,i,u,l,o,c)))continue;[n,h,d,p]=e}else{if(null===(e=this._clipSegment(u,l,r,i,c,o)))continue;[d,p,n,h]=e,a=f,f=this._edgecode(n,h),a&&f&&this._edge(t,a,f,s,s.length),s?s.push(n,h):s=[n,h]}a=f,f=this._edgecode(d,p),a&&f&&this._edge(t,a,f,s,s.length),s?s.push(d,p):s=[d,p]}if(s)a=f,f=this._edgecode(s[0],s[1]),a&&f&&this._edge(t,a,f,s,s.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(t,e,n,r,i,o){const a=i<o;for(a&&([t,e,n,r,i,o]=[n,r,t,e,o,i]);;){if(0===i&&0===o)return a?[n,r,t,e]:[t,e,n,r];if(i&o)return null;let s,u,l=i||o;8&l?(s=t+(n-t)*(this.ymax-e)/(r-e),u=this.ymax):4&l?(s=t+(n-t)*(this.ymin-e)/(r-e),u=this.ymin):2&l?(u=e+(r-e)*(this.xmax-t)/(n-t),s=this.xmax):(u=e+(r-e)*(this.xmin-t)/(n-t),s=this.xmin),i?(t=s,e=u,i=this._regioncode(t,e)):(n=s,r=u,o=this._regioncode(n,r))}}_clipInfinite(t,e,n,r,i,o){let a,s=Array.from(e);if((a=this._project(s[0],s[1],n,r))&&s.unshift(a[0],a[1]),(a=this._project(s[s.length-2],s[s.length-1],i,o))&&s.push(a[0],a[1]),s=this._clipFinite(t,s))for(let e,n=0,r=s.length,i=this._edgecode(s[r-2],s[r-1]);n<r;n+=2)e=i,i=this._edgecode(s[n],s[n+1]),e&&i&&(n=this._edge(t,e,i,s,n),r=s.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(t,e,n,r,i){for(;e!==n;){let n,o;switch(e){case 5:e=4;continue;case 4:e=6,n=this.xmax,o=this.ymin;break;case 6:e=2;continue;case 2:e=10,n=this.xmax,o=this.ymax;break;case 10:e=8;continue;case 8:e=9,n=this.xmin,o=this.ymax;break;case 9:e=1;continue;case 1:e=5,n=this.xmin,o=this.ymin}r[i]===n&&r[i+1]===o||!this.contains(t,n,o)||(r.splice(i,0,n,o),i+=2)}return i}_project(t,e,n,r){let i,o,a,s=1/0;if(r<0){if(e<=this.ymin)return null;(i=(this.ymin-e)/r)<s&&(a=this.ymin,o=t+(s=i)*n)}else if(r>0){if(e>=this.ymax)return null;(i=(this.ymax-e)/r)<s&&(a=this.ymax,o=t+(s=i)*n)}if(n>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/n)<s&&(o=this.xmax,a=e+(s=i)*r)}else if(n<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/n)<s&&(o=this.xmin,a=e+(s=i)*r)}return[o,a]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let e=0;e<t.length;e+=2){const n=(e+2)%t.length,r=(e+4)%t.length;(t[e]===t[n]&&t[n]===t[r]||t[e+1]===t[n+1]&&t[n+1]===t[r+1])&&(t.splice(n,2),e-=2)}t.length||(t=null)}return t}}const F_=2*Math.PI,N_=Math.pow;function T_(t){return t[0]}function B_(t){return t[1]}function O_(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class z_{static from(t,e=T_,n=B_,r){return new z_("length"in t?function(t,e,n,r){const i=t.length,o=new Float64Array(2*i);for(let a=0;a<i;++a){const i=t[a];o[2*a]=e.call(r,i,a,t),o[2*a+1]=n.call(r,i,a,t)}return o}(t,e,n,r):Float64Array.from(function*(t,e,n,r){let i=0;for(const o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}(t,e,n,r)))}constructor(t){this._delaunator=new v_(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:e,coords:n}=t;for(let t=0;t<e.length;t+=3){const r=2*e[t],i=2*e[t+1],o=2*e[t+2];if((n[o]-n[r])*(n[i+1]-n[r+1])-(n[i]-n[r])*(n[o+1]-n[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},((t,e)=>e)).sort(((t,n)=>e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]));const t=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[e[2*t],e[2*t+1],e[2*n],e[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let t=0,n=e.length/2;t<n;++t){const n=O_(e[2*t],e[2*t+1],i);e[2*t]=n[0],e[2*t+1]=n[1]}this._delaunator=new v_(e)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let t=0,e=n.length;t<e;++t){const e=i[t%3==2?t-2:t+1];-1!==n[t]&&-1!==o[e]||(o[e]=t)}for(let t=0,e=r.length;t<e;++t)a[r[t]]=t;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],o[r[0]]=1,2===r.length&&(o[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(t){return new k_(this,t)}*neighbors(t){const{inedges:e,hull:n,_hullIndex:r,halfedges:i,triangles:o,collinear:a}=this;if(a){const e=a.indexOf(t);return e>0&&(yield a[e-1]),void(e<a.length-1&&(yield a[e+1]))}const s=e[t];if(-1===s)return;let u=s,l=-1;do{if(yield l=o[u],u=u%3==2?u-2:u+1,o[u]!==t)return;if(u=i[u],-1===u){const e=n[(r[t]+1)%n.length];return void(e!==l&&(yield e))}}while(u!==s)}find(t,e,n=0){if((t=+t)!=t||(e=+e)!=e)return-1;const r=n;let i;for(;(i=this._step(n,t,e))>=0&&i!==n&&i!==r;)n=i;return i}_step(t,e,n){const{inedges:r,hull:i,_hullIndex:o,halfedges:a,triangles:s,points:u}=this;if(-1===r[t]||!u.length)return(t+1)%(u.length>>1);let l=t,c=N_(e-u[2*t],2)+N_(n-u[2*t+1],2);const f=r[t];let h=f;do{let r=s[h];const f=N_(e-u[2*r],2)+N_(n-u[2*r+1],2);if(f<c&&(c=f,l=r),h=h%3==2?h-2:h+1,s[h]!==t)break;if(h=a[h],-1===h){if(h=i[(o[t]+1)%i.length],h!==r&&N_(e-u[2*h],2)+N_(n-u[2*h+1],2)<c)return h;break}}while(h!==f);return l}render(t){const e=null==t?t=new S_:void 0,{points:n,halfedges:r,triangles:i}=this;for(let e=0,o=r.length;e<o;++e){const o=r[e];if(o<e)continue;const a=2*i[e],s=2*i[o];t.moveTo(n[a],n[a+1]),t.lineTo(n[s],n[s+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e){void 0!==e||t&&"function"==typeof t.moveTo||(e=t,t=null),e=null==e?2:+e;const n=null==t?t=new S_:void 0,{points:r}=this;for(let n=0,i=r.length;n<i;n+=2){const i=r[n],o=r[n+1];t.moveTo(i+e,o),t.arc(i,o,e,0,F_)}return n&&n.value()}renderHull(t){const e=null==t?t=new S_:void 0,{hull:n,points:r}=this,i=2*n[0],o=n.length;t.moveTo(r[i],r[i+1]);for(let e=1;e<o;++e){const i=2*n[e];t.lineTo(r[i],r[i+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new C_;return this.renderHull(t),t.value()}renderTriangle(t,e){const n=null==e?e=new S_:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],a=2*i[t+1],s=2*i[t+2];return e.moveTo(r[o],r[o+1]),e.lineTo(r[a],r[a+1]),e.lineTo(r[s],r[s+1]),e.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new C_;return this.renderTriangle(t,e),e.value()}}var I_={},R_={};function P_(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function $_(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function j_(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function L_(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+j_(-e,6):e>9999?"+"+j_(e,6):j_(e,4))+"-"+j_(t.getUTCMonth()+1,2)+"-"+j_(t.getUTCDate(),2)+(o?"T"+j_(n,2)+":"+j_(r,2)+":"+j_(i,2)+"."+j_(o,3)+"Z":i?"T"+j_(n,2)+":"+j_(r,2)+":"+j_(i,2)+"Z":r||n?"T"+j_(n,2)+":"+j_(r,2)+"Z":"")}var U_=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,s=0,u=o<=0,l=!1;function c(){if(u)return R_;if(l)return l=!1,I_;var e,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?u=!0:10===(r=t.charCodeAt(a++))?l=!0:13===r&&(l=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(e=a++)))l=!0;else if(13===r)l=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=c())!==R_;){for(var f=[];r!==I_&&r!==R_;)f.push(r),r=c();e&&null==(f=e(f,s++))||i.push(f)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?L_(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=P_(t);return function(r,i){return e(n(r),i,t)}}(t,e):P_(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=$_(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=$_(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}(","),q_=U_.parse,V_=U_.format;function W_(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function H_(t){return(t=W_(Math.abs(t)))?t[1]:NaN}var Z_,Y_=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function X_(t){if(!(e=Y_.exec(t)))throw new Error("invalid format: "+t);var e;return new K_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function K_(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function J_(t,e){var n=W_(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}X_.prototype=K_.prototype,K_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var G_={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>J_(100*t,e),r:J_,s:function(t,e){var n=W_(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Z_=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+W_(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Q_(t){return t}var tD,eD,nD,rD=Array.prototype.map,iD=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function oD(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Q_:(e=rD.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Q_:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(rD.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=X_(t)).fill,n=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,m=t.comma,g=t.precision,y=t.trim,v=t.type;"n"===v?(m=!0,v="g"):G_[v]||(void 0===g&&(g=12),y=!0,v="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var w="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===h?o:/[%p]/.test(v)?u:"",x=G_[v],_=/[defgprs%]/.test(v);function D(t){var i,o,u,h=w,D=b;if("c"===v)D=x(t)+D,t="";else{var E=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:x(Math.abs(t),g),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),E&&0==+t&&"+"!==f&&(E=!1),h=(E?"("===f?f:l:"-"===f||"("===f?"":f)+h,D=("s"===v?iD[8+Z_/3]:"")+D+(E&&"("===f?")":""),_)for(i=-1,o=t.length;++i<o;)if(48>(u=t.charCodeAt(i))||u>57){D=(46===u?a+t.slice(i+1):t.slice(i))+D,t=t.slice(0,i);break}}m&&!d&&(t=r(t,1/0));var A=h.length+t.length+D.length,M=A<p?new Array(p-A+1).join(e):"";switch(m&&d&&(t=r(M+t,M.length?p-D.length:1/0),M=""),n){case"<":t=h+t+D+M;break;case"=":t=h+M+t+D;break;case"^":t=M.slice(0,A=M.length>>1)+h+t+D+M.slice(A);break;default:t=M+h+t+D}return s(t)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),D.toString=function(){return t+""},D}return{format:f,formatPrefix:function(t,e){var n=f(((t=X_(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(H_(e)/3))),i=Math.pow(10,-r),o=iD[8+r/3];return function(t){return n(i*t)+o}}}}tD=oD({thousands:",",grouping:[3],currency:["$",""]}),eD=tD.format,nD=tD.formatPrefix;var aD=1e-6,sD=1e-12,uD=Math.PI,lD=uD/2,cD=uD/4,fD=2*uD,hD=180/uD,dD=uD/180,pD=Math.abs,mD=Math.atan,gD=Math.atan2,yD=Math.cos,vD=Math.exp,wD=Math.log,bD=Math.pow,xD=Math.sin,_D=Math.sign||function(t){return t>0?1:t<0?-1:0},DD=Math.sqrt,ED=Math.tan;function AD(t){return t>1?0:t<-1?uD:Math.acos(t)}function MD(t){return t>1?lD:t<-1?-lD:Math.asin(t)}function SD(){}function CD(t,e){t&&FD.hasOwnProperty(t.type)&&FD[t.type](t,e)}var kD={Feature:function(t,e){CD(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)CD(n[r].geometry,e)}},FD={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){ND(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)ND(n[r],e,0)},Polygon:function(t,e){TD(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)TD(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)CD(n[r],e)}};function ND(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function TD(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)ND(t[n],e,1);e.polygonEnd()}function BD(t,e){t&&kD.hasOwnProperty(t.type)?kD[t.type](t,e):CD(t,e)}function OD(t){return[gD(t[1],t[0]),MD(t[2])]}function zD(t){var e=t[0],n=t[1],r=yD(n);return[r*yD(e),r*xD(e),xD(n)]}function ID(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function RD(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function PD(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function $D(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function jD(t){var e=DD(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function LD(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function UD(t,e){return pD(t)>uD&&(t-=Math.round(t/fD)*fD),[t,e]}function qD(t,e,n){return(t%=fD)?e||n?LD(WD(t),HD(e,n)):WD(t):e||n?HD(e,n):UD}function VD(t){return function(e,n){return pD(e+=t)>uD&&(e-=Math.round(e/fD)*fD),[e,n]}}function WD(t){var e=VD(t);return e.invert=VD(-t),e}function HD(t,e){var n=yD(t),r=xD(t),i=yD(e),o=xD(e);function a(t,e){var a=yD(e),s=yD(t)*a,u=xD(t)*a,l=xD(e),c=l*n+s*r;return[gD(u*i-c*o,s*n-l*r),MD(c*i+u*o)]}return a.invert=function(t,e){var a=yD(e),s=yD(t)*a,u=xD(t)*a,l=xD(e),c=l*i-u*o;return[gD(u*i+l*o,s*n+c*r),MD(c*n-s*r)]},a}function ZD(t,e){(e=zD(e))[0]-=t,jD(e);var n=AD(-e[1]);return((-e[2]<0?-n:n)+fD-aD)%fD}function YD(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:SD,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function XD(t,e){return pD(t[0]-e[0])<aD&&pD(t[1]-e[1])<aD}function KD(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function JD(t,e,n,r,i){var o,a,s=[],u=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(XD(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2*aD}s.push(n=new KD(r,t,null,!0)),u.push(n.o=new KD(r,null,n,!1)),s.push(n=new KD(a,t,null,!1)),u.push(n.o=new KD(a,null,n,!0))}})),s.length){for(u.sort(e),GD(s),GD(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;for(var l,c,f=s[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;l=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=l.length;o<a;++o)i.point((c=l[o])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(l=h.p.z,o=l.length-1;o>=0;--o)i.point((c=l[o])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}l=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function GD(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function QD(t){return pD(t[0])<=uD?t[0]:_D(t[0])*((pD(t[0])+uD)%fD-uD)}function tE(t,e,n,r){return function(i){var o,a,s,u=e(i),l=YD(),c=e(l),f=!1,h={point:d,lineStart:m,lineEnd:g,polygonStart:function(){h.point=y,h.lineStart=v,h.lineEnd=w,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=m,h.lineEnd=g,a=Dy(a);var t=function(t,e){var n=QD(e),r=e[1],i=xD(r),o=[xD(n),-yD(n),0],a=0,s=0,u=new Ug;1===i?r=lD+aD:-1===i&&(r=-lD-aD);for(var l=0,c=t.length;l<c;++l)if(h=(f=t[l]).length)for(var f,h,d=f[h-1],p=QD(d),m=d[1]/2+cD,g=xD(m),y=yD(m),v=0;v<h;++v,p=b,g=_,y=D,d=w){var w=f[v],b=QD(w),x=w[1]/2+cD,_=xD(x),D=yD(x),E=b-p,A=E>=0?1:-1,M=A*E,S=M>uD,C=g*_;if(u.add(gD(C*A*xD(M),y*D+C*yD(M))),a+=S?E+A*fD:E,S^p>=n^b>=n){var k=RD(zD(d),zD(w));jD(k);var F=RD(o,k);jD(F);var N=(S^E>=0?-1:1)*MD(F[2]);(r>N||r===N&&(k[0]||k[1]))&&(s+=S^E>=0?1:-1)}}return(a<-aD||a<aD&&u<-sD)^1&s}(o,r);a.length?(f||(i.polygonStart(),f=!0),JD(a,nE,t,n,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(e,n){t(e,n)&&i.point(e,n)}function p(t,e){u.point(t,e)}function m(){h.point=p,u.lineStart()}function g(){h.point=d,u.lineEnd()}function y(t,e){s.push([t,e]),c.point(t,e)}function v(){c.lineStart(),s=[]}function w(){y(s[0][0],s[0][1]),c.lineEnd();var t,e,n,r,u=c.clean(),h=l.result(),d=h.length;if(s.pop(),o.push(s),s=null,d)if(1&u){if((e=(n=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else d>1&&2&u&&h.push(h.pop().concat(h.shift())),a.push(h.filter(eE))}return h}}function eE(t){return t.length>1}function nE(t,e){return((t=t.x)[0]<0?t[1]-lD-aD:lD-t[1])-((e=e.x)[0]<0?e[1]-lD-aD:lD-e[1])}UD.invert=UD;var rE=tE((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?uD:-uD,u=pD(o-n);pD(u-uD)<aD?(t.point(n,r=(r+a)/2>0?lD:-lD),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=uD&&(pD(n-i)<aD&&(n-=i*aD),pD(o-s)<aD&&(o-=s*aD),r=function(t,e,n,r){var i,o,a=xD(t-n);return pD(a)>aD?mD((xD(e)*(o=yD(r))*xD(n)-xD(r)*(i=yD(e))*xD(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*lD,r.point(-uD,i),r.point(0,i),r.point(uD,i),r.point(uD,0),r.point(uD,-i),r.point(0,-i),r.point(-uD,-i),r.point(-uD,0),r.point(-uD,i);else if(pD(t[0]-e[0])>aD){var o=t[0]<e[0]?uD:-uD;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-uD,-lD]);function iE(t){var e=yD(t),n=6*dD,r=e>0,i=pD(e)>aD;function o(t,n){return yD(t)*yD(n)>e}function a(t,n,r){var i=[1,0,0],o=RD(zD(t),zD(n)),a=ID(o,o),s=o[0],u=a-s*s;if(!u)return!r&&t;var l=e*a/u,c=-e*s/u,f=RD(i,o),h=$D(i,l);PD(h,$D(o,c));var d=f,p=ID(h,d),m=ID(d,d),g=p*p-m*(ID(h,h)-1);if(!(g<0)){var y=DD(g),v=$D(d,(-p-y)/m);if(PD(v,h),v=OD(v),!r)return v;var w,b=t[0],x=n[0],_=t[1],D=n[1];x<b&&(w=b,b=x,x=w);var E=x-b,A=pD(E-uD)<aD;if(!A&&D<_&&(w=_,_=D,D=w),A||E<aD?A?_+D>0^v[1]<(pD(v[0]-b)<aD?_:D):_<=v[1]&&v[1]<=D:E>uD^(b<=v[0]&&v[0]<=x)){var M=$D(d,(-p+y)/m);return PD(M,h),[v,OD(M)]}}}function s(e,n){var i=r?t:uD-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return tE(o,(function(t){var e,n,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(f,h){var d,p=[f,h],m=o(f,h),g=r?m?0:s(f,h):m?s(f+(f<0?uD:-uD),h):0;if(!e&&(l=u=m)&&t.lineStart(),m!==u&&(!(d=a(e,p))||XD(e,d)||XD(p,d))&&(p[2]=1),m!==u)c=0,m?(t.lineStart(),d=a(p,e),t.point(d[0],d[1])):(d=a(e,p),t.point(d[0],d[1],2),t.lineEnd()),e=d;else if(i&&e&&r^m){var y;g&n||!(y=a(p,e,!0))||(c=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!m||e&&XD(e,p)||t.point(p[0],p[1]),e=p,u=m,n=g},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return c|(l&&u)<<1}}}),(function(e,r,i,o){!function(t,e,n,r,i,o){if(n){var a=yD(e),s=xD(e),u=r*n;null==i?(i=e+r*fD,o=e-u/2):(i=ZD(a,i),o=ZD(a,o),(r>0?i<o:i>o)&&(i+=r*fD));for(var l,c=i;r>0?c>o:c<o;c-=u)l=OD([a,-s*yD(c),-s*xD(c)]),t.point(l[0],l[1])}}(o,t,n,i,e,r)}),r?[0,-t]:[-uD,t-uD])}var oE=1e9,aE=-oE;function sE(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,l){var c=0,f=0;if(null==i||(c=a(i,s))!==(f=a(o,s))||u(i,o)<0^s>0)do{l.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+s+4)%4)!==f);else l.point(o[0],o[1])}function a(r,i){return pD(r[0]-t)<aD?i>0?0:3:pD(r[0]-n)<aD?i>0?2:1:pD(r[1]-e)<aD?i>0?1:0:i>0?3:2}function s(t,e){return u(t.x,e.x)}function u(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var u,l,c,f,h,d,p,m,g,y,v,w=a,b=YD(),x={point:_,lineStart:function(){x.point=D,l&&l.push(c=[]);y=!0,g=!1,p=m=NaN},lineEnd:function(){u&&(D(f,h),d&&g&&b.rejoin(),u.push(b.result()));x.point=_,g&&w.lineEnd()},polygonStart:function(){w=b,u=[],l=[],v=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=l.length;n<i;++n)for(var o,a,s=l[n],u=1,c=s.length,f=s[0],h=f[0],d=f[1];u<c;++u)o=h,a=d,h=(f=s[u])[0],d=f[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++e:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--e;return e}(),n=v&&e,i=(u=Dy(u)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&JD(u,s,e,o,a),a.polygonEnd());w=a,u=l=c=null}};function _(t,e){i(t,e)&&w.point(t,e)}function D(o,a){var s=i(o,a);if(l&&c.push([o,a]),y)f=o,h=a,d=s,y=!1,s&&(w.lineStart(),w.point(o,a));else if(s&&g)w.point(o,a);else{var u=[p=Math.max(aE,Math.min(oE,p)),m=Math.max(aE,Math.min(oE,m))],b=[o=Math.max(aE,Math.min(oE,o)),a=Math.max(aE,Math.min(oE,a))];!function(t,e,n,r,i,o){var a,s=t[0],u=t[1],l=0,c=1,f=e[0]-s,h=e[1]-u;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>l&&(l=a)}if(a=i-s,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<c&&(c=a)}if(a=r-u,h||!(a>0)){if(a/=h,h<0){if(a<l)return;a<c&&(c=a)}else if(h>0){if(a>c)return;a>l&&(l=a)}if(a=o-u,h||!(a<0)){if(a/=h,h<0){if(a>c)return;a>l&&(l=a)}else if(h>0){if(a<l)return;a<c&&(c=a)}return l>0&&(t[0]=s+l*f,t[1]=u+l*h),c<1&&(e[0]=s+c*f,e[1]=u+c*h),!0}}}}}(u,b,t,e,n,r)?s&&(w.lineStart(),w.point(o,a),v=!1):(g||(w.lineStart(),w.point(u[0],u[1])),w.point(b[0],b[1]),s||w.lineEnd(),v=!1)}p=o,m=a,g=s}return x}}var uE,lE,cE,fE,hE=t=>t,dE=new Ug,pE=new Ug,mE={point:SD,lineStart:SD,lineEnd:SD,polygonStart:function(){mE.lineStart=gE,mE.lineEnd=wE},polygonEnd:function(){mE.lineStart=mE.lineEnd=mE.point=SD,dE.add(pD(pE)),pE=new Ug},result:function(){var t=dE/2;return dE=new Ug,t}};function gE(){mE.point=yE}function yE(t,e){mE.point=vE,uE=cE=t,lE=fE=e}function vE(t,e){pE.add(fE*t-cE*e),cE=t,fE=e}function wE(){vE(uE,lE)}var bE=mE,xE=1/0,_E=xE,DE=-xE,EE=DE,AE={point:function(t,e){t<xE&&(xE=t);t>DE&&(DE=t);e<_E&&(_E=e);e>EE&&(EE=e)},lineStart:SD,lineEnd:SD,polygonStart:SD,polygonEnd:SD,result:function(){var t=[[xE,_E],[DE,EE]];return DE=EE=-(_E=xE=1/0),t}};var ME,SE,CE,kE,FE=AE,NE=0,TE=0,BE=0,OE=0,zE=0,IE=0,RE=0,PE=0,$E=0,jE={point:LE,lineStart:UE,lineEnd:WE,polygonStart:function(){jE.lineStart=HE,jE.lineEnd=ZE},polygonEnd:function(){jE.point=LE,jE.lineStart=UE,jE.lineEnd=WE},result:function(){var t=$E?[RE/$E,PE/$E]:IE?[OE/IE,zE/IE]:BE?[NE/BE,TE/BE]:[NaN,NaN];return NE=TE=BE=OE=zE=IE=RE=PE=$E=0,t}};function LE(t,e){NE+=t,TE+=e,++BE}function UE(){jE.point=qE}function qE(t,e){jE.point=VE,LE(CE=t,kE=e)}function VE(t,e){var n=t-CE,r=e-kE,i=DD(n*n+r*r);OE+=i*(CE+t)/2,zE+=i*(kE+e)/2,IE+=i,LE(CE=t,kE=e)}function WE(){jE.point=LE}function HE(){jE.point=YE}function ZE(){XE(ME,SE)}function YE(t,e){jE.point=XE,LE(ME=CE=t,SE=kE=e)}function XE(t,e){var n=t-CE,r=e-kE,i=DD(n*n+r*r);OE+=i*(CE+t)/2,zE+=i*(kE+e)/2,IE+=i,RE+=(i=kE*t-CE*e)*(CE+t),PE+=i*(kE+e),$E+=3*i,LE(CE=t,kE=e)}var KE=jE;function JE(t){this._context=t}JE.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,fD)}},result:SD};var GE,QE,tA,eA,nA,rA=new Ug,iA={point:SD,lineStart:function(){iA.point=oA},lineEnd:function(){GE&&aA(QE,tA),iA.point=SD},polygonStart:function(){GE=!0},polygonEnd:function(){GE=null},result:function(){var t=+rA;return rA=new Ug,t}};function oA(t,e){iA.point=aA,QE=eA=t,tA=nA=e}function aA(t,e){eA-=t,nA-=e,rA.add(DD(eA*eA+nA*nA)),eA=t,nA=e}var sA=iA;let uA,lA,cA,fA;class hA{constructor(t){this._append=null==t?dA:function(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return dA;if(e!==uA){const t=10**e;uA=e,lA=function(e){let n=1;this._+=e[0];for(const r=e.length;n<r;++n)this._+=Math.round(arguments[n]*t)/t+e[n]}}return lA}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:this._append`M${t},${e}`,this._point=1;break;case 1:this._append`L${t},${e}`;break;default:if(this._append`M${t},${e}`,this._radius!==cA||this._append!==lA){const t=this._radius,e=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,cA=t,lA=this._append,fA=this._,this._=e}this._+=fA}}result(){const t=this._;return this._="",t.length?t:null}}function dA(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function pA(t,e){let n,r,i=3,o=4.5;function a(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),BD(t,n(r))),r.result()}return a.area=function(t){return BD(t,n(bE)),bE.result()},a.measure=function(t){return BD(t,n(sA)),sA.result()},a.bounds=function(t){return BD(t,n(FE)),FE.result()},a.centroid=function(t){return BD(t,n(KE)),KE.result()},a.projection=function(e){return arguments.length?(n=null==e?(t=null,hE):(t=e).stream,a):t},a.context=function(t){return arguments.length?(r=null==t?(e=null,new hA(i)):new JE(e=t),"function"!=typeof o&&r.pointRadius(o),a):e},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),a):o},a.digits=function(t){if(!arguments.length)return i;if(null==t)i=null;else{const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);i=e}return null===e&&(r=new hA(i)),a},a.projection(t).digits(i).context(e)}function mA(t){return{stream:gA(t)}}function gA(t){return function(e){var n=new yA;for(var r in t)n[r]=t[r];return n.stream=e,n}}function yA(){}function vA(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),BD(n,t.stream(FE)),e(FE.result()),null!=r&&t.clipExtent(r),t}function wA(t,e,n){return vA(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])}),n)}function bA(t,e,n){return wA(t,[[0,0],e],n)}function xA(t,e,n){return vA(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])}),n)}function _A(t,e,n){return vA(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])}),n)}yA.prototype={constructor:yA,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var DA=16,EA=yD(30*dD);function AA(t,e){return+e?function(t,e){function n(r,i,o,a,s,u,l,c,f,h,d,p,m,g){var y=l-r,v=c-i,w=y*y+v*v;if(w>4*e&&m--){var b=a+h,x=s+d,_=u+p,D=DD(b*b+x*x+_*_),E=MD(_/=D),A=pD(pD(_)-1)<aD||pD(o-f)<aD?(o+f)/2:gD(x,b),M=t(A,E),S=M[0],C=M[1],k=S-r,F=C-i,N=v*k-y*F;(N*N/w>e||pD((y*k+v*F)/w-.5)>.3||a*h+s*d+u*p<EA)&&(n(r,i,o,a,s,u,S,C,A,b/=D,x/=D,_,m,g),g.point(S,C),n(S,C,A,b,x,_,l,c,f,h,d,p,m,g))}}return function(e){var r,i,o,a,s,u,l,c,f,h,d,p,m={point:g,lineStart:y,lineEnd:w,polygonStart:function(){e.polygonStart(),m.lineStart=b},polygonEnd:function(){e.polygonEnd(),m.lineStart=y}};function g(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){c=NaN,m.point=v,e.lineStart()}function v(r,i){var o=zD([r,i]),a=t(r,i);n(c,f,l,h,d,p,c=a[0],f=a[1],l=r,h=o[0],d=o[1],p=o[2],DA,e),e.point(c,f)}function w(){m.point=g,e.lineEnd()}function b(){y(),m.point=x,m.lineEnd=_}function x(t,e){v(r=t,e),i=c,o=f,a=h,s=d,u=p,m.point=v}function _(){n(c,f,l,h,d,p,i,o,r,a,s,u,DA,e),m.lineEnd=w,w()}return m}}(t,e):function(t){return gA({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var MA=gA({point:function(t,e){this.stream.point(t*dD,e*dD)}});function SA(t,e,n,r,i,o){if(!o)return function(t,e,n,r,i){function o(o,a){return[e+t*(o*=r),n-t*(a*=i)]}return o.invert=function(o,a){return[(o-e)/t*r,(n-a)/t*i]},o}(t,e,n,r,i);var a=yD(o),s=xD(o),u=a*t,l=s*t,c=a/t,f=s/t,h=(s*n-a*e)/t,d=(s*e+a*n)/t;function p(t,o){return[u*(t*=r)-l*(o*=i)+e,n-l*t-u*o]}return p.invert=function(t,e){return[r*(c*t-f*e+h),i*(d-f*t-c*e)]},p}function CA(t){return kA((function(){return t}))()}function kA(t){var e,n,r,i,o,a,s,u,l,c,f=150,h=480,d=250,p=0,m=0,g=0,y=0,v=0,w=0,b=1,x=1,_=null,D=rE,E=null,A=hE,M=.5;function S(t){return u(t[0]*dD,t[1]*dD)}function C(t){return(t=u.invert(t[0],t[1]))&&[t[0]*hD,t[1]*hD]}function k(){var t=SA(f,0,0,b,x,w).apply(null,e(p,m)),r=SA(f,h-t[0],d-t[1],b,x,w);return n=qD(g,y,v),s=LD(e,r),u=LD(n,s),a=AA(s,M),F()}function F(){return l=c=null,S}return S.stream=function(t){return l&&c===t?l:l=MA(function(t){return gA({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(D(a(A(c=t)))))},S.preclip=function(t){return arguments.length?(D=t,_=void 0,F()):D},S.postclip=function(t){return arguments.length?(A=t,E=r=i=o=null,F()):A},S.clipAngle=function(t){return arguments.length?(D=+t?iE(_=t*dD):(_=null,rE),F()):_*hD},S.clipExtent=function(t){return arguments.length?(A=null==t?(E=r=i=o=null,hE):sE(E=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),F()):null==E?null:[[E,r],[i,o]]},S.scale=function(t){return arguments.length?(f=+t,k()):f},S.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],k()):[h,d]},S.center=function(t){return arguments.length?(p=t[0]%360*dD,m=t[1]%360*dD,k()):[p*hD,m*hD]},S.rotate=function(t){return arguments.length?(g=t[0]%360*dD,y=t[1]%360*dD,v=t.length>2?t[2]%360*dD:0,k()):[g*hD,y*hD,v*hD]},S.angle=function(t){return arguments.length?(w=t%360*dD,k()):w*hD},S.reflectX=function(t){return arguments.length?(b=t?-1:1,k()):b<0},S.reflectY=function(t){return arguments.length?(x=t?-1:1,k()):x<0},S.precision=function(t){return arguments.length?(a=AA(s,M=t*t),F()):DD(M)},S.fitExtent=function(t,e){return wA(S,t,e)},S.fitSize=function(t,e){return bA(S,t,e)},S.fitWidth=function(t,e){return xA(S,t,e)},S.fitHeight=function(t,e){return _A(S,t,e)},function(){return e=t.apply(this,arguments),S.invert=e.invert&&C,k()}}function FA(t){var e=0,n=uD/3,r=kA(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*dD,n=t[1]*dD):[e*hD,n*hD]},i}function NA(t,e){var n=xD(t),r=(n+xD(e))/2;if(pD(r)<aD)return function(t){var e=yD(t);function n(t,n){return[t*e,xD(n)/e]}return n.invert=function(t,n){return[t/e,MD(n*e)]},n}(t);var i=1+n*(2*r-n),o=DD(i)/r;function a(t,e){var n=DD(i-2*r*xD(e))/r;return[n*xD(t*=r),o-n*yD(t)]}return a.invert=function(t,e){var n=o-e,a=gD(t,pD(n))*_D(n);return n*r<0&&(a-=uD*_D(t)*_D(n)),[a/r,MD((i-(t*t+n*n)*r*r)/(2*r))]},a}function TA(){return FA(NA).scale(155.424).center([0,33.6442])}function BA(){return TA().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function OA(){var t,e,n,r,i,o,a=BA(),s=TA().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=TA().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,e){o=[t,e]}};function c(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function f(){return t=e=null,c}return c.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?u:a).invert(t)},c.stream=function(n){return t&&e===n?t:t=function(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}([a.stream(e=n),s.stream(n),u.stream(n)])},c.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),u.precision(t),f()):a.precision()},c.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),u.scale(t),c.translate(a.translate())):a.scale()},c.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],c=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,c-.238*e],[o+.455*e,c+.238*e]]).stream(l),r=s.translate([o-.307*e,c+.201*e]).clipExtent([[o-.425*e+aD,c+.12*e+aD],[o-.214*e-aD,c+.234*e-aD]]).stream(l),i=u.translate([o-.205*e,c+.212*e]).clipExtent([[o-.214*e+aD,c+.166*e+aD],[o-.115*e-aD,c+.234*e-aD]]).stream(l),f()},c.fitExtent=function(t,e){return wA(c,t,e)},c.fitSize=function(t,e){return bA(c,t,e)},c.fitWidth=function(t,e){return xA(c,t,e)},c.fitHeight=function(t,e){return _A(c,t,e)},c.scale(1070)}function zA(t){return function(e,n){var r=yD(e),i=yD(n),o=t(r*i);return o===1/0?[2,0]:[o*i*xD(e),o*xD(n)]}}function IA(t){return function(e,n){var r=DD(e*e+n*n),i=t(r),o=xD(i),a=yD(i);return[gD(e*o,r*a),MD(r&&n*o/r)]}}var RA=zA((function(t){return DD(2/(1+t))}));function PA(){return CA(RA).scale(124.75).clipAngle(179.999)}RA.invert=IA((function(t){return 2*MD(t/2)}));var $A=zA((function(t){return(t=AD(t))&&t/xD(t)}));function jA(){return CA($A).scale(79.4188).clipAngle(179.999)}function LA(t,e){return[t,wD(ED((lD+e)/2))]}function UA(){return qA(LA).scale(961/fD)}function qA(t){var e,n,r,i=CA(t),o=i.center,a=i.scale,s=i.translate,u=i.clipExtent,l=null;function c(){var o=uD*a(),s=i(function(t){function e(e){return(e=t(e[0]*dD,e[1]*dD))[0]*=hD,e[1]*=hD,e}return t=qD(t[0]*dD,t[1]*dD,t.length>2?t[2]*dD:0),e.invert=function(e){return(e=t.invert(e[0]*dD,e[1]*dD))[0]*=hD,e[1]*=hD,e},e}(i.rotate()).invert([0,0]));return u(null==l?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===LA?[[Math.max(s[0]-o,l),e],[Math.min(s[0]+o,n),r]]:[[l,Math.max(s[1]-o,e)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),c()):a()},i.translate=function(t){return arguments.length?(s(t),c()):s()},i.center=function(t){return arguments.length?(o(t),c()):o()},i.clipExtent=function(t){return arguments.length?(null==t?l=e=n=r=null:(l=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),c()):null==l?null:[[l,e],[n,r]]},c()}function VA(t){return ED((lD+t)/2)}function WA(t,e){var n=yD(t),r=t===e?xD(t):wD(n/yD(e))/wD(VA(e)/VA(t)),i=n*bD(VA(t),r)/r;if(!r)return LA;function o(t,e){i>0?e<-lD+aD&&(e=-lD+aD):e>lD-aD&&(e=lD-aD);var n=i/bD(VA(e),r);return[n*xD(r*t),i-n*yD(r*t)]}return o.invert=function(t,e){var n=i-e,o=_D(r)*DD(t*t+n*n),a=gD(t,pD(n))*_D(n);return n*r<0&&(a-=uD*_D(t)*_D(n)),[a/r,2*mD(bD(i/o,1/r))-lD]},o}function HA(){return FA(WA).scale(109.5).parallels([30,30])}function ZA(t,e){return[t,e]}function YA(){return CA(ZA).scale(152.63)}function XA(t,e){var n=yD(t),r=t===e?xD(t):(n-yD(e))/(e-t),i=n/r+t;if(pD(r)<aD)return ZA;function o(t,e){var n=i-e,o=r*t;return[n*xD(o),i-n*yD(o)]}return o.invert=function(t,e){var n=i-e,o=gD(t,pD(n))*_D(n);return n*r<0&&(o-=uD*_D(t)*_D(n)),[o/r,i-_D(r)*DD(t*t+n*n)]},o}function KA(){return FA(XA).scale(131.154).center([0,13.9389])}$A.invert=IA((function(t){return t})),LA.invert=function(t,e){return[t,2*mD(vD(e))-lD]},ZA.invert=ZA;var JA=1.340264,GA=-.081106,QA=893e-6,tM=.003796,eM=DD(3)/2;function nM(t,e){var n=MD(eM*xD(e)),r=n*n,i=r*r*r;return[t*yD(n)/(eM*(JA+3*GA*r+i*(7*QA+9*tM*r))),n*(JA+GA*r+i*(QA+tM*r))]}function rM(){return CA(nM).scale(177.158)}function iM(t,e){var n=yD(e),r=yD(t)*n;return[n*xD(t)/r,xD(e)/r]}function oM(){return CA(iM).scale(144.049).clipAngle(60)}function aM(t,e){return[yD(e)*xD(t),xD(e)]}function sM(){return CA(aM).scale(249.5).clipAngle(90+aD)}function uM(t,e){var n=yD(e),r=1+yD(t)*n;return[n*xD(t)/r,xD(e)/r]}function lM(){return CA(uM).scale(250).clipAngle(142)}function cM(t,e){return[wD(ED((lD+e)/2)),-t]}function fM(){var t=qA(cM),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}function hM(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function dM(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}nM.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(JA+GA*i+o*(QA+tM*i))-e)/(JA+3*GA*i+o*(7*QA+9*tM*i)))*r)*i*i,!(pD(n)<sD));++a);return[eM*t*(JA+3*GA*i+o*(7*QA+9*tM*i))/yD(r),MD(xD(r)/eM)]},iM.invert=IA(mD),aM.invert=IA(MD),uM.invert=IA((function(t){return 2*mD(t)})),cM.invert=function(t,e){return[-e,2*mD(vD(t))-lD]};const pM=Symbol("implicit");function mM(){var t=new qg,e=[],n=[],r=pM;function i(i){let o=t.get(i);if(void 0===o){if(r!==pM)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new qg;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return mM(e,n).unknown(r)},hM.apply(i,arguments),i}function gM(){var t,e,n=mM().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,u=0,l=0,c=.5;function f(){var n=r().length,f=a<o,h=f?a:o,d=f?o:a;t=(d-h)/Math.max(1,n-u+2*l),s&&(t=Math.floor(t)),h+=(d-h-t*(n-u))*c,e=t*(1-u),s&&(h=Math.round(h),e=Math.round(e));var p=My(n).map((function(e){return h+t*e}));return i(f?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),f()):r()},n.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,f()):[o,a]},n.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,s=!0,f()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,f()):s},n.padding=function(t){return arguments.length?(u=Math.min(1,l=+t),f()):u},n.paddingInner=function(t){return arguments.length?(u=Math.min(1,t),f()):u},n.paddingOuter=function(t){return arguments.length?(l=+t,f()):l},n.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),f()):c},n.copy=function(){return gM(r(),[o,a]).round(s).paddingInner(u).paddingOuter(l).align(c)},hM.apply(f(),arguments)}function yM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return yM(e())},t}function vM(){return yM(gM.apply(null,arguments).paddingInner(1))}function wM(t){return+t}var bM=[0,1];function xM(t){return t}function _M(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function DM(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=_M(i,r),o=n(a,o)):(r=_M(r,i),o=n(o,a)),function(t){return o(r(t))}}function EM(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=_M(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=Og(t,e,1,r)-1;return o[n](i[n](e))}}function AM(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function MM(){var t,e,n,r,i,o,a=bM,s=bM,u=Ob,l=xM;function c(){var t=Math.min(a.length,s.length);return l!==xM&&(l=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(a[0],a[t-1])),r=t>2?EM:DM,i=o=null,f}function f(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),s,u)))(t(l(e)))}return f.invert=function(n){return l(e((o||(o=r(s,a.map(t),kb)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,wM),c()):a.slice()},f.range=function(t){return arguments.length?(s=Array.from(t),c()):s.slice()},f.rangeRound=function(t){return s=Array.from(t),u=zb,c()},f.clamp=function(t){return arguments.length?(l=!!t||xM,c()):l!==xM},f.interpolate=function(t){return arguments.length?(u=t,c()):u},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,c()}}function SM(){return MM()(xM,xM)}function CM(t,e,n,r){var i,o=ly(t,e,n);switch((r=X_(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(H_(e)/3)))-H_(Math.abs(t)))}(o,a))||(r.precision=i),nD(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,H_(e)-H_(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-H_(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return eD(r)}function kM(t){var e=t.domain;return t.ticks=function(t){var n=e();return sy(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return CM(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,u=o[a],l=o[s],c=10;for(l<u&&(i=u,u=l,l=i,i=a,a=s,s=i);c-- >0;){if((i=uy(u,l,n))===r)return o[a]=u,o[s]=l,e(o);if(i>0)u=Math.floor(u/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,l=Math.floor(l*i)/i}r=i}return t},t}function FM(){var t=SM();return t.copy=function(){return AM(t,FM())},hM.apply(t,arguments),kM(t)}function NM(t){var e;function n(t){return null==t||isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,wM),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return NM(t).unknown(e)},t=arguments.length?Array.from(t,wM):[0,1],kM(n)}function TM(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function BM(t){return Math.log(t)}function OM(t){return Math.exp(t)}function zM(t){return-Math.log(-t)}function IM(t){return-Math.exp(-t)}function RM(t){return isFinite(t)?+("1e"+t):t<0?0:t}function PM(t){return(e,n)=>-t(-e,n)}function $M(t){const e=t(BM,OM),n=e.domain;let r,i,o=10;function a(){return r=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}(o),i=function(t){return 10===t?RM:t===Math.E?Math.exp:e=>Math.pow(t,e)}(o),n()[0]<0?(r=PM(r),i=PM(i),t(zM,IM)):t(BM,OM),e}return e.base=function(t){return arguments.length?(o=+t,a()):o},e.domain=function(t){return arguments.length?(n(t),a()):n()},e.ticks=t=>{const e=n();let a=e[0],s=e[e.length-1];const u=s<a;u&&([a,s]=[s,a]);let l,c,f=r(a),h=r(s);const d=null==t?10:+t;let p=[];if(!(o%1)&&h-f<d){if(f=Math.floor(f),h=Math.ceil(h),a>0){for(;f<=h;++f)for(l=1;l<o;++l)if(c=f<0?l/i(-f):l*i(f),!(c<a)){if(c>s)break;p.push(c)}}else for(;f<=h;++f)for(l=o-1;l>=1;--l)if(c=f>0?l/i(-f):l*i(f),!(c<a)){if(c>s)break;p.push(c)}2*p.length<d&&(p=sy(a,s,d))}else p=sy(f,h,Math.min(h-f,d)).map(i);return u?p.reverse():p},e.tickFormat=(t,n)=>{if(null==t&&(t=10),null==n&&(n=10===o?"s":","),"function"!=typeof n&&(o%1||null!=(n=X_(n)).precision||(n.trim=!0),n=eD(n)),t===1/0)return n;const a=Math.max(1,o*t/e.ticks().length);return t=>{let e=t/i(Math.round(r(t)));return e*o<o-.5&&(e*=o),e<=a?n(t):""}},e.nice=()=>n(TM(n(),{floor:t=>i(Math.floor(r(t))),ceil:t=>i(Math.ceil(r(t)))})),e}function jM(){const t=$M(MM()).domain([1,10]);return t.copy=()=>AM(t,jM()).base(t.base()),hM.apply(t,arguments),t}function LM(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function UM(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function qM(t){var e=1,n=t(LM(e),UM(e));return n.constant=function(n){return arguments.length?t(LM(e=+n),UM(e)):e},kM(n)}function VM(){var t=qM(MM());return t.copy=function(){return AM(t,VM()).constant(t.constant())},hM.apply(t,arguments)}function WM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function HM(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ZM(t){return t<0?-t*t:t*t}function YM(t){var e=t(xM,xM),n=1;return e.exponent=function(e){return arguments.length?1===(n=+e)?t(xM,xM):.5===n?t(HM,ZM):t(WM(n),WM(1/n)):n},kM(e)}function XM(){var t=YM(MM());return t.copy=function(){return AM(t,XM()).exponent(t.exponent())},hM.apply(t,arguments),t}function KM(){var t,e=[],n=[],r=[];function i(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=vy(e,t/i);return o}function o(e){return null==e||isNaN(e=+e)?t:n[Og(r,e)]}return o.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(Cg),i()},o.range=function(t){return arguments.length?(n=Array.from(t),i()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return r.slice()},o.copy=function(){return KM().domain(e).range(n).unknown(t)},hM.apply(o,arguments)}function JM(){var t,e=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[Og(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Array.from(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Array.from(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return JM().domain(e).range(n).unknown(t)},hM.apply(i,arguments)}const GM=new Date,QM=new Date;function tS(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=e=>(t(e=new Date(+e)),e),i.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),i.round=t=>{const e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return a;let s;do{a.push(s=new Date(+n)),e(n,o),t(n)}while(s<n&&n<r);return a},i.filter=n=>tS((e=>{if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})),n&&(i.count=(e,r)=>(GM.setTime(+e),QM.setTime(+r),t(GM),t(QM),Math.floor(n(GM,QM))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?e=>r(e)%t==0:e=>i.count(0,e)%t==0):i:null)),i}const eS=tS((()=>{}),((t,e)=>{t.setTime(+t+e)}),((t,e)=>e-t));eS.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?tS((e=>{e.setTime(Math.floor(e/t)*t)}),((e,n)=>{e.setTime(+e+n*t)}),((e,n)=>(n-e)/t)):eS:null),eS.range;const nS=1e3,rS=6e4,iS=36e5,oS=864e5,aS=6048e5,sS=2592e6,uS=31536e6,lS=tS((t=>{t.setTime(t-t.getMilliseconds())}),((t,e)=>{t.setTime(+t+e*nS)}),((t,e)=>(e-t)/nS),(t=>t.getUTCSeconds()));lS.range;const cS=tS((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*nS)}),((t,e)=>{t.setTime(+t+e*rS)}),((t,e)=>(e-t)/rS),(t=>t.getMinutes()));cS.range;const fS=tS((t=>{t.setUTCSeconds(0,0)}),((t,e)=>{t.setTime(+t+e*rS)}),((t,e)=>(e-t)/rS),(t=>t.getUTCMinutes()));fS.range;const hS=tS((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*nS-t.getMinutes()*rS)}),((t,e)=>{t.setTime(+t+e*iS)}),((t,e)=>(e-t)/iS),(t=>t.getHours()));hS.range;const dS=tS((t=>{t.setUTCMinutes(0,0,0)}),((t,e)=>{t.setTime(+t+e*iS)}),((t,e)=>(e-t)/iS),(t=>t.getUTCHours()));dS.range;const pS=tS((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*rS)/oS),(t=>t.getDate()-1));pS.range;const mS=tS((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/oS),(t=>t.getUTCDate()-1));mS.range;const gS=tS((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/oS),(t=>Math.floor(t/oS)));function yS(t){return tS((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*rS)/aS))}gS.range;const vS=yS(0),wS=yS(1),bS=yS(2),xS=yS(3),_S=yS(4),DS=yS(5),ES=yS(6);function AS(t){return tS((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/aS))}vS.range,wS.range,bS.range,xS.range,_S.range,DS.range,ES.range;const MS=AS(0),SS=AS(1),CS=AS(2),kS=AS(3),FS=AS(4),NS=AS(5),TS=AS(6);MS.range,SS.range,CS.range,kS.range,FS.range,NS.range,TS.range;const BS=tS((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,e)=>{t.setMonth(t.getMonth()+e)}),((t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())),(t=>t.getMonth()));BS.range;const OS=tS((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)}),((t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth()));OS.range;const zS=tS((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear()));zS.every=t=>isFinite(t=Math.floor(t))&&t>0?tS((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null,zS.range;const IS=tS((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));function RS(t,e,n,r,i,o){const a=[[lS,1,nS],[lS,5,5e3],[lS,15,15e3],[lS,30,3e4],[o,1,rS],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,iS],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,oS],[r,2,1728e5],[n,1,aS],[e,1,sS],[e,3,7776e6],[t,1,uS]];function s(e,n,r){const i=Math.abs(n-e)/r,o=Fg((([,,t])=>t)).right(a,i);if(o===a.length)return t.every(ly(e/uS,n/uS,r));if(0===o)return eS.every(Math.max(ly(e,n,r),1));const[s,u]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(u)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"==typeof n.range?n:s(t,e,n),o=i?i.range(t,+e+1):[];return r?o.reverse():o},s]}IS.every=t=>isFinite(t=Math.floor(t))&&t>0?tS((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null,IS.range;const[PS,$S]=RS(IS,OS,MS,gS,dS,fS),[jS,LS]=RS(zS,BS,vS,pS,hS,cS);function US(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function qS(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function VS(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var WS,HS,ZS,YS={"-":"",_:" ",0:"0"},XS=/^\s*\d+/,KS=/^%/,JS=/[\\^$*+?|[\]().{}]/g;function GS(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function QS(t){return t.replace(JS,"\\$&")}function tC(t){return new RegExp("^(?:"+t.map(QS).join("|")+")","i")}function eC(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function nC(t,e,n){var r=XS.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function rC(t,e,n){var r=XS.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function iC(t,e,n){var r=XS.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function oC(t,e,n){var r=XS.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function aC(t,e,n){var r=XS.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function sC(t,e,n){var r=XS.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function uC(t,e,n){var r=XS.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function lC(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function cC(t,e,n){var r=XS.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function fC(t,e,n){var r=XS.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function hC(t,e,n){var r=XS.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function dC(t,e,n){var r=XS.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function pC(t,e,n){var r=XS.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function mC(t,e,n){var r=XS.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function gC(t,e,n){var r=XS.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function yC(t,e,n){var r=XS.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function vC(t,e,n){var r=XS.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function wC(t,e,n){var r=KS.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function bC(t,e,n){var r=XS.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function xC(t,e,n){var r=XS.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function _C(t,e){return GS(t.getDate(),e,2)}function DC(t,e){return GS(t.getHours(),e,2)}function EC(t,e){return GS(t.getHours()%12||12,e,2)}function AC(t,e){return GS(1+pS.count(zS(t),t),e,3)}function MC(t,e){return GS(t.getMilliseconds(),e,3)}function SC(t,e){return MC(t,e)+"000"}function CC(t,e){return GS(t.getMonth()+1,e,2)}function kC(t,e){return GS(t.getMinutes(),e,2)}function FC(t,e){return GS(t.getSeconds(),e,2)}function NC(t){var e=t.getDay();return 0===e?7:e}function TC(t,e){return GS(vS.count(zS(t)-1,t),e,2)}function BC(t){var e=t.getDay();return e>=4||0===e?_S(t):_S.ceil(t)}function OC(t,e){return t=BC(t),GS(_S.count(zS(t),t)+(4===zS(t).getDay()),e,2)}function zC(t){return t.getDay()}function IC(t,e){return GS(wS.count(zS(t)-1,t),e,2)}function RC(t,e){return GS(t.getFullYear()%100,e,2)}function PC(t,e){return GS((t=BC(t)).getFullYear()%100,e,2)}function $C(t,e){return GS(t.getFullYear()%1e4,e,4)}function jC(t,e){var n=t.getDay();return GS((t=n>=4||0===n?_S(t):_S.ceil(t)).getFullYear()%1e4,e,4)}function LC(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+GS(e/60|0,"0",2)+GS(e%60,"0",2)}function UC(t,e){return GS(t.getUTCDate(),e,2)}function qC(t,e){return GS(t.getUTCHours(),e,2)}function VC(t,e){return GS(t.getUTCHours()%12||12,e,2)}function WC(t,e){return GS(1+mS.count(IS(t),t),e,3)}function HC(t,e){return GS(t.getUTCMilliseconds(),e,3)}function ZC(t,e){return HC(t,e)+"000"}function YC(t,e){return GS(t.getUTCMonth()+1,e,2)}function XC(t,e){return GS(t.getUTCMinutes(),e,2)}function KC(t,e){return GS(t.getUTCSeconds(),e,2)}function JC(t){var e=t.getUTCDay();return 0===e?7:e}function GC(t,e){return GS(MS.count(IS(t)-1,t),e,2)}function QC(t){var e=t.getUTCDay();return e>=4||0===e?FS(t):FS.ceil(t)}function tk(t,e){return t=QC(t),GS(FS.count(IS(t),t)+(4===IS(t).getUTCDay()),e,2)}function ek(t){return t.getUTCDay()}function nk(t,e){return GS(SS.count(IS(t)-1,t),e,2)}function rk(t,e){return GS(t.getUTCFullYear()%100,e,2)}function ik(t,e){return GS((t=QC(t)).getUTCFullYear()%100,e,2)}function ok(t,e){return GS(t.getUTCFullYear()%1e4,e,4)}function ak(t,e){var n=t.getUTCDay();return GS((t=n>=4||0===n?FS(t):FS.ceil(t)).getUTCFullYear()%1e4,e,4)}function sk(){return"+0000"}function uk(){return"%"}function lk(t){return+t}function ck(t){return Math.floor(+t/1e3)}function fk(t){return new Date(t)}function hk(t){return t instanceof Date?+t:+new Date(+t)}function dk(t,e,n,r,i,o,a,s,u,l){var c=SM(),f=c.invert,h=c.domain,d=l(".%L"),p=l(":%S"),m=l("%I:%M"),g=l("%I %p"),y=l("%a %d"),v=l("%b %d"),w=l("%B"),b=l("%Y");function x(t){return(u(t)<t?d:s(t)<t?p:a(t)<t?m:o(t)<t?g:r(t)<t?i(t)<t?y:v:n(t)<t?w:b)(t)}return c.invert=function(t){return new Date(f(t))},c.domain=function(t){return arguments.length?h(Array.from(t,hk)):h().map(fk)},c.ticks=function(e){var n=h();return t(n[0],n[n.length-1],null==e?10:e)},c.tickFormat=function(t,e){return null==e?x:l(e)},c.nice=function(t){var n=h();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?h(TM(n,t)):c},c.copy=function(){return AM(c,dk(t,e,n,r,i,o,a,s,u,l))},c}function pk(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function mk(){var t,e,n,r,i,o,a,s=0,u=.5,l=1,c=1,f=xM,h=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(c*t<c*e?r:i),f(h?Math.max(0,Math.min(1,t)):t))}function p(t){return function(e){var n,r,i;return arguments.length?([n,r,i]=e,f=Zb(t,[n,r,i]),d):[f(0),f(.5),f(1)]}}return d.domain=function(a){return arguments.length?([s,u,l]=a,t=o(s=+s),e=o(u=+u),n=o(l=+l),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),c=e<t?-1:1,d):[s,u,l]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(f=t,d):f},d.range=p(Ob),d.rangeRound=p(zb),d.unknown=function(t){return arguments.length?(a=t,d):a},function(a){return o=a,t=a(s),e=a(u),n=a(l),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),c=e<t?-1:1,d}}function gk(){var t=kM(mk()(xM));return t.copy=function(){return pk(t,gk())},dM.apply(t,arguments)}function yk(){var t=$M(mk()).domain([.1,1,10]);return t.copy=function(){return pk(t,yk()).base(t.base())},dM.apply(t,arguments)}function vk(){var t=qM(mk());return t.copy=function(){return pk(t,vk()).constant(t.constant())},dM.apply(t,arguments)}function wk(){var t=YM(mk());return t.copy=function(){return pk(t,wk()).exponent(t.exponent())},dM.apply(t,arguments)}function bk(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}!function(t){WS=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,l=tC(i),c=eC(i),f=tC(o),h=eC(o),d=tC(a),p=eC(a),m=tC(s),g=eC(s),y=tC(u),v=eC(u),w={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:_C,e:_C,f:SC,g:PC,G:jC,H:DC,I:EC,j:AC,L:MC,m:CC,M:kC,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:lk,s:ck,S:FC,u:NC,U:TC,V:OC,w:zC,W:IC,x:null,X:null,y:RC,Y:$C,Z:LC,"%":uk},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:UC,e:UC,f:ZC,g:ik,G:ak,H:qC,I:VC,j:WC,L:HC,m:YC,M:XC,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:lk,s:ck,S:KC,u:JC,U:GC,V:tk,w:ek,W:nk,x:null,X:null,y:rk,Y:ok,Z:sk,"%":uk},x={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return E(t,e,n,r)},d:hC,e:hC,f:vC,g:uC,G:sC,H:pC,I:pC,j:dC,L:yC,m:fC,M:mC,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:cC,Q:bC,s:xC,S:gC,u:rC,U:iC,V:oC,w:nC,W:aC,x:function(t,e,r){return E(t,n,e,r)},X:function(t,e,n){return E(t,r,e,n)},y:uC,Y:sC,Z:lC,"%":wC};function _(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=YS[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function D(t,e){return function(n){var r,i,o=VS(1900,void 0,1);if(E(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=qS(VS(o.y,0,1))).getUTCDay(),r=i>4||0===i?SS.ceil(r):SS(r),r=mS.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=US(VS(o.y,0,1))).getDay(),r=i>4||0===i?wS.ceil(r):wS(r),r=pS.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?qS(VS(o.y,0,1)).getUTCDay():US(VS(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,qS(o)):US(o)}}function E(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in YS?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return w.x=_(n,w),w.X=_(r,w),w.c=_(e,w),b.x=_(n,b),b.X=_(r,b),b.c=_(e,b),{format:function(t){var e=_(t+="",w);return e.toString=function(){return t},e},parse:function(t){var e=D(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=_(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=D(t+="",!0);return e.toString=function(){return t},e}}}(t),HS=WS.format,WS.parse,ZS=WS.utcFormat,WS.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var xk=bk("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),_k=bk("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Dk=bk("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Ek=bk("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Ak=bk("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Mk=bk("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Sk=bk("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Ck=bk("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),kk=bk("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Fk=bk("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Nk=t=>Ab(t[t.length-1]),Tk=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(bk),Bk=Nk(Tk),Ok=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(bk),zk=Nk(Ok),Ik=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(bk),Rk=Nk(Ik),Pk=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(bk),$k=Nk(Pk),jk=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(bk),Lk=Nk(jk),Uk=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(bk),qk=Nk(Uk),Vk=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(bk),Wk=Nk(Vk),Hk=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(bk),Zk=Nk(Hk),Yk=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(bk),Xk=Nk(Yk),Kk=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(bk),Jk=Nk(Kk),Gk=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(bk),Qk=Nk(Gk),tF=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(bk),eF=Nk(tF),nF=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(bk),rF=Nk(nF),iF=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(bk),oF=Nk(iF),aF=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(bk),sF=Nk(aF),uF=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(bk),lF=Nk(uF),cF=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(bk),fF=Nk(cF),hF=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(bk),dF=Nk(hF),pF=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(bk),mF=Nk(pF),gF=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(bk),yF=Nk(gF),vF=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(bk),wF=Nk(vF),bF=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(bk),xF=Nk(bF),_F=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(bk),DF=Nk(_F),EF=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(bk),AF=Nk(EF),MF=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(bk),SF=Nk(MF),CF=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(bk),kF=Nk(CF),FF=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(bk),NF=Nk(FF);function TF(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}var BF=Hb(gb(300,.5,0),gb(-240,.5,1)),OF=Hb(gb(-100,.75,.35),gb(80,1.5,.8)),zF=Hb(gb(260,.75,.35),gb(80,1.5,.8)),IF=gb();function RF(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return IF.h=360*t-100,IF.s=1.5-1.5*e,IF.l=.8-.9*e,IF+""}var PF=kw(),$F=Math.PI/3,jF=2*Math.PI/3;function LF(t){var e;return t=(.5-t)*Math.PI,PF.r=255*(e=Math.sin(t))*e,PF.g=255*(e=Math.sin(t+$F))*e,PF.b=255*(e=Math.sin(t+jF))*e,PF+""}function UF(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function qF(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var VF=qF(bk("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),WF=qF(bk("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),HF=qF(bk("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ZF=qF(bk("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function YF(t){return function(){return t}}const XF=Math.cos,KF=Math.min,JF=Math.sin,GF=Math.sqrt,QF=Math.PI,tN=2*QF;function eN(t){this._context=t}function nN(t){return new eN(t)}function rN(t){return t[0]}function iN(t){return t[1]}function oN(t,e){var n=YF(!0),r=null,i=nN,o=null,a=function(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return t},()=>new n_(e)}(s);function s(s){var u,l,c,f=(s=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(s)).length,h=!1;for(null==r&&(o=i(c=a())),u=0;u<=f;++u)!(u<f&&n(l=s[u],u,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(l,u,s),+e(l,u,s));if(c)return o=null,c+""||null}return t="function"==typeof t?t:void 0===t?rN:YF(t),e="function"==typeof e?e:void 0===e?iN:YF(e),s.x=function(e){return arguments.length?(t="function"==typeof e?e:YF(+e),s):t},s.y=function(t){return arguments.length?(e="function"==typeof t?t:YF(+t),s):e},s.defined=function(t){return arguments.length?(n="function"==typeof t?t:YF(!!t),s):n},s.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),s):i},s.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),s):r},s}eN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};class aN{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e)}this._x0=t,this._y0=e}}const sN=GF(3);var uN={draw(t,e){const n=.59436*GF(e+KF(e/28,.75)),r=n/2,i=r*sN;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},lN={draw(t,e){const n=GF(e/QF);t.moveTo(n,0),t.arc(0,0,n,0,tN)}},cN={draw(t,e){const n=GF(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}};const fN=GF(1/3),hN=2*fN;var dN={draw(t,e){const n=GF(e/hN),r=n*fN;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},pN={draw(t,e){const n=.62625*GF(e);t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},mN={draw(t,e){const n=.87559*GF(e-KF(e/7,2));t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},gN={draw(t,e){const n=GF(e),r=-n/2;t.rect(r,r,n,n)}},yN={draw(t,e){const n=.4431*GF(e);t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}};const vN=JF(QF/10)/JF(7*QF/10),wN=JF(tN/10)*vN,bN=-XF(tN/10)*vN;var xN={draw(t,e){const n=GF(.8908130915292852*e),r=wN*n,i=bN*n;t.moveTo(0,-n),t.lineTo(r,i);for(let e=1;e<5;++e){const o=tN*e/5,a=XF(o),s=JF(o);t.lineTo(s*n,-a*n),t.lineTo(a*r-s*i,s*r+a*i)}t.closePath()}};const _N=GF(3);var DN={draw(t,e){const n=-GF(e/(3*_N));t.moveTo(0,2*n),t.lineTo(-_N*n,-n),t.lineTo(_N*n,-n),t.closePath()}};const EN=GF(3);var AN={draw(t,e){const n=.6824*GF(e),r=n/2,i=n*EN/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}};const MN=-.5,SN=GF(3)/2,CN=1/GF(12),kN=3*(CN/2+1);var FN={draw(t,e){const n=GF(e/kN),r=n/2,i=n*CN,o=r,a=n*CN+n,s=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(MN*r-SN*i,SN*r+MN*i),t.lineTo(MN*o-SN*a,SN*o+MN*a),t.lineTo(MN*s-SN*u,SN*s+MN*u),t.lineTo(MN*r+SN*i,MN*i-SN*r),t.lineTo(MN*o+SN*a,MN*a-SN*o),t.lineTo(MN*s+SN*u,MN*u-SN*s),t.closePath()}},NN={draw(t,e){const n=.6189*GF(e-KF(e/6,1.7));t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}};const TN=[lN,cN,dN,gN,xN,DN,FN],BN=[lN,mN,NN,AN,uN,yN,pN];function ON(){}function zN(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function IN(t){this._context=t}function RN(t){this._context=t}function PN(t){this._context=t}function $N(t,e){this._basis=new IN(t),this._beta=e}IN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zN(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zN(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},RN.prototype={areaStart:ON,areaEnd:ON,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:zN(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},PN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zN(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},$N.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var jN=function t(e){function n(t){return 1===e?new IN(t):new $N(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function LN(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function UN(t,e){this._context=t,this._k=(1-e)/6}UN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:LN(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:LN(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var qN=function t(e){function n(t){return new UN(t,e)}return n.tension=function(e){return t(+e)},n}(0);function VN(t,e){this._context=t,this._k=(1-e)/6}VN.prototype={areaStart:ON,areaEnd:ON,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:LN(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var WN=function t(e){function n(t){return new VN(t,e)}return n.tension=function(e){return t(+e)},n}(0);function HN(t,e){this._context=t,this._k=(1-e)/6}HN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:LN(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ZN=function t(e){function n(t){return new HN(t,e)}return n.tension=function(e){return t(+e)},n}(0);function YN(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>1e-12){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>1e-12){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*l+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function XN(t,e){this._context=t,this._alpha=e}XN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:YN(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var KN=function t(e){function n(t){return e?new XN(t,e):new UN(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function JN(t,e){this._context=t,this._alpha=e}JN.prototype={areaStart:ON,areaEnd:ON,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:YN(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var GN=function t(e){function n(t){return e?new JN(t,e):new VN(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function QN(t,e){this._context=t,this._alpha=e}QN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:YN(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var tT=function t(e){function n(t){return e?new QN(t,e):new HN(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function eT(t){this._context=t}function nT(t){return t<0?-1:1}function rT(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(nT(o)+nT(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function iT(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function oT(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function aT(t){this._context=t}function sT(t){this._context=new uT(t)}function uT(t){this._context=t}function lT(t){this._context=t}function cT(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function fT(t,e){this._context=t,this._t=e}function hT(t,e,n){this.k=t,this.x=e,this.y=n}function dT(t,e){t.addResponder({update(n){null!=t.focused||t.selected.size>0?e.style("cursor","pointer"):e.style("cursor","default")}}),e.on("click",(e=>{null!=t.focused?t.selected.has(t.focused)?t.removeSelected(t.focused):t.addSelected(t.focused):t.clearSelected()}))}function pT(t,e,n,r=null){const i=z_.from(e,(t=>t.x),(t=>t.y)),o=r**2,a=n.node();n.on("mousemove",((n,s)=>{const u=new DOMPointReadOnly(n.clientX,n.clientY).matrixTransform(a.getScreenCTM().inverse()),l=[u.x,u.y],c=i.find(l[0],l[1]),f=e[c].id,h=e[c];let d=f;if(null!=r){(l[0]-h.x)**2+(l[1]-h.y)**2>o&&(d=null)}t.setFocused(d,e[c].element)})).on("mouseleave",((e,n)=>{t.setFocused(null,e.target)}))}function mT(t,e,n,r,i=null){i=null!=i?"."+i:"",n.on(`mouseover${i}`,((n,r)=>t.setFocused(e(r),n.target))),r&&r.on(`mouseleave${i}`,((e,n)=>t.setFocused(null,e.target)))}function gT(t,e,n,r,i,o){t.attr(r,(t=>{const r=n(t);return r==e.focused||null==e.focused&&0==e.selected.size||e.selected.has(r)?o(t):i}))}function yT(t,e,n,r,i,o,a="lightgrey",s=null,u="fill"){const l=i.selectAll("path").data(t);null==s&&(s=t=>{const e=[];for(const[n,r]of Object.entries(t.properties))e.push(`<b>${n}:</b> ${r}`);return e.join("<br>")});const c=vT(o);l.on("mouseover.tooltip",((t,e)=>{const n=t.target.getBBox(),r=[n.x+n.width/2,n.y+n.height/2];c.show(s(e),r[0],r[1])})),i.on("mouseleave.tooltip",(()=>c.hide())),r.addResponder({update(t){gT(l,r,e,u,a,n)}}),mT(r,e,l,i),dT(r,o)}function vT(t,e=null){const n=[10,10];t.append("style").text("\n    .svg-tooltip {\n      background-color: rgba(255, 255, 255, 0.7);\n      position: absolute;\n      transform: translate(178px, 410.19px);\n      border-style: solid;\n      border-color: black;\n      border-width: 1px;\n      border-radius: 2px;\n      font-family: sans-serif;\n      font-size: 12px;\n      padding: 8px;\n      visibility: hidden;\n      max-width: 150px;\n  }");const r=t.append("foreignObject").attr("width","100%").attr("height","100%").attr("pointer-events","none").append("xhtml:div").attr("class","svg-tooltip");function i(e,i,o){let a=i+n[0],s=o+n[1];r.html(e),r.style("visibility","visible");const u=t.node().getBBox(),l=r.node().getBoundingClientRect();a>u.width-l.width&&(a=i-l.width-n[0]),s>u.height-l.height&&(s=o-l.height-n[1]),r.style("transform",`translate(${a}px,${s}px)`)}function o(){r.style("visibility","hidden")}return null!=e&&e.on("mouseover",(t=>{const e=aw(t.target).select("title").text(),n=t.target.getBBox(),r=[n.x+n.width/2,n.y+n.height/2];i(e,r[0],r[1])})).on("mouseleave",(()=>o())),{show:i,hide:o}}eT.prototype={areaStart:ON,areaEnd:ON,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},aT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:oT(this,this._t0,iT(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,oT(this,iT(this,n=rT(this,t,e)),n);break;default:oT(this,this._t0,n=rT(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(sT.prototype=Object.create(aT.prototype)).point=function(t,e){aT.prototype.point.call(this,e,t)},uT.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},lT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=cT(t),i=cT(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},fT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}},hT.prototype={constructor:hT,scale:function(t){return 1===t?this:new hT(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new hT(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},hT.prototype;class wT{constructor(){this.focused=null,this.selected=new Set,this.focusedOld=null,this.selectedOld=new Set,this.responders=[]}addResponder(t){this.responders.push(t)}setFocused(t,e=null){if(t!=this.focused){this.focused=t;for(const t of this.responders)t.update(e)}}addSelected(t,e=null){if(!this.selected.has(t)){this.selected.add(t);for(const t of this.responders)t.update(e)}}removeSelected(t,e=null){if(this.selected.has(t)){this.selected.delete(t);for(const t of this.responders)t.update(e)}}clearSelected(t=null){this.selected.clear();for(const e of this.responders)e.update(t)}}function bT(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}function xT(t,e,n){if(1==n)return[255,255,255];if(0==n)return[0,0,0];let r,i,o,a,s,u=Math.cos(2*Math.PI*t),l=Math.sin(2*Math.PI*t),c=function(t){return(t*t+.206*t)/(1.170873786407767*(t+.03))}(n),f=function(t,e,n){let r,i,o=DT(e,n),a=function(t,e,n,r,i,o=null){let a;if(o||(o=DT(t,e)),(n-i)*o[1]-(o[0]-i)*r<=0)a=o[1]*i/(r*o[0]+o[1]*(i-n));else{a=o[1]*(i-1)/(r*(o[0]-1)+o[1]*(i-n));{let o=n-i,s=.3963377774*t+.2158037573*e,u=-.1055613458*t-.0638541728*e,l=-.0894841775*t-1.291485548*e,c=o+r*s,f=o+r*u,h=o+r*l;{let t=i*(1-a)+a*n,e=a*r,o=t+e*s,d=t+e*u,p=t+e*l,m=o*o*o,g=d*d*d,y=p*p*p,v=3*c*o*o,w=3*f*d*d,b=3*h*p*p,x=6*c*c*o,_=6*f*f*d,D=6*h*h*p,E=4.0767416621*m-3.3077115913*g+.2309699292*y-1,A=4.0767416621*v-3.3077115913*w+.2309699292*b,M=A/(A*A-.5*E*(4.0767416621*x-3.3077115913*_+.2309699292*D)),S=-E*M,C=-1.2684380046*m+2.6097574011*g-.3413193965*y-1,k=-1.2684380046*v+2.6097574011*w-.3413193965*b,F=k/(k*k-.5*C*(-1.2684380046*x+2.6097574011*_-.3413193965*D)),N=-C*F,T=-.0041960863*m-.7034186147*g+1.707614701*y-1,B=-.0041960863*v-.7034186147*w+1.707614701*b,O=B/(B*B-.5*T*(-.0041960863*x-.7034186147*_+1.707614701*D)),z=-T*O;S=M>=0?S:1e6,N=F>=0?N:1e6,z=O>=0?z:1e6,a+=Math.min(S,Math.min(N,z))}}}return a}(e,n,t,1,t,o),s=function(t,e,n=null){n||(n=DT(t,e));let r=n[0],i=n[1];return[i/r,i/(1-r)]}(e,n,o),u=.11516993+1/(7.4477897+4.1590124*n+e*(1.75198401*n-2.19557347+e*(-2.13704948-10.02301043*n+e*(5.38770819*n-4.24894561+4.69891013*e)))),l=.11239642+1/(1.6132032-.68124379*n+e*(.40370612+.90148123*n+e*(.6122399*n-.27087943+e*(.00299215-.45399568*n-.14661872*e))));{let e=t*u,n=(1-t)*l;r=.9*(a/Math.min(t*s[0],(1-t)*s[1]))*Math.sqrt(Math.sqrt(1/(1/(e*e*e*e)+1/(n*n*n*n))))}{let e=.4*t,n=.8*(1-t);i=Math.sqrt(1/(1/(e*e)+1/(n*n)))}return[i,r,a]}(c,u,l),h=f[0],d=f[1],p=f[2];e<.8?(i=1.25*e,o=0,a=.8*h,s=1-a/d):(i=5*(e-.8),o=d,a=.2*d*d*1.25*1.25/h,s=1-a/(p-d)),r=o+i*a/(1-s*i);let m=_T(c,r*u,r*l);return[255*ET(m[0]),255*ET(m[1]),255*ET(m[2])]}function _T(t,e,n){let r=t+.3963377774*e+.2158037573*n,i=t-.1055613458*e-.0638541728*n,o=t-.0894841775*e-1.291485548*n,a=r*r*r,s=i*i*i,u=o*o*o;return[4.0767416621*a-3.3077115913*s+.2309699292*u,-1.2684380046*a+2.6097574011*s-.3413193965*u,-.0041960863*a-.7034186147*s+1.707614701*u]}function DT(t,e){let n=function(t,e){let n,r,i,o,a,s,u,l;-1.88170328*t-.80936493*e>1?(n=1.19086277,r=1.76576728,i=.59662641,o=.75515197,a=.56771245,s=4.0767416621,u=-3.3077115913,l=.2309699292):1.81444104*t-1.19445276*e>1?(n=.73956515,r=-.45954404,i=.08285427,o=.1254107,a=.14503204,s=-1.2684380046,u=2.6097574011,l=-.3413193965):(n=1.35733652,r=-.00915799,i=-1.1513021,o=-.50559606,a=.00692167,s=-.0041960863,u=-.7034186147,l=1.707614701);let c=n+r*t+i*e+o*t*t+a*t*e,f=.3963377774*t+.2158037573*e,h=-.1055613458*t-.0638541728*e,d=-.0894841775*t-1.291485548*e;{let t=1+c*f,e=1+c*h,n=1+c*d,r=s*(t*t*t)+u*(e*e*e)+l*(n*n*n),i=s*(3*f*t*t)+u*(3*h*e*e)+l*(3*d*n*n);c-=r*i/(i*i-.5*r*(s*(6*f*f*t)+u*(6*h*h*e)+l*(6*d*d*n)))}return c}(t,e),r=_T(1,n*t,n*e),i=Math.cbrt(1/Math.max(Math.max(r[0],r[1]),r[2]));return[i,i*n]}function ET(t){return.0031308>=t?12.92*t:1.055*Math.pow(t,.4166666666666667)-.055}function AT(t,e=.5,n="okhsl"){const r=bT(t,(t=>t[0])),i=bT(t,(t=>t[1])),o=[(r[0]+r[1])/2,(i[0]+i[1])/2],a=function(t,e){let n;for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);return n}(t.map((t=>ST(t,o)))),s=MT([0,a]),u=MT([0,2*Math.PI]),l=MT([0,a],Array.isArray(e)?e:[e,e]);if("okhsl"==n){let t=xT;return function(e){const n=Math.atan2(e[0]-o[0],e[1]-o[1]),r=ST(e,o);return`rgb(${t(u(n),s(r),l(s(r))).map(Math.round).join(",")})`}}throw Error("Invalid color space ",n)}function MT(t,e=[0,1]){const n=t[1]-t[0],r=e[1]-e[0];return function(i){return r*((i-t[0])/n)+e[0]}}function ST(t,e){let n=0;for(let r=0;r<t.length;r++)n+=(t[r]-e[r])**2;return Math.sqrt(n)}function CT(t){return null!=t&&!Number.isNaN(t)}function kT(t,e){return+CT(e)-+CT(t)||Cg(t,e)}function FT(t,e){return+CT(e)-+CT(t)||kg(t,e)}function NT(t){return null!=t&&""!=`${t}`}function TT(t){return isFinite(t)?t:NaN}function BT(t){return t>0&&isFinite(t)?t:NaN}function OT(t){return t<0&&isFinite(t)?t:NaN}function zT(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return"function"==typeof e?e(t):e;const n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return`${a=t.getUTCFullYear(),a<0?`-${IT(-a,6)}`:a>9999?`+${IT(a,6)}`:IT(a,4)}-${IT(t.getUTCMonth()+1,2)}-${IT(t.getUTCDate(),2)}${n||r||i||o?`T${IT(n,2)}:${IT(r,2)}${i||o?`:${IT(i,2)}${o?`.${IT(o,3)}`:""}`:""}Z`:""}`;var a}function IT(t,e){return`${t}`.padStart(e,"0")}const RT=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function PT(t,e){return RT.test(t+="")?new Date(t):"function"==typeof e?e(t):e}const $T=1e3,jT=6e4,LT=36e5,UT=864e5,qT=2592e6,VT=[["millisecond",500],["second",$T],["second",3e4],["minute",jT],["minute",18e5],["hour",LT],["hour",432e5],["day",UT],["day",1728e5],["week",6048e5],["month",qT],["month",7776e6],["year",31536e6]],WT=new Map([["second",lS],["minute",cS],["hour",hS],["day",pS],["week",vS],["month",BS],["year",zS],["monday",wS],["tuesday",bS],["wednesday",xS],["thursday",_S],["friday",DS],["saturday",ES],["sunday",vS]]),HT=new Map([["second",lS],["minute",fS],["hour",dS],["day",gS],["week",MS],["month",OS],["year",IS],["monday",SS],["tuesday",CS],["wednesday",kS],["thursday",FS],["friday",NS],["saturday",TS],["sunday",MS]]);function ZT(t,e){let n=`${t}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let r=1;const i=/^(?:(\d+)\s+)/.exec(n);switch(i&&(n=n.slice(i[0].length),r=+i[1]),n){case"quarter":n="month",r*=3;break;case"half":n="month",r*=6}let o=e.get(n);if(!o)throw new Error(`unknown interval: ${t}`);if(!(r>1))return o;if(!o.every)throw new Error(`non-periodic interval: ${n}`);return o.every(r)}function YT(t){return ZT(t,WT)}function XT(t){return ZT(t,HT)}function KT(t,e,n,r){const i="time"===t.type?HS:ZS,o="left"===r||"right"===r?(t,e)=>`\n${t}\n${e}`:"top"===r?(t,e)=>`${e}\n${t}`:(t,e)=>`${t}\n${e}`;switch(function(t,e,n){const r=_y(function(t,e=Ay){const n=[];let r,i=!1;for(const o of t)i&&n.push(e(r,o)),r=o,i=!0;return n}(e,((t,e)=>Math.abs(e-t)||NaN)));if(r>0)return VT[Fg((([,t])=>t)).right(VT,r,1,VT.length)-1][0];const[i,o]=Lg(t.domain()),a="number"==typeof n?n:10,s=Math.abs(o-i)/a;return VT[Fg((([,t])=>Math.log(t))).center(VT,Math.log(s))][0]}(t,e,n)){case"millisecond":return JT(i(".%L"),i(":%M:%S"),o);case"second":return JT(i(":%S"),i("%-I:%M"),o);case"minute":return JT(i("%-I:%M"),i("%p"),o);case"hour":return JT(i("%-I %p"),i("%b %-d"),o);case"day":case"week":return JT(i("%-d"),i("%b"),o);case"month":return JT(i("%b"),i("%Y"),o);case"year":return i("%Y")}throw new Error("unable to format time ticks")}function JT(t,e,n){return(r,i,o)=>{const a=t(r,i),s=e(r,i),u=i-eO(o);return i!==u&&void 0!==o[u]&&s===e(o[u],u)?a:n(a,s)}}const GT=Object.getPrototypeOf(Uint8Array),QT=Object.prototype.toString;function tB(t,e,n){const r=typeof e;return"string"===r?eB(t,iB(e),n):"function"===r?eB(t,e,n):"number"===r||e instanceof Date||"boolean"===r?_B(t,hB(e),n):nB("function"==typeof e?.transform?e.transform(t):e,n)}function eB(t,e,n){return _B(t,n?.prototype instanceof GT?function(t){return(e,n)=>pB(t(e,n))}(e):e,n)}function nB(t,e){return void 0===e?xB(t):t instanceof e?t:e.prototype instanceof GT&&!(t instanceof GT)?e.from(t,pB):e.from(t)}const rB=[null],iB=t=>e=>e[t],oB={transform:FB},aB={transform:t=>t},sB=()=>!0,uB=t=>null==t?t:`${t}`,lB=t=>null==t?t:+t,cB=t=>t?t[0]:void 0,fB=t=>t?t[1]:void 0,hB=t=>()=>t;function dB(t){return t instanceof GT?t:_B(t,pB,Float64Array)}function pB(t){return null==t?NaN:Number(t)}function mB(t){return _B(t,gB)}function gB(t){return t instanceof Date&&!isNaN(t)?t:"string"==typeof t?PT(t):null==t||isNaN(t=+t)?void 0:new Date(t)}function yB(t,e){return void 0===t&&(t=e),null===t?[void 0,"none"]:XB(t)?[void 0,t]:[t,void 0]}function vB(t,e){return void 0===t&&(t=e),null===t||"number"==typeof t?[void 0,t]:[t,void 0]}function wB(t,e,n){if(null!=t)return bB(t,e,n)}function bB(t,e,n){const r=`${t}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${e}: ${t}`);return r}function xB(t){return null==t||t instanceof Array||t instanceof GT?t:Array.from(t)}function _B(t,e,n=Array){return null==t?t:t instanceof n?t.map(e):n.from(t,e)}function DB(t,e=Array){return t instanceof e?t.slice():e.from(t)}function EB(t){return t?.toString===QT}function AB(t){return EB(t)&&(void 0!==t.type||void 0!==t.domain)}function MB(t){return EB(t)&&"function"!=typeof t.transform}function SB(t){return MB(t)&&void 0===t.value&&void 0===t.channel}function CB(t,e){return void 0===t&&void 0===e?[cB,fB]:[t,e]}function kB({z:t,fill:e,stroke:n}={}){return void 0===t&&([t]=yB(e)),void 0===t&&([t]=yB(n)),t}function FB(t){const e=t.length,n=new Uint32Array(e);for(let t=0;t<e;++t)n[t]=t;return n}function NB(t,e){return _B(e,(e=>t[e]))}function TB(t,e,n){return t.subarray?t.subarray(e,n):t.slice(e,n)}function BB(t){return null!==t&&"object"==typeof t?t.valueOf():t}function OB(t){let e;return[{transform:()=>e,label:IB(t)},t=>e=t]}function zB(t){return null==t?[t]:OB(t)}function IB(t,e){return"string"==typeof t?t:t&&void 0!==t.label?t.label:e}function RB(t,e){return{transform(n){const r=t.transform(n),i=e.transform(n);return WB(r)||WB(i)?_B(r,((t,e)=>new Date((+r[e]+ +i[e])/2))):_B(r,((t,e)=>(+r[e]+ +i[e])/2),Float64Array)},label:t.label}}function PB(t,e){const n=$B(t,e);return n&&(t=>CT(t)?n.floor(t):t)}function $B(t,e){if(null!=t){if("number"==typeof t){0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const e=Math.abs(t);return t<0?{floor:t=>Math.floor(t*e)/e,offset:t=>(t*e+1)/e,range:(t,n)=>My(Math.ceil(t*e),n*e).map((t=>t/e))}:{floor:t=>Math.floor(t/e)*e,offset:t=>t+e,range:(t,n)=>My(Math.ceil(t/e),n/e).map((t=>t*e))}}if("string"==typeof t)return("time"===e?YT:XT)(t);if("function"!=typeof t.floor)throw new Error("invalid interval; missing floor method");if("function"!=typeof t.offset)throw new Error("invalid interval; missing offset method");return t}}function jB(t,e){if((t=$B(t,e))&&"function"!=typeof t.range)throw new Error("invalid interval: missing range method");return t}function LB(t){return void 0===t||MB(t)?t:{value:t}}function UB(t){return t&&"function"==typeof t[Symbol.iterator]}function qB(t){for(const e of t)if(null!=e)return"object"!=typeof e||e instanceof Date}function VB(t){for(const e of t){if(null==e)continue;const t=typeof e;return"string"===t||"boolean"===t}}function WB(t){for(const e of t)if(null!=e)return e instanceof Date}function HB(t){for(const e of t)if(null!=e)return"string"==typeof e&&isNaN(e)&&PT(e)}function ZB(t){for(const e of t)if(null!=e){if("string"!=typeof e)return!1;if(e.trim())return!isNaN(e)}}function YB(t,e){let n;for(const r of t)if(null!=r){if(!e(r))return!1;n=!0}return n}function XB(t){return"string"==typeof t&&("none"===(t=t.toLowerCase().trim())||"currentcolor"===t||t.startsWith("url(")&&t.endsWith(")")||t.startsWith("var(")&&t.endsWith(")")||null!==Aw(t))}function KB(t){return"number"==typeof t&&(0<=t&&t<=1||isNaN(t))}function JB(t){return null==t||GB(t)}function GB(t){return/^\s*none\s*$/i.test(t)}function QB(t,e){return wB(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function tO(t="middle"){return QB(t,"frameAnchor")}function eO(t){if(null==t)return;return kg(t[0],t[t.length-1])}function nO(t){return UB(t)?function(t){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(t,(t=>{const{name:n}=t;if(null==n)throw new Error("missing name");const r=`${n}`;if("__proto__"===r)throw new Error(`illegal name: ${r}`);if(e.has(r))throw new Error(`duplicate name: ${r}`);return e.add(r),[n,t]})))}(t):t}const rO=Symbol("position"),iO=Symbol("color"),oO=Symbol("radius"),aO=Symbol("length"),sO=Symbol("opacity"),uO=Symbol("symbol"),lO=Symbol("projection"),cO=new Map([["x",rO],["y",rO],["fx",rO],["fy",rO],["r",oO],["color",iO],["opacity",sO],["symbol",uO],["length",aO],["projection",lO]]);const fO=2/Math.sqrt(3),hO=new Map([["asterisk",uN],["circle",lN],["cross",cN],["diamond",dN],["diamond2",pN],["hexagon",{draw(t,e){const n=Math.sqrt(e/Math.PI),r=n*fO,i=r/2;t.moveTo(0,r),t.lineTo(n,i),t.lineTo(n,-i),t.lineTo(0,-r),t.lineTo(-n,-i),t.lineTo(-n,i),t.closePath()}}],["plus",mN],["square",gN],["square2",yN],["star",xN],["times",NN],["triangle",DN],["triangle2",AN],["wye",FN]]);function dO(t){return t&&"function"==typeof t.draw}function pO(t){return!!dO(t)||"string"==typeof t&&hO.has(t.toLowerCase())}function mO(t){if(null==t||dO(t))return t;const e=hO.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function gO({filter:t,sort:e,reverse:n,transform:r,initializer:i,...o}={},a){if(void 0===r&&(null!=t&&(r=xO(t)),null==e||SB(e)||(r=vO(r,DO(e))),n&&(r=vO(r,_O))),null!=a&&null!=i)throw new Error("transforms cannot be applied after initializers");return{...o,...(null===e||SB(e))&&{sort:e},transform:vO(r,a)}}function yO({filter:t,sort:e,reverse:n,initializer:r,...i}={},o){return void 0===r&&(null!=t&&(r=xO(t)),null==e||SB(e)||(r=wO(r,DO(e))),n&&(r=wO(r,_O))),{...i,...(null===e||SB(e))&&{sort:e},initializer:wO(r,o)}}function vO(t,e){return null==t?null===e?void 0:e:null==e?null===t?void 0:t:function(n,r,i){return({data:n,facets:r}=t.call(this,n,r,i)),e.call(this,xB(n),r,i)}}function wO(t,e){return null==t?null===e?void 0:e:null==e?null===t?void 0:t:function(n,r,i,...o){let a,s,u,l,c,f;return({data:s=n,facets:u=r,channels:a}=t.call(this,n,r,i,...o)),({data:c=s,facets:f=u,channels:l}=e.call(this,s,u,{...i,...a},...o)),{data:c,facets:f,channels:{...a,...l}}}}function bO(t,e){return(null!=t.initializer?yO:gO)(t,e)}function xO(t){return(e,n)=>{const r=tB(e,t);return{data:e,facets:n.map((t=>t.filter((t=>r[t]))))}}}function _O(t,e){return{data:t,facets:e.map((t=>t.slice().reverse()))}}function DO(t){return("function"==typeof t&&1!==t.length?EO:AO)(t)}function EO(t){return(e,n)=>{const r=(n,r)=>t(e[n],e[r]);return{data:e,facets:n.map((t=>t.slice().sort(r)))}}}function AO(t){let e,n;({channel:e,value:t,order:n}={...LB(t)});const r=e?.startsWith("-");if(r&&(e=e.slice(1)),void 0===n&&(n=r?FT:kT),"function"!=typeof n)switch(`${n}`.toLowerCase()){case"ascending":n=kT;break;case"descending":n=FT;break;default:throw new Error(`invalid order: ${n}`)}return(r,i,o)=>{let a;if(void 0===e)a=tB(r,t);else{if(void 0===o)throw new Error("channel sort requires an initializer");if(a=o[e],!a)return{};a=a.value}const s=(t,e)=>n(a[t],a[e]);return{data:r,facets:i.map((t=>t.slice().sort(s)))}}}function MO(t,...e){for(const{name:n}of t)if(e.includes(n))return!0;return!1}function SO(t,e,n,r=CO){let i;EB(e)&&"reduce"in e&&(i=e.scale,e=e.reduce);const o=r(t,e,n),[a,s]=OB(o.label);let u;return{name:t,output:void 0===i?a:{value:a,scale:i},initialize(t){o.initialize(t),u=s([])},scope(t,e){o.scope(t,e)},reduce(t,e){u.push(o.reduce(t,e))}}}function CO(t,e,n,r=FO){const i=function(t,e){if(void 0!==e[t])return e[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y"}return e[t]}(t,n),o=r(e,i);let a,s;return{label:IB(o===PO?null:i,o.label),initialize(t){a=void 0===i?t:tB(t,i),"data"===o.scope&&(s=o.reduceIndex(FB(t),a))},scope(t,e){o.scope===t&&(s=o.reduceIndex(e,a))},reduce:(t,e)=>null==o.scope?o.reduceIndex(t,a,e):o.reduceIndex(t,a,s,e)}}function kO(t,e){return e?ty(Kg(t,(t=>e[t])),cB):[[,t]]}function FO(t,e,n=NO){if(null==t)return n(t);if("function"==typeof t.reduceIndex)return t;if("function"==typeof t.reduce&&EB(t))return function(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}(t);if("function"==typeof t)return function(t){return{reduceIndex:(e,n,r)=>t(NB(n,e),r)}}(t);if(/^p\d{2}$/i.test(t))return TO(function(t){const e=+`${t}`.slice(1)/100;return(t,n)=>yy(t,e,n)}(t));switch(`${t}`.toLowerCase()){case"first":return zO;case"last":return RO;case"identity":return OO;case"count":return PO;case"distinct":return $O;case"sum":return null==e?PO:jO;case"proportion":return LO(e,"data");case"proportion-facet":return LO(e,"facet");case"deviation":return TO(jg);case"min":return TO(dy);case"min-index":return TO(py);case"max":return TO(fy);case"max-index":return TO(hy);case"mean":return BO(xy);case"median":return BO(_y);case"variance":return TO($g);case"mode":return TO(Ey)}return n(t)}function NO(t){throw new Error(`invalid reduce: ${t}`)}function TO(t){return{reduceIndex:(e,n)=>t(e,(t=>n[t]))}}function BO(t){return{reduceIndex(e,n){const r=t(e,(t=>n[t]));return WB(n)?new Date(r):r}}}const OO={reduceIndex:(t,e)=>NB(e,t)},zO={reduceIndex:(t,e)=>e[t[0]]},IO={reduceIndex(t,e){const n=ty(Jg(t,(t=>t.length),(t=>e[t])),fB),r=n.slice(-5).reverse();if(r.length<n.length){const t=n.slice(0,-4);r[4]=[`… ${t.length.toLocaleString("en-US")} more`,Sy(t,fB)]}return r.map((([t,e])=>`${t} (${e.toLocaleString("en-US")})`)).join("\n")}},RO={reduceIndex:(t,e)=>e[t[t.length-1]]},PO={label:"Frequency",reduceIndex:t=>t.length},$O={label:"Distinct",reduceIndex(t,e){const n=new Vg;for(const r of t)n.add(e[r]);return n.size}},jO=TO(Sy);function LO(t,e){return null==t?{scope:e,label:"Frequency",reduceIndex:(t,e,n=1)=>t.length/n}:{scope:e,reduceIndex:(t,e,n=1)=>Sy(t,(t=>e[t]))/n}}function UO(t,{scale:e,type:n,value:r,filter:i,hint:o},a){return void 0===o&&"function"==typeof r?.transform&&(o=r.hint),qO(a,{scale:e,type:n,value:tB(t,r),label:IB(r),filter:i,hint:o})}function qO(t,e){const{scale:n,value:r}=e;if(!0===n||"auto"===n)switch(t){case"fill":case"stroke":case"color":e.scale=!0!==n&&YB(r,XB)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=!0!==n&&YB(r,KB)?null:"opacity";break;case"symbol":!0!==n&&YB(r,pO)?(e.scale=null,e.value=_B(r,mO)):e.scale="symbol";break;default:e.scale=cO.has(t)?t:null}else if(!1===n)e.scale=null;else if(null!=n&&!cO.has(n))throw new Error(`unknown scale: ${n}`);return e}function VO(t,e){for(const n in t){const r=t[n];if(r.scale===e)return r}}function WO(t,e){const n=t.original;if(n===t)return e;const r=e.value,i=e.value=[];for(let e=0;e<n.length;++e){const o=r[n[e][0]];for(const n of t[e])i[n]=o}return e}function HO(t,e,n){const r=ZO(t,e);return _B(ZO(t,n),((t,e)=>Math.abs(t-r[e])),Float64Array)}function ZO(t,e,n){let r=t[e];if(r||void 0===n||(r=t[n]),r)return r.value;throw new Error(`missing channel: ${e}`)}function YO(t){if(null==t||"function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"ascending":return XO;case"descending":return KO}throw new Error(`invalid order: ${t}`)}function XO([t,e],[n,r]){return kT(e,r)||kT(t,n)}function KO([t,e],[n,r]){return FT(e,r)||kT(t,n)}function JO(t,e){let n=t[e];if(n){for(;n.source;)n=n.source;return null===n.source?null:n}}const GO=function(t){let e,n;return(...r)=>((n?.length!==r.length||n.some(((t,e)=>t!==r[e])))&&(n=r,e=t(...r)),e)}((t=>new Intl.NumberFormat(t)));function QO(t){return zT(t,"Invalid Date")}const tz=function(t="en-US"){const e=function(t="en-US"){const e=GO(t);return t=>null==t||isNaN(t)?void 0:e.format(t)}(t);return t=>(t instanceof Date?QO:"number"==typeof t?e:uB)(t)}();let ez=0;function nz(t){console.warn(t),++ez}const rz=("undefined"!=typeof window?window.devicePixelRatio>1:"undefined"==typeof it)?0:.5;let iz=0;function oz(){return"plot-clip-"+ ++iz}function az(t,{title:e,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:s,fillOpacity:u,stroke:l,strokeWidth:c,strokeOpacity:f,strokeLinejoin:h,strokeLinecap:d,strokeMiterlimit:p,strokeDasharray:m,strokeDashoffset:g,opacity:y,mixBlendMode:v,imageFilter:w,paintOrder:b,pointerEvents:x,shapeRendering:_,channels:D},{ariaLabel:E,fill:A="currentColor",fillOpacity:M,stroke:S="none",strokeOpacity:C,strokeWidth:k,strokeLinecap:F,strokeLinejoin:N,strokeMiterlimit:T,paintOrder:B}){null===A&&(s=null,u=null),null===S&&(l=null,f=null),JB(A)?JB(S)||JB(s)&&!D?.fill||(S="none"):!JB(S)||JB(l)&&!D?.stroke||(A="none");const[O,z]=yB(s,A),[I,R]=vB(u,M),[P,$]=yB(l,S),[j,L]=vB(f,C),[U,q]=vB(y);GB($)||(void 0===c&&(c=k),void 0===d&&(d=F),void 0===h&&(h=N),void 0!==p||/^\s*round\s*$/i.test(h)||(p=T),GB(z)||void 0!==b||(b=B));const[V,W]=vB(c);return null!==A&&(t.fill=vz(z,"currentColor"),t.fillOpacity=wz(R,1)),null!==S&&(t.stroke=vz($,"none"),t.strokeWidth=wz(W,1),t.strokeOpacity=wz(L,1),t.strokeLinejoin=vz(h,"miter"),t.strokeLinecap=vz(d,"butt"),t.strokeMiterlimit=wz(p,4),t.strokeDasharray=vz(m,"none"),t.strokeDashoffset=vz(g,"0")),t.target=uB(a),t.ariaLabel=uB(E),t.ariaDescription=uB(i),t.ariaHidden=uB(o),t.opacity=wz(q,1),t.mixBlendMode=vz(v,"normal"),t.imageFilter=vz(w,"none"),t.paintOrder=vz(b,"normal"),t.pointerEvents=vz(x,"auto"),t.shapeRendering=vz(_,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:O,scale:"auto",optional:!0},fillOpacity:{value:I,scale:"auto",optional:!0},stroke:{value:P,scale:"auto",optional:!0},strokeOpacity:{value:j,scale:"auto",optional:!0},strokeWidth:{value:V,optional:!0},opacity:{value:U,scale:"auto",optional:!0}}}function sz(t,e){e&&t.text((t=>tz(e[t])))}function uz(t,e){e&&t.text((([t])=>tz(e[t])))}function lz(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:s,strokeOpacity:u,strokeWidth:l,opacity:c,href:f}){r&&gz(t,"aria-label",(t=>r[t])),o&&gz(t,"fill",(t=>o[t])),a&&gz(t,"fill-opacity",(t=>a[t])),s&&gz(t,"stroke",(t=>s[t])),u&&gz(t,"stroke-opacity",(t=>u[t])),l&&gz(t,"stroke-width",(t=>l[t])),c&&gz(t,"opacity",(t=>c[t])),f&&mz(t,(t=>f[t]),e),n||function(t,e){e&&t.filter((t=>NT(e[t]))).append("title").call(sz,e)}(t,i)}function cz(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:s,strokeOpacity:u,strokeWidth:l,opacity:c,href:f}){r&&gz(t,"aria-label",(([t])=>r[t])),o&&gz(t,"fill",(([t])=>o[t])),a&&gz(t,"fill-opacity",(([t])=>a[t])),s&&gz(t,"stroke",(([t])=>s[t])),u&&gz(t,"stroke-opacity",(([t])=>u[t])),l&&gz(t,"stroke-width",(([t])=>l[t])),c&&gz(t,"opacity",(([t])=>c[t])),f&&mz(t,(([t])=>f[t]),e),n||function(t,e){e&&t.filter((([t])=>NT(e[t]))).append("title").call(uz,e)}(t,i)}function*fz(t,e,n,r){const{z:i}=n,{z:o}=r,a=function({ariaLabel:t,title:e,fill:n,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:s,href:u},{tip:l}){return[t,l?void 0:e,n,r,i,o,a,s,u].filter((t=>void 0!==t))}(r,n),s=[...e,...a];for(const e of o?function(t,e,n){const r=Kg(t,(t=>e[t]));return void 0===n&&r.size>1+t.length>>1&&nz("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}(t,o,i):[t]){let t,n;t:for(const r of e){for(const t of s)if(!CT(t[r])){n&&n.push(-1);continue t}if(void 0!==t){n.push(r);for(let e=0;e<a.length;++e){if(BB(a[e][r])!==t[e]){yield n,t=a.map((t=>BB(t[r]))),n=[r];continue t}}}else n&&(yield n),t=a.map((t=>BB(t[r]))),n=[r]}n&&(yield n)}}function hz(t){return!0===t?t="frame":!1===t?t=null:null!=t&&(t=bB(t,"clip",["frame","sphere"])),t}function dz(t,e,n,r){!function(t,e,n,r){let i;const{clip:o=r.clip}=e;switch(o){case"frame":{const{width:e,height:o,marginLeft:a,marginRight:s,marginTop:u,marginBottom:l}=n,c=oz();i=`url(#${c})`,t=Az("svg:g",r).call((t=>t.append("svg:clipPath").attr("id",c).append("rect").attr("x",a).attr("y",u).attr("width",e-s-a).attr("height",o-u-l))).each((function(){this.appendChild(t.node()),t.node=()=>this}));break}case"sphere":{const{projection:e}=r;if(!e)throw new Error('the "sphere" clip option requires a projection');const n=oz();i=`url(#${n})`,t.append("clipPath").attr("id",n).append("path").attr("d",pA(e)({type:"Sphere"}));break}}gz(t,"aria-label",e.ariaLabel),gz(t,"aria-description",e.ariaDescription),gz(t,"aria-hidden",e.ariaHidden),gz(t,"clip-path",i)}(t,e,n,r),gz(t,"fill",e.fill),gz(t,"fill-opacity",e.fillOpacity),gz(t,"stroke",e.stroke),gz(t,"stroke-width",e.strokeWidth),gz(t,"stroke-opacity",e.strokeOpacity),gz(t,"stroke-linejoin",e.strokeLinejoin),gz(t,"stroke-linecap",e.strokeLinecap),gz(t,"stroke-miterlimit",e.strokeMiterlimit),gz(t,"stroke-dasharray",e.strokeDasharray),gz(t,"stroke-dashoffset",e.strokeDashoffset),gz(t,"shape-rendering",e.shapeRendering),gz(t,"filter",e.imageFilter),gz(t,"paint-order",e.paintOrder);const{pointerEvents:i=(!1===r.pointerSticky?"none":void 0)}=e;gz(t,"pointer-events",i)}function pz(t,e){!function(t,e,n){null!=n&&t.style(e,n)}(t,"mix-blend-mode",e.mixBlendMode),gz(t,"opacity",e.opacity)}function mz(t,e,n){t.each((function(t){const r=e(t);if(null!=r){const t=this.ownerDocument.createElementNS(Xy.svg,"a");t.setAttribute("fill","inherit"),t.setAttributeNS(Xy.xlink,"href",r),null!=n&&t.setAttribute("target",n),this.parentNode.insertBefore(t,this).appendChild(this)}}))}function gz(t,e,n){null!=n&&t.attr(e,n)}function yz(t,e,{x:n,y:r},i=rz,o=rz){i+=e.dx,o+=e.dy,n?.bandwidth&&(i+=n.bandwidth()/2),r?.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&t.attr("transform",`translate(${i},${o})`)}function vz(t,e){if((t=uB(t))!==e)return t}function wz(t,e){if((t=lB(t))!==e)return t}const bz=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function xz(t){if(void 0===t)return"plot-d6a7b5";if(t=`${t}`,!bz.test(t))throw new Error(`invalid class name: ${t}`);return t}function _z(t,e){if("string"==typeof e)t.property("style",e);else if(null!=e)for(const n of t)Object.assign(n.style,e)}function Dz({frameAnchor:t},{width:e,height:n,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?e-i:(a+e-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?n-o:(r+n-o)/2]}function Ez(t={}){const{document:e=("undefined"!=typeof window?window.document:void 0),clip:n}=t;return{document:e,clip:hz(n)}}function Az(t,{document:e}){return aw(Qy(t).call(e.documentElement))}const Mz=Math.PI,Sz=2*Mz,Cz=.618;function kz({projection:t,inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:o=e}={},a){if(null==t)return;if("function"==typeof t.stream)return t;let s,u,l="frame";if(EB(t)){let e;if(({type:t,domain:u,inset:e,insetTop:n=(void 0!==e?e:n),insetRight:r=(void 0!==e?e:r),insetBottom:i=(void 0!==e?e:i),insetLeft:o=(void 0!==e?e:o),clip:l=l,...s}=t),null==t)return}"function"!=typeof t&&({type:t}=Fz(t));const{width:c,height:f,marginLeft:h,marginRight:d,marginTop:p,marginBottom:m}=a,g=c-h-d-o-r,y=f-p-m-n-i;if(t=t?.({width:g,height:y,clip:l,...s}),null==t)return;l=function(t,e,n,r,i){if(!1===t||null==t||"number"==typeof t)return t=>t;!0===t&&(t="frame");if("frame"===`${t}`.toLowerCase())return sE(e,n,r,i);throw new Error(`unknown projection clip type: ${t}`)}(l,h,p,c-d,f-m);let v,w=h+o,b=p+n;if(null!=u){const[[e,n],[r,i]]=pA(t).bounds(u),o=Math.min(g/(r-e),y/(i-n));o>0?(w-=(o*(e+r)-g)/2,b-=(o*(n+i)-y)/2,v=mA({point(t,e){this.stream.point(t*o+w,e*o+b)}})):nz("Warning: the projection could not be fit to the specified domain; using the default scale.")}return v??=0===w&&0===b?Bz():mA({point(t,e){this.stream.point(t+w,e+b)}}),{stream:e=>t.stream(v.stream(l(e)))}}function Fz(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Nz(OA,.7463,.4673);case"albers":return Tz(BA,.7463,.4673);case"azimuthal-equal-area":return Nz(PA,4,4);case"azimuthal-equidistant":return Nz(jA,Sz,Sz);case"conic-conformal":return Tz(HA,Sz,Sz);case"conic-equal-area":return Tz(TA,6.1702,2.9781);case"conic-equidistant":return Tz(KA,7.312,3.6282);case"equal-earth":return Nz(rM,5.4133,2.6347);case"equirectangular":return Nz(YA,Sz,Mz);case"gnomonic":return Nz(oM,3.4641,3.4641);case"identity":return{type:Bz};case"reflect-y":return{type:Oz};case"mercator":return Nz(UA,Sz,Sz);case"orthographic":return Nz(sM,2,2);case"stereographic":return Nz(lM,2,2);case"transverse-mercator":return Nz(fM,Sz,Sz);default:throw new Error(`unknown projection type: ${t}`)}}function Nz(t,e,n){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:s})=>{const u=t();return null!=a&&u.precision?.(a),null!=o&&u.rotate?.(o),"number"==typeof s&&u.clipAngle?.(s),u.scale(Math.min(r/e,i/n)),u.translate([r/2,i/2]),u},aspectRatio:n/e}}function Tz(t,e,n){const{type:r,aspectRatio:i}=Nz(t,e,n);return{type:t=>{const{parallels:e,domain:n,width:i,height:o}=t,a=r(t);return null!=e&&(a.parallels(e),void 0===n&&a.fitSize([i,o],{type:"Sphere"})),a},aspectRatio:i}}const Bz=hB({stream:t=>t}),Oz=hB(mA({point(t,e){this.stream.point(t,-e)}}));function zz(t,e,n,r){const i=n[t],o=n[e],a=i.length,s=n[t]=new Float64Array(a).fill(NaN),u=n[e]=new Float64Array(a).fill(NaN);let l;const c=r.stream({point(t,e){s[l]=t,u[l]=e}});for(l=0;l<a;++l)c.point(i[l],o[l])}function Iz({projection:t}={}){return null!=t&&("function"==typeof t.stream||(EB(t)&&(t=t.type),null!=t))}function Rz(t){const e=[],n=[],r={scale:"x",value:e},i={scale:"y",value:n},o={point(t,r){e.push(t),n.push(r)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const e of t.value)BD(e,o);return[r,i]}const Pz=new Map([["accent",_k],["category10",xk],["dark2",Dk],["paired",Ek],["pastel1",Ak],["pastel2",Mk],["set1",Sk],["set2",Ck],["set3",kk],["tableau10",Fk]]);const $z=new Map([...Pz,["brbg",Lz(Tk,Bk)],["prgn",Lz(Ok,zk)],["piyg",Lz(Ik,Rk)],["puor",Lz(Pk,$k)],["rdbu",Lz(jk,Lk)],["rdgy",Lz(Uk,qk)],["rdylbu",Lz(Vk,Wk)],["rdylgn",Lz(Hk,Zk)],["spectral",Lz(Yk,Xk)],["burd",Uz(jk,Lk)],["buylrd",Uz(Vk,Wk)],["blues",jz(bF,xF)],["greens",jz(_F,DF)],["greys",jz(EF,AF)],["oranges",jz(FF,NF)],["purples",jz(MF,SF)],["reds",jz(CF,kF)],["turbo",qz(UF)],["viridis",qz(VF)],["magma",qz(WF)],["inferno",qz(HF)],["plasma",qz(ZF)],["cividis",qz(TF)],["cubehelix",qz(BF)],["warm",qz(OF)],["cool",qz(zF)],["bugn",jz(Kk,Jk)],["bupu",jz(Gk,Qk)],["gnbu",jz(tF,eF)],["orrd",jz(nF,rF)],["pubu",jz(aF,sF)],["pubugn",jz(iF,oF)],["purd",jz(uF,lF)],["rdpu",jz(cF,fF)],["ylgn",jz(pF,mF)],["ylgnbu",jz(hF,dF)],["ylorbr",jz(gF,yF)],["ylorrd",jz(vF,wF)],["rainbow",Vz(RF)],["sinebow",Vz(LF)]]);function jz(t,e){return({length:n})=>1===n?[t[3][1]]:2===n?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)))>9?Yb(e,n):t[n]}function Lz(t,e){return({length:n})=>2===n?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)))>11?Yb(e,n):t[n]}function Uz(t,e){return({length:n})=>2===n?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)))>11?Yb((t=>e(1-t)),n):t[n].slice().reverse()}function qz(t){return({length:e})=>Yb(t,Math.max(2,Math.floor(e)))}function Vz(t){return({length:e})=>Yb(t,Math.floor(e)+1).slice(0,-1)}function Wz(t){const e=`${t}`.toLowerCase();if(!$z.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return $z.get(e)}function Hz(t,e){const n=Wz(t),r="function"==typeof n?n({length:e}):n;return r.length!==e?r.slice(0,e):r}const Zz=new Map([["brbg",Bk],["prgn",zk],["piyg",Rk],["puor",$k],["rdbu",Lk],["rdgy",qk],["rdylbu",Wk],["rdylgn",Zk],["spectral",Xk],["burd",t=>Lk(1-t)],["buylrd",t=>Wk(1-t)],["blues",xF],["greens",DF],["greys",AF],["purples",SF],["reds",kF],["oranges",NF],["turbo",UF],["viridis",VF],["magma",WF],["inferno",HF],["plasma",ZF],["cividis",TF],["cubehelix",BF],["warm",OF],["cool",zF],["bugn",Jk],["bupu",Qk],["gnbu",eF],["orrd",rF],["pubugn",oF],["pubu",sF],["purd",lF],["rdpu",fF],["ylgnbu",dF],["ylgn",mF],["ylorbr",yF],["ylorrd",wF],["rainbow",RF],["sinebow",LF]]);function Yz(t){const e=`${t}`.toLowerCase();if(!Zz.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return Zz.get(e)}const Xz=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);const Kz=t=>e=>t(1-e),Jz=[0,1],Gz=new Map([["number",kb],["rgb",Db],["hsl",qb],["hcl",Vb],["lab",function(t,e){var n=_b((t=Qw(t)).l,(e=Qw(e)).l),r=_b(t.a,e.a),i=_b(t.b,e.b),o=_b(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}]]);function Qz(t){const e=`${t}`.toLowerCase();if(!Gz.has(e))throw new Error(`unknown interpolator: ${e}`);return Gz.get(e)}function tI(t,e,n,{type:r,nice:i,clamp:o,zero:a,domain:s=sI(t,n),unknown:u,round:l,scheme:c,interval:f,range:h=(cO.get(t)===oO?lI(n,s):cO.get(t)===aO?cI(n,s):cO.get(t)===sO?Jz:void 0),interpolate:d=(cO.get(t)===iO?null==c&&void 0!==h?Db:Yz(void 0!==c?c:"cyclical"===r?"rainbow":"turbo"):l?zb:kb),reverse:p}){if(f=jB(f,r),"cyclical"!==r&&"sequential"!==r||(r="linear"),"function"!=typeof d&&(d=Qz(d)),p=!!p,void 0!==h){if((s=xB(s)).length!==(h=xB(h)).length){if(1===d.length)throw new Error("invalid piecewise interpolator");d=Zb(d,h),h=void 0}}if(1===d.length?(p&&(d=Kz(d),p=!1),void 0===h&&(h=Float64Array.from(s,((t,e)=>e/(s.length-1))),2===h.length&&(h=Jz)),e.interpolate((h===Jz?hB:dI)(d))):e.interpolate(d),a){const[t,e]=Lg(s);(t>0||e<0)&&(eO(s=DB(s))!==Math.sign(t)?s[s.length-1]=0:s[0]=0)}return p&&(s=Cy(s)),e.domain(s).unknown(u),i&&(e.nice(function(t,e){return!0===t?void 0:"number"==typeof t?t:function(t,e){if((t=jB(t,e))&&"function"!=typeof t.ceil)throw new Error("invalid interval: missing ceil method");return t}(t,e)}(i,r)),s=e.domain()),void 0!==h&&e.range(h),o&&e.clamp(o),{type:r,domain:s,range:h,scale:e,interpolate:d,interval:f}}function eI(t,e,{exponent:n=1,...r}){return tI(t,XM().exponent(n),e,{...r,type:"pow"})}function nI(t,e,{base:n=10,domain:r=fI(e),...i}){return tI(t,jM().base(n),e,{...i,domain:r})}function rI(t,e,{constant:n=1,...r}){return tI(t,VM().constant(n),e,r)}function iI(t,e,{range:n,quantiles:r=(void 0===n?5:(n=[...n]).length),n:i=r,scheme:o="rdylbu",domain:a=hI(e),unknown:s,interpolate:u,reverse:l}){return void 0===n&&(n=void 0!==u?Yb(u,i):cO.get(t)===iO?Hz(o,i):void 0),a.length>0&&(a=KM(a,void 0===n?{length:i}:n).quantiles()),oI(t,e,{domain:a,range:n,reverse:l,unknown:s})}function oI(t,e,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=(void 0!==o?Yb(o,n.length+1):cO.get(t)===iO?Hz(i,n.length+1):void 0),reverse:s}){const u=eO(n=xB(n));if(!isNaN(u)&&!function(t,e){for(let n=1,r=t.length,i=t[0];n<r;++n){const r=kg(i,i=t[n]);if(0!==r&&r!==e)return!1}return!0}(n,u))throw new Error(`the ${t} scale has a non-monotonic domain`);return s&&(a=Cy(a)),{type:"threshold",scale:JM(u<0?Cy(n):n,void 0===a?[]:a).unknown(r),domain:n,range:a}}function aI(t,e=TT){return t.length?[dy(t,(({value:t})=>void 0===t?t:dy(t,e))),fy(t,(({value:t})=>void 0===t?t:fy(t,e)))]:[0,1]}function sI(t,e){const n=cO.get(t);return(n===oO||n===sO||n===aO?uI:aI)(e)}function uI(t){return[0,t.length?fy(t,(({value:t})=>void 0===t?t:fy(t,TT))):1]}function lI(t,e){const n=t.find((({radius:t})=>void 0!==t));if(void 0!==n)return[0,n.radius];const r=yy(t,.5,(({value:t})=>void 0===t?NaN:yy(t,.25,BT))),i=e.map((t=>3*Math.sqrt(t/r))),o=30/fy(i);return o<1?i.map((t=>t*o)):i}function cI(t,e){const n=_y(t,(({value:t})=>void 0===t?NaN:_y(t,Math.abs))),r=e.map((t=>12*t/n)),i=60/fy(r);return i<1?r.map((t=>t*i)):r}function fI(t){for(const{value:e}of t)if(void 0!==e)for(let n of e){if(n>0)return aI(t,BT);if(n<0)return aI(t,OT)}return[1,10]}function hI(t){const e=[];for(const{value:n}of t)if(void 0!==n)for(const t of n)e.push(t);return e}function dI(t){return(e,n)=>r=>t(e+r*(n-e))}function pI(t,e,n,r,{type:i,nice:o,clamp:a,domain:s=aI(r),unknown:u,pivot:l=0,scheme:c,range:f,symmetric:h=!0,interpolate:d=(cO.get(t)===iO?null==c&&void 0!==f?Db:Yz(void 0!==c?c:"rdbu"):kb),reverse:p}){l=+l,s=xB(s);let[m,g]=s;if(s.length>2&&nz(`Warning: the diverging ${t} scale domain contains extra elements.`),kg(m,g)<0&&([m,g]=[g,m],p=!p),m=Math.min(m,l),g=Math.max(g,l),"function"!=typeof d&&(d=Qz(d)),void 0!==f&&(d=1===d.length?dI(d)(...f):Zb(d,f)),p&&(d=Kz(d)),h){const t=n.apply(l),e=t-n.apply(m),r=n.apply(g)-t;e<r?m=n.invert(t-r):e>r&&(g=n.invert(t+e))}return e.domain([m,l,g]).unknown(u).interpolator(d),a&&e.clamp(a),o&&e.nice(o),{type:i,domain:[m,g],pivot:l,interpolate:d,scale:e}}function mI(t,e,n){return pI(t,gk(),wI,e,n)}function gI(t,e,{exponent:n=1,...r}){return pI(t,wk().exponent(n=+n),function(t){return.5===t?xI:{apply:e=>Math.sign(e)*Math.pow(Math.abs(e),t),invert:e=>Math.sign(e)*Math.pow(Math.abs(e),1/t)}}(n),e,{...r,type:"diverging-pow"})}function yI(t,e,{base:n=10,pivot:r=1,domain:i=aI(e,r<0?OT:BT),...o}){return pI(t,yk().base(n=+n),bI,e,{domain:i,pivot:r,...o})}function vI(t,e,{constant:n=1,...r}){return pI(t,vk().constant(n=+n),function(t){return{apply:e=>Math.sign(e)*Math.log1p(Math.abs(e/t)),invert:e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}}(n),e,r)}const wI={apply:t=>t,invert:t=>t},bI={apply:Math.log,invert:Math.exp},xI={apply:t=>Math.sign(t)*Math.sqrt(Math.abs(t)),invert:t=>Math.sign(t)*(t*t)};function _I(t,e,n,r){return tI(t,e,n,r)}function DI(t,e,n){return _I(t,function(){return hM.apply(dk(jS,LS,zS,BS,vS,pS,hS,cS,lS,HS).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}(),e,n)}function EI(t,e,n){return _I(t,function(){return hM.apply(dk(PS,$S,IS,OS,MS,mS,dS,fS,lS,ZS).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}(),e,n)}const AI=Symbol("ordinal");function MI(t,e,n,{type:r,interval:i,domain:o,range:a,reverse:s,hint:u}){return i=jB(i,r),void 0===o&&(o=kI(n,i,t)),"categorical"!==r&&r!==AI||(r="ordinal"),s&&(o=Cy(o)),e.domain(o),void 0!==a&&("function"==typeof a&&(a=a(o)),e.range(a)),{type:r,domain:o,range:a,scale:e,hint:u,interval:i}}function SI(t,e,{type:n,interval:r,domain:i,range:o,scheme:a,unknown:s,...u}){let l;if(r=jB(r,n),void 0===i&&(i=kI(e,r,t)),cO.get(t)===uO)l=function(t){return{fill:FI(t,"fill"),stroke:FI(t,"stroke")}}(e),o=void 0===o?function(t){return JB(t.fill)?BN:TN}(l):_B(o,mO);else if(cO.get(t)===iO&&(void 0!==o||"ordinal"!==n&&n!==AI||(o=function(t,e="greys"){const n=new Set,[r,i]=Hz(e,2);for(const e of t)if(null!=e)if(!0===e)n.add(i);else{if(!1!==e)return;n.add(r)}return[...n]}(i,a),void 0!==o&&(a=void 0)),void 0===a&&void 0===o&&(a="ordinal"===n?"turbo":"tableau10"),void 0!==a))if(void 0!==o){const t=Yz(a),e=o[0],n=o[1]-o[0];o=({length:r})=>Yb((r=>t(e+n*r)),r)}else o=Wz(a);if(s===pM)throw new Error(`implicit unknown on ${t} scale is not supported`);return MI(t,mM().unknown(s),e,{...u,type:n,domain:i,range:o,hint:l})}function CI(t,e,n,r){let{round:i}=n;return void 0!==i&&t.round(i=!!i),(t=MI(r,t,e,n)).round=i,t}function kI(t,e,n){const r=new Vg;for(const{value:e,domain:n}of t){if(void 0!==n)return n();if(void 0!==e)for(const t of e)r.add(t)}if(void 0!==e){const[t,n]=Lg(r).map(e.floor,e);return e.range(t,e.offset(n))}if(r.size>1e4&&cO.get(n)===rO)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return ty(r,kT)}function FI(t,e){let n;for(const{hint:r}of t){const t=r?.[e];if(void 0!==t)if(void 0===n)n=t;else if(n!==t)return}return n}function NI(t,{label:e,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:o=n,insetLeft:a=n,round:s,nice:u,clamp:l,zero:c,align:f,padding:h,projection:d,facet:{label:p=e}={},...m}={}){const g={};for(const[n,y]of t){const t=m[n],v=jI(n,y,{round:cO.get(n)===rO?s:void 0,nice:u,clamp:l,zero:c,align:f,padding:h,projection:d,...t});if(v){let{label:s=("fx"===n||"fy"===n?p:e),percent:u,transform:l,inset:c,insetTop:f=(void 0!==c?c:"y"===n?r:0),insetRight:h=(void 0!==c?c:"x"===n?i:0),insetBottom:d=(void 0!==c?c:"y"===n?o:0),insetLeft:m=(void 0!==c?c:"x"===n?a:0)}=t||{};if(null==l)l=void 0;else if("function"!=typeof l)throw new Error("invalid scale transform; not a function");v.percent=!!u,v.label=void 0===s?BI(y,v):s,v.transform=l,"x"===n||"fx"===n?(v.insetLeft=+m,v.insetRight=+h):"y"!==n&&"fy"!==n||(v.insetTop=+f,v.insetBottom=+d),g[n]=v}}return g}function TI(t){return Object.fromEntries(Object.entries(t).filter((([,{scale:t}])=>t)).map((([t,{scale:e,type:n,interval:r,label:i}])=>(e.type=n,null!=r&&(e.interval=r),null!=i&&(e.label=i),[t,e]))))}function BI(t=[],e){let n;for(const{label:e}of t)if(void 0!==e)if(void 0===n)n=e;else if(n!==e)return;if(void 0!==n)return!WI(e)&&e.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function OI(t){const{marginTop:e,marginRight:n,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:s,marginRight:u,marginBottom:l,marginLeft:c}}=t;return{marginTop:Math.max(e,s),marginRight:Math.max(n,u),marginBottom:Math.max(r,l),marginLeft:Math.max(i,c),width:o,height:a}}function zI({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:s,height:u}=OI(n);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:t?t.scale.bandwidth()+a+i:s,height:e?e.scale.bandwidth()+r+o:u,facet:{width:s,height:u}}}function II(t,e){if(void 0===t.range){const{insetLeft:n,insetRight:r}=t,{width:i,marginLeft:o=0,marginRight:a=0}=e,s=o+n,u=i-a-r;t.range=[s,Math.max(s,u)],WI(t)||(t.range=$I(t)),t.scale.range(t.range)}PI(t)}function RI(t,e){if(void 0===t.range){const{insetTop:n,insetBottom:r}=t,{height:i,marginTop:o=0,marginBottom:a=0}=e,s=o+n,u=i-a-r;t.range=[Math.max(s,u),s],WI(t)?t.range.reverse():t.range=$I(t),t.scale.range(t.range)}PI(t)}function PI(t){void 0===t.round&&function({type:t}){return"point"===t||"band"===t}(t)&&function({scale:t}){const e=t.domain().length,[n,r]=t.range(),i=t.paddingInner?t.paddingInner():1,o=t.paddingOuter?t.paddingOuter():t.padding(),a=e-i,s=Math.abs(r-n)/Math.max(1,a+2*o);return(s-Math.floor(s))*a}(t)<=30&&t.scale.round(!0)}function $I(t){const e=t.scale.domain().length+HI(t);if(!(e>2))return t.range;const[n,r]=t.range;return Array.from({length:e},((t,i)=>n+i/(e-1)*(r-n)))}function jI(t,e=[],n={}){const r=function(t,e,{type:n,domain:r,range:i,scheme:o,pivot:a,projection:s}){if("fx"===t||"fy"===t)return"band";"x"!==t&&"y"!==t||null==s||(n=UI);for(const{type:t}of e)if(void 0!==t)if(void 0===n)n=t;else if(n!==t)throw new Error(`scale incompatible with channel: ${n} !== ${t}`);if(n===UI)return;if(void 0!==n)return n;if(void 0===r&&!e.some((({value:t})=>void 0!==t)))return;const u=cO.get(t);if(u===oO)return"sqrt";if(u===sO||u===aO)return"linear";if(u===uO)return"ordinal";if((r||i||[]).length>2)return qI(u);if(void 0!==r){if(VB(r))return qI(u);if(WB(r))return"utc"}else{const t=e.map((({value:t})=>t)).filter((t=>void 0!==t));if(t.some(VB))return qI(u);if(t.some(WB))return"utc"}if(u===iO){if(null!=a||function(t){return null!=t&&Xz.has(`${t}`.toLowerCase())}(o))return"diverging";if(function(t){return null!=t&&Pz.has(`${t}`.toLowerCase())}(o))return"categorical"}return"linear"}(t,e,n);if(void 0===n.type&&void 0===n.domain&&void 0===n.range&&null==n.interval&&"fx"!==t&&"fy"!==t&&WI({type:r})){const n=e.map((({value:t})=>t)).filter((t=>void 0!==t));n.some(WB)?nz(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${LI(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${LI(r)}".`):n.some(HB)?nz(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${LI(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${LI(r)}".`):n.some(ZB)&&nz(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${LI(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${LI(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=YI(e,n,dB);break;case"identity":switch(cO.get(t)){case rO:n=YI(e,n,dB);break;case uO:n=YI(e,n,XI)}break;case"utc":case"time":n=YI(e,n,mB)}switch(r){case"diverging":return mI(t,e,n);case"diverging-sqrt":return function(t,e,n){return gI(t,e,{...n,exponent:.5})}(t,e,n);case"diverging-pow":return gI(t,e,n);case"diverging-log":return yI(t,e,n);case"diverging-symlog":return vI(t,e,n);case"categorical":case"ordinal":case AI:return SI(t,e,n);case"cyclical":case"sequential":case"linear":return function(t,e,n){return tI(t,FM(),e,n)}(t,e,n);case"sqrt":return function(t,e,n){return eI(t,e,{...n,exponent:.5})}(t,e,n);case"threshold":return oI(t,0,n);case"quantile":return iI(t,e,n);case"quantize":return function(t,e,{range:n,n:r=(void 0===n?5:(n=[...n]).length),scheme:i="rdylbu",domain:o=sI(t,e),unknown:a,interpolate:s,reverse:u}){const[l,c]=Lg(o);let f;return void 0===n?(f=sy(l,c,r),f[0]<=l&&f.splice(0,1),f[f.length-1]>=c&&f.pop(),r=f.length+1,n=void 0!==s?Yb(s,r):cO.get(t)===iO?Hz(i,r):void 0):(f=Yb(kb(l,c),r+1).slice(1,-1),l instanceof Date&&(f=f.map((t=>new Date(t))))),eO(xB(o))<0&&f.reverse(),oI(t,0,{domain:f,range:n,reverse:u,unknown:a})}(t,e,n);case"pow":return eI(t,e,n);case"log":return nI(t,e,n);case"symlog":return rI(t,e,n);case"utc":return EI(t,e,n);case"time":return DI(t,e,n);case"point":return function(t,e,{align:n=.5,padding:r=.5,...i}){return CI(vM().align(n).padding(r),e,i,t)}(t,e,n);case"band":return function(t,e,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=("fx"===t||"fy"===t?0:r),...a}){return CI(gM().align(n).paddingInner(i).paddingOuter(o),e,a,t)}(t,e,n);case"identity":return cO.get(t)===rO?{type:"identity",scale:NM()}:{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function LI(t){return"symbol"==typeof t?t.description:t}const UI={toString:()=>"projection"};function qI(t){switch(t){case rO:return"point";case iO:return AI;default:return"ordinal"}}function VI({type:t}){return"time"===t||"utc"===t}function WI({type:t}){return"ordinal"===t||"point"===t||"band"===t||t===AI}function HI({type:t}){return"threshold"===t}function ZI(t){if(void 0===t)return!0;const e=t.domain(),n=t(e[0]);for(let r=1,i=e.length;r<i;++r)if(t(e[r])-n)return!1;return!0}function YI(t,{domain:e,...n},r){for(const e of t)void 0!==e.value&&(e.value=r(e.value));return{domain:void 0===e?e:r(e),...n}}function XI(t){return _B(t,mO)}function KI(t){return e=>{if(!cO.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return e in t?function({scale:t,type:e,domain:n,range:r,interpolate:i,interval:o,transform:a,percent:s,pivot:u}){if("identity"===e)return{type:"identity",apply:t=>t,invert:t=>t};const l=t.unknown?t.unknown():void 0;return{type:e,domain:DB(n),...void 0!==r&&{range:DB(r)},...void 0!==a&&{transform:a},...s&&{percent:s},...void 0!==l&&{unknown:l},...void 0!==o&&{interval:o},...void 0!==i&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...void 0!==u&&{pivot:u,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:e=>t(e),...t.invert&&{invert:e=>t.invert(e)}}}(t[e]):void 0}}function JI({x:t,y:e,fy:n,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:s,marginRightDefault:u,marginBottomDefault:l,marginLeftDefault:c}){const f=n?n.scale.domain().length:1,h=function(t){if("function"==typeof t?.stream)return Cz;if(EB(t)&&(t=t.type),null!=t){if("function"!=typeof t){const{aspectRatio:e}=Fz(t);if(e)return e}return Cz}}(i);if(h){const t=(1.1*f-.1)/(1.1*(r?r.scale.domain().length:1)-.1)*h,e=Math.max(.1,Math.min(10,t));return Math.round((a-c-u)*e+s+l)}const d=e?WI(e)?e.scale.domain().length:Math.max(7,17/f):1;if(null!=o){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const i=GI("y",e)/(GI("x",t)*o),f=r?r.scale.bandwidth():1,h=n?n.scale.bandwidth():1;return(i*(f*(a-c-u)-t.insetLeft-t.insetRight)+e.insetTop+e.insetBottom)/h+s+l}return!(!e&&!n)*Math.max(1,Math.min(60,d*f))*20+30*!!r+60}function GI(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:n,domain:r}=e;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const t=e.scale.exponent();i=e=>Math.pow(e,t);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${n}`)}const[o,a]=Lg(r);return Math.abs(i(a)-i(o))}function QI(t,e){const{fx:n,fy:r}=NI(t,e),i=n?.scale.domain(),o=r?.scale.domain();return i&&o?function(...t){const e="function"==typeof t[t.length-1]&&function(t){return e=>t(...e)}(t.pop()),n=(t=t.map(Pg)).map(Ig),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(Rg))return o;for(;;){o.push(i.map(((e,n)=>t[n][e])));let a=r;for(;++i[a]===n[a];){if(0===a)return e?o.map(e):o;i[a--]=0}}}(i,o).map((([t,e],n)=>({x:t,y:e,i:n}))):i?i.map(((t,e)=>({x:t,i:e}))):o?o.map(((t,e)=>({y:t,i:e}))):void 0}function tR(t,{fx:e,fy:n}){const r=FB(t),i=e?.value,o=n?.value;return e&&n?Jg(r,(t=>(t.fx=i[t[0]],t.fy=o[t[0]],t)),(t=>i[t]),(t=>o[t])):e?Jg(r,(t=>(t.fx=i[t[0]],t)),(t=>i[t])):Jg(r,(t=>(t.fy=o[t[0]],t)),(t=>o[t]))}function eR(t){const e=[],n=new Uint32Array(Sy(t,(t=>t.length)));for(const r of t){let i=0;for(const e of t)r!==e&&(n.set(e,i),i+=e.length);e.push(n.slice(0,i))}return e}const nR=new Map([["top",sR],["right",cR],["bottom",uR],["left",lR],["top-left",fR(sR,lR)],["top-right",fR(sR,cR)],["bottom-left",fR(uR,lR)],["bottom-right",fR(uR,cR)],["top-empty",function(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=oR(e,r);if(o>0)return aR(t,n,e[o-1])}],["right-empty",function(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=oR(e,n);if(o<e.length-1)return aR(t,e[o+1],r)}],["bottom-empty",function(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=oR(e,r);if(o<e.length-1)return aR(t,n,e[o+1])}],["left-empty",function(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=oR(e,n);if(o>0)return aR(t,e[o-1],r)}],["empty",function(t,e,{empty:n}){return n}]]);const rR=new WeakMap;function iR(t){let e=rR.get(t);return e||rR.set(t,e=new qg(_B(t,((t,e)=>[t,e])))),e}function oR(t,e){return iR(t).get(e)}function aR(t,e,n){return function(t,e,n){return e=BB(e),n=BB(n),t.find((t=>Object.is(BB(t.x),e)&&Object.is(BB(t.y),n)))}(t,e,n)?.empty}function sR(t,{y:e},{y:n}){return!e||0===oR(e,n)}function uR(t,{y:e},{y:n}){return!e||oR(e,n)===e.length-1}function lR(t,{x:e},{x:n}){return!e||0===oR(e,n)}function cR(t,{x:e},{x:n}){return!e||oR(e,n)===e.length-1}function fR(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function hR(t,{channels:{fx:e,fy:n},groups:r}){return e&&n?t.map((({x:t,y:e})=>r.get(t)?.get(e)??[])):e?t.map((({x:t})=>r.get(t)??[])):t.map((({y:t})=>r.get(t)??[]))}class dR{constructor(t,e={},n={},r){const{facet:i="auto",facetAnchor:o,fx:a,fy:s,sort:u,dx:l=0,dy:c=0,margin:f=0,marginTop:h=f,marginRight:d=f,marginBottom:p=f,marginLeft:m=f,clip:g=r?.clip,channels:y,tip:v,render:w}=n;if(this.data=t,this.sort=SB(u)?u:null,this.initializer=yO(n).initializer,this.transform=this.initializer?n.transform:gO(n).transform,null===i||!1===i?this.facet=null:(this.facet=bB(!0===i?"include":i,"facet",["auto","include","exclude","super"]),this.fx=t===rB&&"string"==typeof a?[a]:a,this.fy=t===rB&&"string"==typeof s?[s]:s),this.facetAnchor=function(t){if(null==t)return null;const e=nR.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}(o),e=nO(e),void 0!==y&&(e={...gR(y),...e}),void 0!==r&&(e={...az(this,n,r),...e}),this.channels=Object.fromEntries(Object.entries(e).map((([e,n])=>{if(MB(n.value)){const{value:t,scale:e=n.scale}=n.value;n={...n,scale:e,value:t}}if(t===rB&&"string"==typeof n.value){const{value:t}=n;n={...n,value:[t]}}return[e,n]})).filter((([t,{value:e,optional:n}])=>{if(null!=e)return!0;if(n)return!1;throw new Error(`missing channel value: ${t}`)}))),this.dx=+l,this.dy=+c,this.marginTop=+h,this.marginRight=+d,this.marginBottom=+p,this.marginLeft=+m,this.clip=hz(g),this.tip=function(t){return!0===t?"xy":!1===t?null:wB(t,"tip",["x","y","xy"])}(v),"super"===this.facet){if(a||s)throw new Error("super-faceting cannot use fx or fy");for(const t in this.channels){const{scale:n}=e[t];if("x"===n||"y"===n)throw new Error("super-faceting cannot use x or y")}}null!=w&&(this.render=mR(w,this.render))}initialize(t,e,n){let r=xB(this.data);void 0===t&&null!=r&&(t=[FB(r)]);const i=t;null!=this.transform&&(({facets:t,data:r}=this.transform(r,t,n)),r=xB(r)),void 0!==t&&(t.original=i);const o=function(t,e){return Object.fromEntries(Object.entries(t).map((([t,n])=>[t,UO(e,n,t)])))}(this.channels,r);return null!=this.sort&&function(t,e,n,r,i){const{order:o,reverse:a,reduce:s=!0,limit:u}=i;for(const l in i){if(!cO.has(l))continue;let{value:c,order:f=o,reverse:h=a,reduce:d=s,limit:p=u}=LB(i[l]);const m=c?.startsWith("-");if(m&&(c=c.slice(1)),f=void 0===f?m!==("width"===c||"height"===c)?KO:XO:YO(f),null==d||!1===d)continue;const g="fx"===l||"fy"===l?WO(e,r[l]):VO(n,l);if(!g)throw new Error(`missing channel for scale: ${l}`);const y=g.value,[v=0,w=1/0]=UB(p)?p:p<0?[p]:[0,p];if(null==c)g.domain=()=>{let t=Array.from(new Vg(y));return h&&(t=t.reverse()),0===v&&w===1/0||(t=t.slice(v,w)),t};else{const e="data"===c?t:"height"===c?HO(n,"y1","y2"):"width"===c?HO(n,"x1","x2"):ZO(n,c,"y"===c?"y2":"x"===c?"x2":void 0),r=FO(!0===d?"max":d,e);g.domain=()=>{let t=Gg(FB(y),(t=>r.reduceIndex(t,e)),(t=>y[t]));return f&&t.sort(f),h&&t.reverse(),0===v&&w===1/0||(t=t.slice(v,w)),t.map(cB)}}}}(r,t,o,e,this.sort),{data:r,facets:t,channels:o}}filter(t,e,n){for(const r in e){const{filter:i=CT}=e[r];if(null!==i){const e=n[r];t=t.filter((t=>i(e[t])))}}return t}project(t,e,n){for(const r in t)if("x"===t[r].scale&&/^x|x$/.test(r)){const i=r.replace(/^x|x$/,"y");i in t&&"y"===t[i].scale&&zz(r,i,e,n.projection)}}scale(t,e,n){const r=function(t,e){const n=Object.fromEntries(Object.entries(t).map((([t,{scale:n,value:r}])=>{const i=null==n?null:e[n];return[t,null==i?r:_B(r,i)]})));return n.channels=t,n}(t,e);return n.projection&&this.project(t,r,n),r}}function pR(...t){return t.plot=dR.prototype.plot,t}function mR(t,e){if(null==t)return null===e?void 0:e;if(null==e)return null===t?void 0:t;if("function"!=typeof t)throw new TypeError(`invalid render transform: ${t}`);if("function"!=typeof e)throw new TypeError(`invalid render transform: ${e}`);return function(n,r,i,o,a,s){return t.call(this,n,r,i,o,a,((t,n,r,i,o)=>e.call(this,t,n,r,i,o,s)))}}function gR(t){return Object.fromEntries(Object.entries(nO(t)).map((([t,e])=>(void 0===(e=LB(e)).filter&&null==e.scale&&(e={...e,filter:null}),[t,e]))))}function yR(t,e){return!0===t?.tip?{...t,tip:e}:t}const vR=new WeakMap;function wR(t,e,{x:n,y:r,px:i,py:o,maxRadius:a=40,channels:s,render:u,...l}={}){return a=+a,null!=i&&(n??=null,s={...s,px:{value:i,scale:"x"}}),null!=o&&(r??=null,s={...s,py:{value:o,scale:"y"}}),{x:n,y:r,channels:s,...l,render:mR((function(n,r,i,o,s,u){const l=(s={...s,pointerSticky:!1}).ownerSVGElement,{data:c}=s.getMarkState(this);let f=vR.get(l);f||vR.set(l,f={sticky:!1,roots:[],renders:[]});let h=f.renders.push(T)-1;const{x:d,y:p,fx:m,fy:g}=r;let y=m?m(n.fx)-o.marginLeft:0,v=g?g(n.fy)-o.marginTop:0;d?.bandwidth&&(y+=d.bandwidth()/2),p?.bandwidth&&(v+=p.bandwidth()/2);const w=null!=n.fi;let b;if(w){let t=f.facetStates;t||(f.facetStates=t=new Map),b=t.get(this),b||t.set(this,b=new Map)}const[x,_]=Dz(this,o),{px:D,py:E}=i,A=D?t=>D[t]:DR(i,x),M=E?t=>E[t]:ER(i,_);let S,C,k,F;function N(t,e){if(w){if(F&&(F=cancelAnimationFrame(F)),null!=t)return b.set(n.fi,e),void(F=requestAnimationFrame((()=>{F=null;for(const[r,i]of b)if(i<e||i===e&&r<n.fi){t=null;break}T(t)})));b.delete(n.fi)}T(t)}function T(t){if(S===t&&k===f.sticky)return;S=t,k=s.pointerSticky=f.sticky;const e=null==S?[]:[S];w&&(e.fx=n.fx,e.fy=n.fy,e.fi=n.fi);const a=u(e,r,i,o,s);if(C){if(w){const t=C.parentNode,e=C.getAttribute("transform"),n=a.getAttribute("transform");e?a.setAttribute("transform",e):a.removeAttribute("transform"),n?t.setAttribute("transform",n):t.removeAttribute("transform"),a.removeAttribute("aria-label"),a.removeAttribute("aria-description"),a.removeAttribute("aria-hidden")}C.replaceWith(a)}return f.roots[h]=C=a,null==S&&b?.size>1||s.dispatchValue(null==S?null:c[S]),a}function B(r){if(f.sticky||"mouse"===r.pointerType&&1===r.buttons)return;let[i,s]=function(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}(r);i-=y,s-=v;const u=i<o.marginLeft||i>o.width-o.marginRight?1:t,l=s<o.marginTop||s>o.height-o.marginBottom?1:e;let c=null,h=a*a;for(const t of n){const e=u*(A(t)-i),n=l*(M(t)-s),r=e*e+n*n;r<=h&&(c=t,h=r)}if(null!=c&&(1!==t||1!==e)){const t=A(c)-i,e=M(c)-s;h=t*t+e*e}N(c,h)}return l.addEventListener("pointerenter",B),l.addEventListener("pointermove",B),l.addEventListener("pointerdown",(function(t){"mouse"===t.pointerType&&null!=S&&(f.sticky&&f.roots.some((e=>e?.contains(t.target)))||(f.sticky?(f.sticky=!1,f.renders.forEach((t=>t(null)))):(f.sticky=!0,T(S)),t.stopImmediatePropagation()))})),l.addEventListener("pointerleave",(function(t){"mouse"===t.pointerType&&(f.sticky||N(null))})),T(null)}),u)}}function bR(t){return wR(1,1,t)}function xR(t){return wR(1,.01,t)}function _R(t){return wR(.01,1,t)}function DR({x1:t,x2:e,x:n=t},r){return t&&e?n=>(t[n]+e[n])/2:n?t=>n[t]:()=>r}function ER({y1:t,y2:e,y:n=t},r){return t&&e?n=>(t[n]+e[n])/2:n?t=>n[t]:()=>r}function AR(t){return WI(t)&&void 0===t.interval?void 0:"tabular-nums"}function MR(t,e){let{label:n=t.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:s=0,marginBottom:u=16+r,marginLeft:l=0,style:c,ticks:f=(i-l-s)/64,tickFormat:h,fontVariant:d=AR(t),round:p=!0,opacity:m,className:g}=e;const y=Ez(e);g=xz(g),m=vB(m)[1],null===h&&(h=()=>null);const v=Az("svg",y).attr("class",`${g}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call((t=>t.append("style").text(`.${g}-ramp {\n  display: block;\n  background: white;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n  overflow: visible;\n}\n.${g}-ramp text {\n  white-space: pre;\n}`))).call(_z,c);let w,b=t=>t.selectAll(".tick line").attr("y1",a+u-o);const x=p?(t,e)=>t.rangeRound(e):(t,e)=>t.range(e),{type:_,domain:D,range:E,interpolate:A,scale:M,pivot:S}=t;if(A){const t=void 0===E?A:Zb(1===A.length?dI(A):A,E);w=x(M.copy(),Yb(kb(l,i-s),Math.min(D.length+(void 0!==S),void 0===E?1/0:E.length)));const e=256,n=y.document.createElement("canvas");n.width=e,n.height=1;const r=n.getContext("2d");for(let n=0,i=e-1;n<e;++n)r.fillStyle=t(n/i),r.fillRect(n,0,1,1);v.append("image").attr("opacity",m).attr("x",l).attr("y",a).attr("width",i-l-s).attr("height",o-a-u).attr("preserveAspectRatio","none").attr("xlink:href",n.toDataURL())}else if("threshold"===_){const t=D,e=void 0===h?t=>t:"string"==typeof h?eD(h):h;w=x(FM().domain([-1,E.length-1]),[l,i-s]),v.append("g").attr("fill-opacity",m).selectAll().data(E).enter().append("rect").attr("x",((t,e)=>w(e-1))).attr("y",a).attr("width",((t,e)=>w(e)-w(e-1))).attr("height",o-a-u).attr("fill",(t=>t)),f=_B(t,((t,e)=>e)),h=n=>e(t[n],n)}else w=x(gM().domain(D),[l,i-s]),v.append("g").attr("fill-opacity",m).selectAll().data(D).enter().append("rect").attr("x",w).attr("y",a).attr("width",Math.max(0,w.bandwidth()-1)).attr("height",o-a-u).attr("fill",M),b=()=>{};return v.append("g").attr("transform",`translate(0,${o-u})`).call(function(t){return Uy(Oy,t)}(w).ticks(Array.isArray(f)?null:f,"string"==typeof h?h:void 0).tickFormat("function"==typeof h?h:void 0).tickSize(r).tickValues(Array.isArray(f)?f:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",vz(d,"normal")).call(b).call((t=>t.select(".domain").remove())),void 0!==n&&v.append("text").attr("x",l).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(n),v.node()}const SR=Math.PI/180;function CR(t,{marker:e,markerStart:n=e,markerMid:r=e,markerEnd:i=e}={}){t.markerStart=kR(n),t.markerMid=kR(r),t.markerEnd=kR(i)}function kR(t){if(null==t||!1===t)return null;if(!0===t)return TR;if("function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return FR("auto");case"arrow-reverse":return FR("auto-start-reverse");case"dot":return NR;case"circle":case"circle-fill":return TR;case"circle-stroke":return BR}throw new Error(`invalid marker: ${t}`)}function FR(t){return(e,n)=>Az("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call((t=>t.append("path").attr("d","M-1.5,-3l3,3l-3,3"))).node()}function NR(t,e){return Az("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call((t=>t.append("circle").attr("r",2.5))).node()}function TR(t,e){return Az("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","white").attr("stroke-width",1.5).call((t=>t.append("circle").attr("r",3))).node()}function BR(t,e){return Az("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",t).attr("stroke-width",1.5).call((t=>t.append("circle").attr("r",3))).node()}let OR=0;function zR(t,e,{stroke:n},r){return RR(t,e,n&&(t=>n[t]),r)}function IR(t,e,{stroke:n},r){return RR(t,e,n&&(([t])=>n[t]),r)}function RR(t,{markerStart:e,markerMid:n,markerEnd:r,stroke:i},o=(()=>i),a){const s=new Map;function u(t){return function(e){const n=o(e);let r=s.get(t);r||s.set(t,r=new Map);let i=r.get(n);if(!i){const e=this.parentNode.insertBefore(t(n,a),this),o="plot-marker-"+ ++OR;e.setAttribute("id",o),r.set(n,i=`url(#${o})`)}return i}}e&&t.attr("marker-start",u(e)),n&&t.attr("marker-mid",u(n)),r&&t.attr("marker-end",u(r))}function PR({inset:t,insetLeft:e,insetRight:n,...r}={}){return[e,n]=jR(t,e,n),{inset:t,insetLeft:e,insetRight:n,...r}}function $R({inset:t,insetTop:e,insetBottom:n,...r}={}){return[e,n]=jR(t,e,n),{inset:t,insetTop:e,insetBottom:n,...r}}function jR(t,e,n){return void 0===t&&void 0===e&&void 0===n?rz?[1,0]:[.5,.5]:[e,n]}function LR(t,{interval:e}){return(t={...LB(t)}).interval=$B(void 0===t.interval?e:t.interval),t}function UR(t,e,n,r){const{[t]:i,[`${t}1`]:o,[`${t}2`]:a}=n,{value:s,interval:u}=LR(i,n);if(null==s||null==u&&!r)return n;const l=IB(i);if(null==u){let e;const r={transform:t=>e||(e=tB(t,s)),label:l};return{...n,[t]:void 0,[`${t}1`]:void 0===o?r:o,[`${t}2`]:void 0===a?r:a}}let c,f;function h(t){return void 0!==f&&t===c?f:f=_B(tB(c=t,s),(t=>u.floor(t)))}return e({...n,[t]:void 0,[`${t}1`]:void 0===o?{transform:h,label:l}:o,[`${t}2`]:void 0===a?{transform:t=>h(t).map((t=>u.offset(t))),label:l}:a})}function qR(t,e,n){const{[t]:r}=n,{value:i,interval:o}=LR(r,n);return null==i||null==o?n:e({...n,[t]:{label:IB(r),transform:t=>{const e=_B(tB(t,i),(t=>o.floor(t))),n=e.map((t=>o.offset(t)));return e.map(WB(e)?(t,e)=>null==t||isNaN(t=+t)||null==(e=n[e])||isNaN(e=+e)?void 0:new Date((t+e)/2):(t,e)=>null==t||null==(e=n[e])?NaN:(+t+ +e)/2)}}})}const VR={ariaLabel:"rule",fill:null,stroke:"currentColor"};class WR extends dR{constructor(t,e={}){const{x:n,y1:r,y2:i,inset:o=0,insetTop:a=o,insetBottom:s=o}=e;super(t,{x:{value:n,scale:"x",optional:!0},y1:{value:r,scale:"y",optional:!0},y2:{value:i,scale:"y",optional:!0}},yR(e,"x"),VR),this.insetTop=lB(a),this.insetBottom=lB(s),CR(this,e)}render(t,e,n,r,i){const{x:o,y:a}=e,{x:s,y1:u,y2:l}=n,{width:c,height:f,marginTop:h,marginRight:d,marginLeft:p,marginBottom:m}=r,{insetTop:g,insetBottom:y}=this;return Az("svg:g",i).call(dz,this,r,i).call(yz,this,{x:s&&o},rz,0).call((e=>e.selectAll().data(t).enter().append("line").call(pz,this).attr("x1",s?t=>s[t]:(p+c-d)/2).attr("x2",s?t=>s[t]:(p+c-d)/2).attr("y1",u&&!ZI(a)?t=>u[t]+g:h+g).attr("y2",l&&!ZI(a)?a.bandwidth?t=>l[t]+a.bandwidth()-y:t=>l[t]-y:f-m-y).call(lz,this,n).call(zR,this,n,i))).node()}}class HR extends dR{constructor(t,e={}){const{x1:n,x2:r,y:i,inset:o=0,insetRight:a=o,insetLeft:s=o}=e;super(t,{y:{value:i,scale:"y",optional:!0},x1:{value:n,scale:"x",optional:!0},x2:{value:r,scale:"x",optional:!0}},yR(e,"y"),VR),this.insetRight=lB(a),this.insetLeft=lB(s),CR(this,e)}render(t,e,n,r,i){const{x:o,y:a}=e,{y:s,x1:u,x2:l}=n,{width:c,height:f,marginTop:h,marginRight:d,marginLeft:p,marginBottom:m}=r,{insetLeft:g,insetRight:y}=this;return Az("svg:g",i).call(dz,this,r,i).call(yz,this,{y:s&&a},0,rz).call((e=>e.selectAll().data(t).enter().append("line").call(pz,this).attr("x1",u&&!ZI(o)?t=>u[t]+g:p+g).attr("x2",l&&!ZI(o)?o.bandwidth?t=>l[t]+o.bandwidth()-y:t=>l[t]-y:c-d-y).attr("y1",s?t=>s[t]:(h+f-m)/2).attr("y2",s?t=>s[t]:(h+f-m)/2).call(lz,this,n).call(zR,this,n,i))).node()}}function ZR(t,e){let{x:n=aB,y:r,y1:i,y2:o,...a}=function(t={}){return UR("y",$R,t)}(e);return[i,o]=XR(r,i,o),new WR(t,{...a,x:n,y1:i,y2:o})}function YR(t,e){let{y:n=aB,x:r,x1:i,x2:o,...a}=function(t={}){return UR("x",PR,t)}(e);return[i,o]=XR(r,i,o),new HR(t,{...a,y:n,x1:i,x2:o})}function XR(t,e,n){if(null==t){if(void 0===e){if(void 0!==n)return[0,n]}else if(void 0===n)return[0,e]}else{if(void 0===e)return void 0===n?[0,t]:[t,n];if(void 0===n)return[t,e]}return[e,n]}function KR(t,...e){let n=e.length;for(let r=0,i=!0;r<n;++r)"function"!=typeof e[r]&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+e[r]+t[r+1]),e.splice(r,1),--r,--n);return r=>{let i=t[0];for(let o=0;o<n;++o)i+=e[o](r)+t[o+1];return i}}const JR={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},GR="­";class QR extends dR{constructor(t,e={}){const{x:n,y:r,text:i=(UB(t)&&qB(t)?aB:oB),frameAnchor:o,textAnchor:a=(/right$/i.test(o)?"end":/left$/i.test(o)?"start":"middle"),lineAnchor:s=(/^top/i.test(o)?"top":/^bottom/i.test(o)?"bottom":"middle"),lineHeight:u=1,lineWidth:l=1/0,textOverflow:c,monospace:f,fontFamily:h=(f?"ui-monospace, monospace":void 0),fontSize:d,fontStyle:p,fontVariant:m,fontWeight:g,rotate:y}=e,[v,w]=vB(y,0),[b,x]=function(t){return null==t||"number"==typeof t?[void 0,t]:"string"!=typeof t?[t,void 0]:(t=t.trim().toLowerCase(),aP.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}(d);var _;if(super(t,{x:{value:n,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},fontSize:{value:b,optional:!0},rotate:{value:(_=v,null==_?null:{transform:t=>tB(t,_,Float64Array),label:IB(_)}),optional:!0},text:{value:i,filter:NT,optional:!0}},e,JR),this.rotate=w,this.textAnchor=vz(a,"middle"),this.lineAnchor=bB(s,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+u,this.lineWidth=+l,this.textOverflow=tP(c),this.monospace=!!f,this.fontFamily=uB(h),this.fontSize=x,this.fontStyle=uB(p),this.fontVariant=uB(m),this.fontWeight=uB(g),this.frameAnchor=tO(o),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${l}`);this.splitLines=fP(this),this.clipLine=hP(this)}render(t,e,n,r,i){const{x:o,y:a}=e,{x:s,y:u,rotate:l,text:c,title:f,fontSize:h}=n,{rotate:d}=this,[p,m]=Dz(this,r);return Az("svg:g",i).call(dz,this,r,i).call(oP,this,c,r).call(yz,this,{x:s&&o,y:u&&a}).call((e=>e.selectAll().data(t).enter().append("text").call(pz,this).call(eP,this,c,f).attr("transform",KR`translate(${s?t=>s[t]:p},${u?t=>u[t]:m})${l?t=>` rotate(${l[t]})`:d?` rotate(${d})`:""}`).call(gz,"font-size",h&&(t=>h[t])).call(lz,this,n))).node()}}function tP(t){return null==t?null:bB(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function eP(t,e,n,r){if(!n)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:s,clipLine:u}=e;t.each((function(t){const e=s(tz(n[t])??"").map(u),l=e.length,c="top"===i?.71:"bottom"===i?1-l:(164-100*l)/200;if(l>1){let t=0;for(let n=0;n<l;++n){if(++t,!e[n])continue;const r=this.ownerDocument.createElementNS(Xy.svg,"tspan");r.setAttribute("x",0),n===t-1?r.setAttribute("y",(c+n)*o+"em"):r.setAttribute("dy",t*o+"em"),r.textContent=e[n],this.appendChild(r),t=0}}else c&&this.setAttribute("y",c*o+"em"),this.textContent=e[0];if(a&&!r&&e[0]!==n[t]){const e=this.ownerDocument.createElementNS(Xy.svg,"title");e.textContent=n[t],this.appendChild(e)}}))}function nP(t,{x:e,y:n,...r}={}){return void 0===r.frameAnchor&&([e,n]=CB(e,n)),new QR(t,{...r,x:e,y:n})}function rP(t,{x:e=aB,...n}={}){return new QR(t,function(t={}){return qR("y",$R,t)}({...n,x:e}))}function iP(t,{y:e=aB,...n}={}){return new QR(t,function(t={}){return qR("x",PR,t)}({...n,y:e}))}function oP(t,e,n){gz(t,"text-anchor",e.textAnchor),gz(t,"font-family",e.fontFamily),gz(t,"font-size",e.fontSize),gz(t,"font-style",e.fontStyle),gz(t,"font-variant",void 0===e.fontVariant?function(t){return t&&(function(t){for(const e of t)if(null!=e)return"number"==typeof e}(t)||WB(t))?"tabular-nums":void 0}(n):e.fontVariant),gz(t,"font-weight",e.fontWeight)}const aP=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function sP(t,e,n){const r=[];let i,o=0;for(const[a,s,u]of function*(t){let e=0,n=0;const r=t.length;for(;n<r;){let r=1;switch(t[n]){case GR:case"-":++n,yield[e,n,!1],e=n;break;case" ":for(yield[e,n,!1];" "===t[++n];);e=n;break;case"\r":"\n"===t[n+1]&&++r;case"\n":yield[e,n,!0],n+=r,e=n;break;default:++n}}yield[e,n,!0]}(t))void 0===i&&(i=a),o>i&&n(t,i,s)>e&&(r.push(t.slice(i,o)+(t[o-1]===GR?"-":"")),i=a),u?(r.push(t.slice(i,s)),i=void 0):o=s;return r}const uP={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function lP(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=wP(t,i))r+=uP[t[i]]??(xP(t,i)?120:uP.e);return r}function cP(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=wP(t,i))r+=xP(t,i)?200:100;return r}function fP({monospace:t,lineWidth:e,textOverflow:n}){if(null!=n||e==1/0)return t=>t.split(/\r\n?|\n/g);const r=t?cP:lP,i=100*e;return t=>sP(t,i,r)}function hP({monospace:t,lineWidth:e,textOverflow:n}){if(null==n||e==1/0)return t=>t;const r=t?cP:lP,i=100*e;switch(n){case"clip-start":return t=>gP(t,i,r,"");case"clip-end":return t=>mP(t,i,r,"");case"ellipsis-start":return t=>gP(t,i,r,dP);case"ellipsis-middle":return t=>function(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const o=n(r)/2,[a,s]=pP(t,e/2,n,o),[u]=pP(t,i-e/2-s+o,n,-o);return u<0?r:t.slice(0,a).trimEnd()+r+t.slice(wP(t,u)).trimStart()}(t,i,r,dP);case"ellipsis-end":return t=>mP(t,i,r,dP)}}const dP="…";function pP(t,e,n,r){const i=[];let o=0;for(let a=0,s=0,u=t.length;a<u;a=s){s=wP(t,a);const u=n(t,a,s);if(o+u>e){for(o+=r;o>e&&a>0;)s=a,a=i.pop(),o-=n(t,a,s);return[a,e-o]}o+=u,i.push(a)}return[-1,0]}function mP(t,e,n,r){t=t.trim();const i=n(r),[o]=pP(t,e,n,i);return o<0?t:t.slice(0,o).trimEnd()+r}function gP(t,e,n,r){const i=n(t=t.trim());if(i<=e)return t;const o=n(r),[a]=pP(t,i-e+o,n,-o);return a<0?r:r+t.slice(wP(t,a)).trimStart()}const yP=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,vP=/\p{Extended_Pictographic}/uy;function wP(t,e){return e+=function(t,e){const n=t.charCodeAt(e);if(n>=55296&&n<56320){const n=t.charCodeAt(e+1);return n>=56320&&n<57344}return!1}(t,e)?2:1,function(t,e){return!bP(t,e)&&(yP.lastIndex=e,yP.test(t))}(t,e)&&(e=yP.lastIndex),function(t,e){return 8205===t.charCodeAt(e)}(t,e)?wP(t,e+1):e}function bP(t,e){return t.charCodeAt(e)<128}function xP(t,e){return!bP(t,e)&&(vP.lastIndex=e,vP.test(t))}const _P={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},DP=3.5,EP=5*DP,AP={draw(t,e,n){const r=e*n/EP;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-r,r-e),t.lineTo(0,-e),t.lineTo(r,r-e)}},MP={draw(t,e,n){t.moveTo(-n,0),t.lineTo(0,-e),t.lineTo(n,0)}},SP=new Map([["arrow",AP],["spike",MP]]);class CP extends dR{constructor(t,e={}){const{x:n,y:r,r:i=DP,length:o,rotate:a,shape:s=AP,anchor:u="middle",frameAnchor:l}=e,[c,f]=vB(o,12),[h,d]=vB(a,0);super(t,{x:{value:n,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},length:{value:c,scale:"length",optional:!0},rotate:{value:h,optional:!0}},e,_P),this.r=+i,this.length=f,this.rotate=d,this.shape=function(t){if(function(t){return t&&"function"==typeof t.draw}(t))return t;const e=SP.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}(s),this.anchor=bB(u,"anchor",["start","middle","end"]),this.frameAnchor=tO(l)}render(t,e,n,r,i){const{x:o,y:a}=e,{x:s,y:u,length:l,rotate:c}=n,{length:f,rotate:h,anchor:d,shape:p,r:m}=this,[g,y]=Dz(this,r);return Az("svg:g",i).call(dz,this,r,i).call(yz,this,{x:s&&o,y:u&&a}).call((e=>e.selectAll().data(t).enter().append("path").call(pz,this).attr("transform",KR`translate(${s?t=>s[t]:g},${u?t=>u[t]:y})${c?t=>` rotate(${c[t]})`:h?` rotate(${h})`:""}${"start"===d?"":"end"===d?l?t=>` translate(0,${l[t]})`:` translate(0,${f})`:l?t=>` translate(0,${l[t]/2})`:` translate(0,${f/2})`}`).attr("d",l?t=>{const e=r_();return p.draw(e,l[t],m),e}:(()=>{const t=r_();return p.draw(t,f,m),t})()).call(lz,this,n))).node()}}function kP(t,e={}){const{x:n=aB,...r}=e;return new CP(t,{...r,x:n})}function FP(t,e={}){const{y:n=aB,...r}=e;return new CP(t,{...r,y:n})}function NP(t,e){return arguments.length<2&&!UB(t)&&(e=t,t=null),void 0===e&&(e={}),[t,e]}function TP({anchor:t}={},e){return void 0===t?e[0]:bB(t,"anchor",e)}function BP(t){return TP(t,["left","right"])}function OP(t){return TP(t,["right","left"])}function zP(t){return TP(t,["bottom","top"])}function IP(t){return TP(t,["top","bottom"])}function RP(){const[t,e]=NP(...arguments);return LP("y",BP(e),t,e)}function PP(){const[t,e]=NP(...arguments);return LP("fy",OP(e),t,e)}function $P(){const[t,e]=NP(...arguments);return UP("x",zP(e),t,e)}function jP(){const[t,e]=NP(...arguments);return UP("fx",IP(e),t,e)}function LP(t,e,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:s=1,fill:u=r,fillOpacity:l=i,textAnchor:c,textStroke:f,textStrokeOpacity:h,textStrokeWidth:d,tickSize:p=("y"===t?6:0),tickPadding:m,tickRotate:g,x:y,margin:v,marginTop:w=(void 0===v?20:v),marginRight:b=(void 0===v?"right"===e?40:0:v),marginBottom:x=(void 0===v?20:v),marginLeft:_=(void 0===v?"left"===e?40:0:v),label:D,labelAnchor:E,labelArrow:A,labelOffset:M,...S}){return p=lB(p),m=lB(m),g=lB(g),void 0!==E&&(E=bB(E,"labelAnchor",["center","top","bottom"])),A=a$(A),pR(p&&!JB(o)?function(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=e+("y"===t?"-empty":""),frameAnchor:s=e,tickSize:u,inset:l=0,insetLeft:c=l,insetRight:f=l,dx:h=0,y:d=("y"===t?void 0:null),...p}){return JP(FP,t,`${t}-axis tick`,n,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:s,y:d,...p,dx:"left"===e?+h-rz+ +c:+h+rz-f,anchor:"start",length:u,shape:"left"===e?n$:r$})}(t,e,n,{stroke:o,strokeOpacity:a,strokeWidth:s,tickSize:p,tickPadding:m,tickRotate:g,x:y,...S}):null,JB(u)?null:function(t,e,n,{facetAnchor:r=e+("y"===t?"-empty":""),frameAnchor:i=e,tickSize:o,tickRotate:a=0,tickPadding:s=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*SR):0),tickFormat:u,text:l=("function"==typeof u?u:void 0),textAnchor:c=(Math.abs(a)>60?"middle":"left"===e?"end":"start"),lineAnchor:f=(a>60?"top":a<-60?"bottom":"middle"),fontVariant:h,inset:d=0,insetLeft:p=d,insetRight:m=d,dx:g=0,y:y=("y"===t?void 0:null),...v}){return JP(iP,t,`${t}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:void 0===l?null:l,textAnchor:c,lineAnchor:f,fontVariant:h,rotate:a,y:y,...v,dx:"left"===e?+g-o-s+ +p:+g+ +o+ +s-m},(function(t,n,r,i){void 0===h&&(this.fontVariant=i$(t)),void 0===l&&(i.text=GP(t,n,r,u,e))}))}(t,e,n,{fill:u,fillOpacity:l,stroke:f,strokeOpacity:h,strokeWidth:d,textAnchor:c,tickSize:p,tickPadding:m,tickRotate:g,x:y,marginTop:w,marginRight:b,marginBottom:x,marginLeft:_,...S}),JB(u)||null===D?null:nP([],KP({fill:u,fillOpacity:l,...S},(function(n,r,i,o,a){const s=o[t],{marginTop:u,marginRight:l,marginBottom:c,marginLeft:f}="y"===t&&a.inset||a,h=E??(s.bandwidth?"center":"top"),d=M??("right"===e?l:f)-3;return"center"===h?(this.textAnchor=void 0,this.lineAnchor="right"===e?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor="right"===e?"end":"start",this.lineAnchor=h,this.frameAnchor=`${h}-${e}`,this.rotate=0),this.dy="top"===h?3-u:"bottom"===h?c-3:0,this.dx="right"===e?d:-d,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[o$(t,s,{anchor:e,label:D,labelAnchor:h,labelArrow:A})]}}}}))))}function UP(t,e,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:s=1,fill:u=r,fillOpacity:l=i,textAnchor:c,textStroke:f,textStrokeOpacity:h,textStrokeWidth:d,tickSize:p=("x"===t?6:0),tickPadding:m,tickRotate:g,y:y,margin:v,marginTop:w=(void 0===v?"top"===e?30:0:v),marginRight:b=(void 0===v?20:v),marginBottom:x=(void 0===v?"bottom"===e?30:0:v),marginLeft:_=(void 0===v?20:v),label:D,labelAnchor:E,labelArrow:A,labelOffset:M,...S}){return p=lB(p),m=lB(m),g=lB(g),void 0!==E&&(E=bB(E,"labelAnchor",["center","left","right"])),A=a$(A),pR(p&&!JB(o)?function(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=e+("x"===t?"-empty":""),frameAnchor:s=e,tickSize:u,inset:l=0,insetTop:c=l,insetBottom:f=l,dy:h=0,x:d=("x"===t?void 0:null),...p}){return JP(kP,t,`${t}-axis tick`,n,{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:s,x:d,...p,dy:"bottom"===e?+h-rz-f:+h+rz+ +c,anchor:"start",length:u,shape:"bottom"===e?t$:e$})}(t,e,n,{stroke:o,strokeOpacity:a,strokeWidth:s,tickSize:p,tickPadding:m,tickRotate:g,y:y,...S}):null,JB(u)?null:function(t,e,n,{facetAnchor:r=e+("x"===t?"-empty":""),frameAnchor:i=e,tickSize:o,tickRotate:a=0,tickPadding:s=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*SR):0),tickFormat:u,text:l=("function"==typeof u?u:void 0),textAnchor:c=(Math.abs(a)>=10?a<0^"bottom"===e?"start":"end":"middle"),lineAnchor:f=(Math.abs(a)>=10?"middle":"bottom"===e?"top":"bottom"),fontVariant:h,inset:d=0,insetTop:p=d,insetBottom:m=d,dy:g=0,x:y=("x"===t?void 0:null),...v}){return JP(rP,t,`${t}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:void 0===l?null:l,textAnchor:c,lineAnchor:f,fontVariant:h,rotate:a,x:y,...v,dy:"bottom"===e?+g+ +o+ +s-m:+g-o-s+ +p},(function(t,n,r,i){void 0===h&&(this.fontVariant=i$(t)),void 0===l&&(i.text=GP(t,n,r,u,e))}))}(t,e,n,{fill:u,fillOpacity:l,stroke:f,strokeOpacity:h,strokeWidth:d,textAnchor:c,tickSize:p,tickPadding:m,tickRotate:g,y:y,marginTop:w,marginRight:b,marginBottom:x,marginLeft:_,...S}),JB(u)||null===D?null:nP([],KP({fill:u,fillOpacity:l,...S},(function(n,r,i,o,a){const s=o[t],{marginTop:u,marginRight:l,marginBottom:c,marginLeft:f}="x"===t&&a.inset||a,h=E??(s.bandwidth?"center":"right"),d=M??("top"===e?u:c)-3;return"center"===h?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${h}`,this.textAnchor="right"===h?"end":"start"),this.lineAnchor=e,this.dy="top"===e?-d:d,this.dx="right"===h?l-3:"left"===h?3-f:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[o$(t,s,{anchor:e,label:D,labelAnchor:h,labelArrow:A})]}}}}))))}function qP(){const[t,e]=NP(...arguments);return ZP("y",BP(e),t,e)}function VP(){const[t,e]=NP(...arguments);return ZP("fy",OP(e),t,e)}function WP(){const[t,e]=NP(...arguments);return YP("x",zP(e),t,e)}function HP(){const[t,e]=NP(...arguments);return YP("fx",IP(e),t,e)}function ZP(t,e,n,{y:r=("y"===t?void 0:null),x:i=null,x1:o=("left"===e?i:null),x2:a=("right"===e?i:null),...s}){return JP(YR,t,`${t}-grid`,n,{y:r,x1:o,x2:a,...XP(s)})}function YP(t,e,n,{x:r=("x"===t?void 0:null),y:i=null,y1:o=("top"===e?i:null),y2:a=("bottom"===e?i:null),...s}){return JP(ZR,t,`${t}-grid`,n,{x:r,y1:o,y2:a,...XP(s)})}function XP({color:t="currentColor",opacity:e=.1,stroke:n=t,strokeOpacity:r=e,strokeWidth:i=1,...o}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...o}}function KP({fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontWeight:o,monospace:a,pointerEvents:s,shapeRendering:u,clip:l=!1},c){return[,t]=yB(t),[,e]=vB(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontWeight:o,monospace:a,pointerEvents:s,shapeRendering:u,clip:l,initializer:c}}function JP(t,e,n,r,i,o){let a;const s=yO(i).initializer,u=t(r,yO({...i,initializer:function(t,n,r,s,u,l){const c=null==t&&("fx"===e||"fy"===e),{[e]:f}=s;if(!f)throw new Error(`missing scale: ${e}`);let{ticks:h,tickSpacing:d,interval:p}=i;if(VI(f)&&"string"==typeof h&&(p=h,h=void 0),null==t){if(UB(h))t=xB(h);else if(f.ticks)if(void 0!==h)t=f.ticks(h);else if(p=jB(void 0===p?f.interval:p,f.type),void 0!==p){const[e,n]=Lg(f.domain());t=p.range(e,p.offset(p.floor(n)))}else{const[n,r]=Lg(f.range());h=(r-n)/(void 0===d?"x"===e?80:35:d),t=f.ticks(h)}else t=f.domain();"y"===e||"x"===e?n=[FB(t)]:a[e]={scale:e,value:aB}}o?.call(this,f,t,h,a);const m=Object.fromEntries(Object.entries(a).map((([e,n])=>[e,{...n,value:tB(t,n.value)}])));return c&&(n=l.filterFacets(t,m)),{data:t,facets:n,channels:m}}},s));return null==r?(a=u.channels,u.channels={}):a={},u.ariaLabel=n,void 0===u.clip&&(u.clip=!1),u}function GP(t,e,n,r,i){return{value:QP(t,e,n,r,i)}}function QP(t,e,n,r,i){return void 0===r&&VI(t)?KT(t,e,n,i):t.tickFormat?t.tickFormat(UB(n)?null:n,r):void 0===r?function(t){if(!t)return!1;const e=t.floor(new Date(Date.UTC(2e3,11,31)));return IS(e)>=e}(t.interval)?ZS("%Y"):function(t){if(!t)return!1;const e=t.floor(new Date(2e3,11,31));return zS(e)>=e}(t.interval)?HS("%Y"):tz:"string"==typeof r?(WB(t.domain())?ZS:eD)(r):hB(r)}const t$={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},e$={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},n$={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},r$={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function i$(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function o$(t,e,{anchor:n,label:r=e.label,labelAnchor:i,labelArrow:o}={}){if(!(null==r||r.inferred&&function(t){return VI(t)||null!=t.interval}(e)&&/^(date|time|year)$/i.test(r))){if(r=String(r),"auto"===o&&(o=(!e.bandwidth||e.interval)&&!/[↑↓→←]/.test(r)),!o)return r;if(!0===o){const n=function(t){return Math.sign(eO(t.domain()))*Math.sign(eO(t.range()))}(e);n&&(o=/x$/.test(t)||"center"===i?/x$/.test(t)===n<0?"left":"right":n<0?"up":"down")}switch(o){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return"right"===n?`${r} ↑`:`↑ ${r}`;case"down":return"right"===n?`${r} ↓`:`↓ ${r}`}return r}}function a$(t="auto"){return!JB(t)&&("boolean"==typeof t?t:bB(t,"labelArrow",["auto","up","right","down","left"]))}function s$(t,e){if(null==e)return e;const n=t(e);if(!n)throw new Error(`scale not found: ${e}`);return n}function u$(t,e={},n){let{columns:r,tickFormat:i,fontVariant:o=AR(t),swatchSize:a=15,swatchWidth:s=a,swatchHeight:u=a,marginLeft:l=0,className:c,style:f,width:h}=e;const d=Ez(e);c=xz(c),"function"!=typeof i&&(i=QP(t.scale,t.domain,void 0,i));const p=Az("div",d).attr("class",`${c}-swatches ${c}-swatches-${null!=r?"columns":"wrap"}`);let m;return null!=r?(m=`.${c}-swatches-columns .${c}-swatch {\n  display: flex;\n  align-items: center;\n  break-inside: avoid;\n  padding-bottom: 1px;\n}\n.${c}-swatches-columns .${c}-swatch::before {\n  flex-shrink: 0;\n}\n.${c}-swatches-columns .${c}-swatch-label {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${c}-swatch`).call(n,t,s,u).call((t=>t.append("div").attr("class",`${c}-swatch-label`).attr("title",i).text(i)))):(m=`.${c}-swatches-wrap {\n  display: flex;\n  align-items: center;\n  min-height: 33px;\n  flex-wrap: wrap;\n}\n.${c}-swatches-wrap .${c}-swatch {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 1em;\n}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${c}-swatch`).call(n,t,s,u).append((function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))}))),p.call((t=>t.insert("style","*").text(`.${c}-swatches {\n  font-family: system-ui, sans-serif;\n  font-size: 10px;\n  margin-bottom: 0.5em;\n}\n.${c}-swatch > svg {\n  margin-right: 0.5em;\n  overflow: visible;\n}\n${m}`))).style("margin-left",l?+l+"px":null).style("width",void 0===h?null:+h+"px").style("font-variant",vz(o,"normal")).call(_z,f).node()}const l$=new Map([["symbol",function(t,{fill:e=(void 0!==t.hint?.fill?t.hint.fill:"none"),fillOpacity:n=1,stroke:r=(void 0!==t.hint?.stroke?t.hint.stroke:JB(e)?"currentColor":"none"),strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...s}={},u){const[l,c]=yB(e),[f,h]=yB(r),d=s$(u,l),p=s$(u,f),m=a*a*Math.PI;return n=vB(n)[1],i=vB(i)[1],o=vB(o)[1],u$(t,s,((e,r,a,s)=>e.append("svg").attr("viewBox","-8 -8 16 16").attr("width",a).attr("height",s).attr("fill","color"===l?t=>d.scale(t):c).attr("fill-opacity",n).attr("stroke","color"===f?t=>p.scale(t):h).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",(e=>{const n=r_();return t.scale(e).draw(n,m),n}))))}],["color",f$],["opacity",function({type:t,interpolate:e,...n},{legend:r=!0,color:i=kw(0,0,0),...o}){if(!e)throw new Error(`${t} opacity scales are not supported`);!0===r&&(r="ramp");if("ramp"!==`${r}`.toLowerCase())throw new Error(`${r} opacity legends are not supported`);return f$({type:t,...n,interpolate:h$(i)},{legend:r,...o})}]]);function c$({className:t,...e},{label:n,ticks:r,tickFormat:i}={},o){return function(t={},...e){let n=t;for(const r of e)for(const e in r)if(void 0===n[e]){const i=r[e];n===t?n={...n,[e]:i}:n[e]=i}return n}(o,{className:t,...e},{label:n,ticks:r,tickFormat:i})}function f$(t,{legend:e=!0,...n}){if(!0===e&&(e="ordinal"===t.type?"swatches":"ramp"),void 0!==t.domain)switch(`${e}`.toLowerCase()){case"swatches":return function(t,{opacity:e,...n}={}){if(!WI(t)&&!HI(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return u$(t,n,((t,n,r,i)=>t.append("svg").attr("width",r).attr("height",i).attr("fill",n.scale).attr("fill-opacity",vB(e)[1]).append("rect").attr("width","100%").attr("height","100%")))}(t,n);case"ramp":return MR(t,n);default:throw new Error(`unknown legend type: ${e}`)}}function h$(t){const{r:e,g:n,b:r}=kw(t)||kw(0,0,0);return t=>`rgba(${e},${n},${r},${t})`}const d$={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},p$={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class m$ extends dR{constructor(t={}){const{anchor:e=null,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:o=n,insetLeft:a=n,rx:s,ry:u}=t;super(rB,void 0,t,null==e?d$:p$),this.anchor=wB(e,"anchor",["top","right","bottom","left"]),this.insetTop=lB(r),this.insetRight=lB(i),this.insetBottom=lB(o),this.insetLeft=lB(a),this.rx=lB(s),this.ry=lB(u)}render(t,e,n,r,i){const{marginTop:o,marginRight:a,marginBottom:s,marginLeft:u,width:l,height:c}=r,{anchor:f,insetTop:h,insetRight:d,insetBottom:p,insetLeft:m,rx:g,ry:y}=this,v=u+m,w=l-a-d,b=o+h,x=c-s-p;return Az(f?"svg:line":"svg:rect",i).datum(0).call(dz,this,r,i).call(pz,this).call(lz,this,n).call(yz,this,{}).call("left"===f?t=>t.attr("x1",v).attr("x2",v).attr("y1",b).attr("y2",x):"right"===f?t=>t.attr("x1",w).attr("x2",w).attr("y1",b).attr("y2",x):"top"===f?t=>t.attr("x1",v).attr("x2",w).attr("y1",b).attr("y2",b):"bottom"===f?t=>t.attr("x1",v).attr("x2",w).attr("y1",x).attr("y2",x):t=>t.attr("x",v).attr("y",b).attr("width",w-v).attr("height",x-b).attr("rx",g).attr("ry",y)).node()}}const g$={ariaLabel:"tip",fill:"white",stroke:"currentColor"},y$=new Set(["geometry","href","src","ariaLabel"]);class v$ extends dR{constructor(t,e={}){e.tip&&(e={...e,tip:!1}),void 0===e.title&&UB(t)&&qB(t)&&(e={...e,title:aB});const{x:n,y:r,x1:i,x2:o,y1:a,y2:s,anchor:u,monospace:l,fontFamily:c=(l?"ui-monospace, monospace":void 0),fontSize:f,fontStyle:h,fontVariant:d,fontWeight:p,lineHeight:m=1,lineWidth:g=20,frameAnchor:y,textAnchor:v="start",textOverflow:w,textPadding:b=8,title:x,pointerSize:_=12,pathFilter:D="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=e;super(t,{x:{value:null!=i&&null!=o?null:n,scale:"x",optional:!0},y:{value:null!=a&&null!=s?null:r,scale:"y",optional:!0},x1:{value:i,scale:"x",optional:null==o},y1:{value:a,scale:"y",optional:null==s},x2:{value:o,scale:"x",optional:null==i},y2:{value:s,scale:"y",optional:null==a},title:{value:x,optional:!0}},e,g$),this.anchor=QB(u,"anchor"),this.previousAnchor=this.anchor??"top-left",this.frameAnchor=tO(y),this.textAnchor=vz(v,"middle"),this.textPadding=+b,this.pointerSize=+_,this.pathFilter=uB(D),this.lineHeight=+m,this.lineWidth=+g,this.textOverflow=tP(w),this.monospace=!!l,this.fontFamily=uB(c),this.fontSize=lB(f),this.fontStyle=uB(h),this.fontVariant=uB(d),this.fontWeight=uB(p);for(const t in g$)t in this.channels&&(this[t]=g$[t]);this.splitLines=fP(this),this.clipLine=hP(this)}render(t,e,n,r,i){const o=this,{x:a,y:s,fx:u,fy:l}=e,{ownerSVGElement:c,document:f}=i,{anchor:h,monospace:d,lineHeight:p,lineWidth:m}=this,{textPadding:g,pointerSize:y,pathFilter:v}=this,{marginTop:w,marginLeft:b}=r,x=function({channels:t}){const e={};for(const n in t){if(y$.has(n))continue;const r=JO(t,n);r&&(e[n]=r)}return e}(n),{x1:_,y1:D,x2:E,y2:A,x:M=_??E,y:S=D??A}=n,C=u?u(t.fx)-b:0,k=l?l(t.fy)-w:0,[F,N]=Dz(this,r),T=DR(n,F),B=ER(n,N),O=d?cP:lP,z=O(dP),I=u&&QP(u),R=l&&QP(l);const P=Az("svg:g",i).call(dz,this,r,i).call(oP,this).call(yz,this,{x:M&&a,y:S&&s}).call((r=>r.selectAll().data(t).enter().append("g").attr("transform",(t=>`translate(${Math.round(T(t))},${Math.round(B(t))})`)).call(pz,this).call((t=>t.append("path").attr("filter",v))).call((r=>r.append("text").each((function(r){const i=aw(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const a=new Set;for(const s of function*(r,i){if("title"in r){const t=r.title.value[i];for(const e of o.splitLines(tz(t)))yield{name:"",value:o.clipLine(e)}}else{for(const t in r){if("x1"===t&&"x2"in r)continue;if("y1"===t&&"y2"in r)continue;const o=r[t],a=o.value[i];if(CT(a)||null!=o.scale)if("x2"===t&&"x1"in r)yield{name:x$(e,r.x1,o,"x"),value:b$(r.x1,o,i)};else if("y2"===t&&"y1"in r)yield{name:x$(e,r.y1,o,"y"),value:b$(r.y1,o,i)};else{const r=o.scale,s={name:_$(e,o,t),value:tz(a)};"color"!==r&&"opacity"!==r||(s[r]=n[t][i]),yield s}}null!=t.fi&&u&&(yield{name:String(u.label??"fx"),value:I(t.fx)}),null!=t.fi&&l&&(yield{name:String(l.label??"fy"),value:R(t.fy)})}}(x,r)){const t=s.name;t&&a.has(t)||(a.add(t),$(i,s))}}))))));function $(t,{name:e,value:n,color:r,opacity:i}){const o=null!=r||null!=i;let a,s=100*m;const[u]=pP(e,s,O,z);if(u>=0)e=e.slice(0,u).trimEnd()+dP,a=n.trim(),n="";else{(e||!n&&!o)&&(n=" "+n);const[t]=pP(n,s-O(e),O,z);t>=0&&(a=(n=n.slice(0,t).trimEnd()+dP).trim())}const l=t.append("tspan").attr("x",0).attr("dy",`${p}em`).text("​");e&&l.append("tspan").attr("font-weight","bold").text(e),n&&l.append((()=>f.createTextNode(n))),o&&l.append("tspan").text(" ■").attr("fill",r).attr("fill-opacity",i).style("user-select","none"),a&&l.append("title").text(a)}function j(){const{width:t,height:e}=r.facet??r;P.selectChildren().each((function(n){let{x:r,width:i,height:a}=this.getBBox();i=Math.round(i),a=Math.round(a);let s=h;if(void 0===s){s=o.previousAnchor;const r=T(n)+C,u=B(n)+k,l=r+i+2*g<t,c=r-i-2*g>0,f=u+a+y+2*g+7<e,h=u-a-y-2*g>0,d=(/-left$/.test(s)?l||!c:l&&!c)?"left":"right",p=(/^top-/.test(s)?f||!h:f&&!h)?"top":"bottom";s=o.previousAnchor=`${p}-${d}`}const u=this.firstChild,l=this.lastChild;if(u.setAttribute("d",function(t,e,n,r,i){const o=r+2*n,a=i+2*n;switch(t){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${e},${e}h${o-e}v${a}h${-o}z`;case"top":return`M0,0l${e/2},${e/2}h${(o-e)/2}v${a}h${-o}v${-a}h${(o-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-o}v${a}h${o}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-a/2}h${-o}v${a}h${o}v${e/2-a/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${o-e}v${-a}h${-o}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(o-e)/2}v${-a}h${-o}v${a}h${(o-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-o}v${-a}h${o}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-a/2}h${o}v${a}h${-o}v${e/2-a/2}z`}}(s,y,g,i,a)),r)for(const t of l.childNodes)t.setAttribute("x",-r);l.setAttribute("y",+function(t,e,n){return/^top(?:-|$)/.test(t)?.94-n:-.29-e*n}(s,l.childNodes.length,p).toFixed(6)+"em"),l.setAttribute("transform",`translate(${function(t,e,n,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[n,e+n];case"top":return[-r/2,e/2+n];case"top-right":return[-r-n,e+n];case"right":return[-e/2-r-n,i/2];case"bottom-left":return[n,-e-n];case"bottom":return[-r/2,-e/2-n];case"bottom-right":return[-r-n,-e-n];case"left":return[n+e/2,i/2]}}(s,y,g,i,a)})`)}))}return c.isConnected?Promise.resolve().then(j):"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(j),P.node()}}function w$(t,{x:e,y:n,...r}={}){return void 0===r.frameAnchor&&([e,n]=CB(e,n)),new v$(t,{...r,x:e,y:n})}function b$(t,e,n){return e.hint?.length?`${tz(e.value[n]-t.value[n])}`:`${tz(t.value[n])}–${tz(e.value[n])}`}function x$(t,e,n,r){const i=_$(t,e,r),o=_$(t,n,r);return i===o?i:`${i}–${o}`}function _$(t,e,n){return String(t[e.scale]?.label??e?.label??n)}function D$(t={}){const{facet:e,style:n,title:r,subtitle:i,caption:o,ariaLabel:a,ariaDescription:s}=t,u=xz(t.className),l=void 0===t.marks?[]:A$(t.marks);l.push(...function(t){const e=[];for(const n of t){const t=n.tip;if(t){const r=("x"===t?xR:"y"===t?_R:bR)(O$(n));r.title=null,e.push(w$(n.data,r))}}return e}(l));const c=function(t,e){if(null==t)return;const{x:n,y:r}=t;if(null==n&&null==r)return;const i=xB(t.data);if(null==i)throw new Error("missing facet data");const o={};null!=n&&(o.fx=UO(i,{value:n,scale:"fx"}));null!=r&&(o.fy=UO(i,{value:r,scale:"fy"}));C$(o,e);const a=tR(i,o);return{channels:o,groups:a,data:t.data}}(e,t),f=new Map;for(const e of l){const n=B$(e,c,t);n&&f.set(e,n)}const h=new Map;c&&N$(h,[c],t),N$(h,f,t);const d=A$(function(t,e,n){let{projection:r,x:i={},y:o={},fx:a={},fy:s={},axis:u,grid:l,facet:c={},facet:{axis:f=u,grid:h}=c,x:{axis:d=u,grid:p=(null===d?null:l)}=i,y:{axis:m=u,grid:g=(null===m?null:l)}=o,fx:{axis:y=f,grid:v=(null===y?null:h)}=a,fy:{axis:w=f,grid:b=(null===w?null:h)}=s}=n;(r||!AB(i)&&!$$("x",t))&&(d=p=null);(r||!AB(o)&&!$$("y",t))&&(m=g=null);e.has("fx")||(y=v=null);e.has("fy")||(w=b=null);void 0===d&&(d=!P$(t,"x"));void 0===m&&(m=!P$(t,"y"));void 0===y&&(y=!P$(t,"fx"));void 0===w&&(w=!P$(t,"fy"));!0===d&&(d="bottom");!0===m&&(m="left");!0===y&&(y="top"===d||null===d?"bottom":"top");!0===w&&(w="right"===m||null===m?"left":"right");const x=[];return I$(x,b,VP,s),z$(x,w,PP,"right","left",c,s),I$(x,v,HP,a),z$(x,y,jP,"top","bottom",c,a),I$(x,g,qP,o),z$(x,m,RP,"left","right",n,o),I$(x,p,WP,i),z$(x,d,$P,"bottom","top",n,i),x}(l,h,t));for(const e of d){const n=B$(e,c,t);n&&f.set(e,n)}l.unshift(...d);let p=QI(h,t);if(void 0!==p){const t=c?hR(p,c):void 0;for(const e of l){if(null===e.facet||"super"===e.facet)continue;const n=f.get(e);void 0!==n&&(n.facetsIndex=null!=e.fx||null!=e.fy?hR(p,n):t)}const e=new Set;for(const{facetsIndex:t}of f.values())t?.forEach(((t,n)=>{t?.length>0&&e.add(n)}));p.forEach(0<e.size&&e.size<p.length?(t,n)=>t.empty=!e.has(n):t=>t.empty=!1);for(const t of l)if("exclude"===t.facet){const e=f.get(t);void 0!==e&&(e.facetsIndex=eR(e.facetsIndex))}}for(const e of cO.keys())AB(t[e])&&"fx"!==e&&"fy"!==e&&h.set(e,[]);const m=new Map;for(const e of l){if(m.has(e))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:n,channels:r}=f.get(e)??{},{data:i,facets:o,channels:a}=e.initialize(n,r,t);C$(a,t),m.set(e,{data:i,facets:o,channels:a})}const g=NI(N$(h,m,t),t),y=TI(g),v=function(t,e,n={}){let r=.5-rz,i=.5+rz,o=.5+rz,a=.5-rz;for(const{marginTop:t,marginRight:n,marginBottom:s,marginLeft:u}of e)t>r&&(r=t),n>i&&(i=n),s>o&&(o=s),u>a&&(a=u);let{margin:s,marginTop:u=(void 0!==s?s:r),marginRight:l=(void 0!==s?s:i),marginBottom:c=(void 0!==s?s:o),marginLeft:f=(void 0!==s?s:a)}=n;u=+u,l=+l,c=+c,f=+f;let{width:h=640,height:d=JI(t,n,{width:h,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,u-r+c-o)}=n;h=+h,d=+d;const p={width:h,height:d,marginTop:u,marginRight:l,marginBottom:c,marginLeft:f};if(t.fx||t.fy){let{margin:t,marginTop:e=(void 0!==t?t:u),marginRight:r=(void 0!==t?t:l),marginBottom:i=(void 0!==t?t:c),marginLeft:o=(void 0!==t?t:f)}=n.facet??{};e=+e,r=+r,i=+i,o=+o,p.facet={marginTop:e,marginRight:r,marginBottom:i,marginLeft:o}}return p}(g,l,t);!function(t,e){const{x:n,y:r,fx:i,fy:o}=t,a=i||o?OI(e):e;i&&II(i,a),o&&RI(o,a);const s=i||o?zI(t,e):e;n&&II(n,s),r&&RI(r,s)}(g,v);const{fx:w,fy:b}=y,x=w||b?zI(g,v):v,_=w||b?function({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:s,height:u}=OI(n),l=t&&j$(t),c=e&&j$(e);return{marginTop:e?c[0]:r,marginRight:t?s-l[1]:i,marginBottom:e?u-c[1]:o,marginLeft:t?l[0]:a,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:s,height:u}}(y,v):v,D=Ez(t),E=D.document,A=Qy("svg").call(E.documentElement);let M=A;D.ownerSVGElement=A,D.className=u,D.projection=kz(t,x),D.filterFacets=(t,e)=>hR(p,{channels:e,groups:tR(t,e)}),D.getMarkState=t=>{const e=m.get(t),n=f.get(t);return{...e,channels:{...e.channels,...n?.channels}}},D.dispatchValue=t=>{M.value!==t&&(M.value=t,M.dispatchEvent(new Event("input",{bubbles:!0})))};const S=new Set;for(const[e,n]of m)if(null!=e.initializer){const r="super"===e.facet?_:x,i=e.initializer(n.data,n.facets,n.channels,y,r,D);if(void 0!==i.data&&(n.data=i.data),void 0!==i.facets&&(n.facets=i.facets),void 0!==i.channels){const{fx:r,fy:o,...a}=i.channels;F$(a),Object.assign(n.channels,a);for(const e of Object.values(a)){const{scale:n}=e;null!=n&&((C=cO.get(n))!==rO&&C!==lO)&&(k$(e,t),S.add(n))}null==r&&null==o||f.set(e,!0)}}var C;if(S.size){const e=new Map;N$(e,m,t,(t=>S.has(t))),N$(h,m,t,(t=>S.has(t)));const n=function(t,e){for(const n in t){const r=t[n],i=e[n];void 0===r.label&&i&&(r.label=i.label)}return t}(NI(e,t),g),r=TI(n);Object.assign(g,n),Object.assign(y,r)}let k,F;void 0!==p&&(k={x:w?.domain(),y:b?.domain()},p=function(t,{x:e,y:n}){return e&&=iR(e),n&&=iR(n),t.filter(e&&n?t=>e.has(t.x)&&n.has(t.y):e?t=>e.has(t.x):t=>n.has(t.y)).sort(e&&n?(t,r)=>e.get(t.x)-e.get(r.x)||n.get(t.y)-n.get(r.y):e?(t,n)=>e.get(t.x)-e.get(n.x):(t,e)=>n.get(t.y)-n.get(e.y))}(p,k),F=function(t,e,{marginTop:n,marginLeft:r}){return t&&e?({x:i,y:o})=>`translate(${t(i)-r},${e(o)-n})`:t?({x:e})=>`translate(${t(e)-r},0)`:({y:t})=>`translate(0,${e(t)-n})`}(w,b,v));for(const[t,e]of m)e.values=t.scale(e.channels,y,D);const{width:N,height:T}=v;aw(A).attr("class",u).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",N).attr("height",T).attr("viewBox",`0 0 ${N} ${T}`).attr("aria-label",a).attr("aria-description",s).call((t=>t.append("style").text(`.${u} {\n  display: block;\n  background: white;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n}\n.${u} text,\n.${u} tspan {\n  white-space: pre;\n}`))).call(_z,n);for(const t of l){const{channels:e,values:n,facets:r}=m.get(t);if(void 0===p||"super"===t.facet){let i=null;if(r&&(i=r[0],i=t.filter(i,e,n),0===i.length))continue;const o=t.render(i,y,n,_,D);if(null==o)continue;A.appendChild(o)}else{let i;for(const o of p){if(!(t.facetAnchor?.(p,k,o)??!o.empty))continue;let a=null;if(r){const i=f.has(t);if(a=r[i?o.i:0],a=t.filter(a,e,n),0===a.length)continue;i||a!==r[0]||(a=TB(a)),a.fx=o.x,a.fy=o.y,a.fi=o.i}const s=t.render(a,y,n,x,D);if(null!=s){(i??=aw(A).append("g")).append((()=>s)).datum(o);for(const t of["aria-label","aria-description","aria-hidden","transform"])s.hasAttribute(t)&&(i.attr(t,s.getAttribute(t)),s.removeAttribute(t))}}i?.selectChildren().attr("transform",F)}}const B=function(t,e,n){const r=[];for(const[i,o]of l$){const a=n[i];if(a?.legend&&i in t){const n=o(t[i],c$(e,t[i],a),(e=>t[e]));null!=n&&r.push(n)}}return r}(g,D,t),{figure:O=null!=r||null!=i||null!=o||B.length>0}=t;O&&(M=E.createElement("figure"),M.className=`${u}-figure`,M.style.maxWidth="initial",null!=r&&M.append(E$(E,r,"h2")),null!=i&&M.append(E$(E,i,"h3")),M.append(...B,A),null!=o&&M.append(function(t,e){const n=t.createElement("figcaption");return n.append(e.ownerDocument?e:t.createTextNode(e)),n}(E,o))),M.scale=KI(g),M.legend=function(t,e,n={}){return(r,i)=>{if(!l$.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return l$.get(r)(t[r],c$(e,n[r],i),(e=>t[e]))}}(g,D,t);const z=function(){const t=ez;return ez=0,t}();return z>0&&aw(A).append("text").attr("x",N).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${z.toLocaleString("en-US")} warning${1===z?"":"s"}. Please check the console.`),M}function E$(t,e,n){if(e.ownerDocument)return e;const r=t.createElement(n);return r.append(t.createTextNode(e)),r}function A$(t){return t.flat(1/0).filter((t=>null!=t)).map(M$)}function M$(t){return"function"==typeof t.render?t:new S$(t)}dR.prototype.plot=function({marks:t=[],...e}={}){return D$({...e,marks:[...t,this]})};class S$ extends dR{constructor(t){if("function"!=typeof t)throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function C$(t,e){for(const n in t)k$(t[n],e);return t}function k$(t,e){const{scale:n,transform:r=!0}=t;if(null==n||!r)return;const{type:i,percent:o,interval:a,transform:s=(o?t=>100*t:PB(a,i))}=e[n]??{};null!=s&&(t.value=_B(t.value,s),t.transform=!1)}function F$(t){for(const e in t)qO(e,t[e])}function N$(t,e,n,r=sB){for(const{channels:i}of e.values())for(const e in i){const o=i[e],{scale:a}=o;if(null!=a&&r(a))if("projection"===a){if(!Iz(n)){const e=void 0===n.x?.domain,r=void 0===n.y?.domain;if(e||r){const[n,i]=Rz(o);e&&T$(t,"x",n),r&&T$(t,"y",i)}}}else T$(t,a,o)}return t}function T$(t,e,n){const r=t.get(e);void 0!==r?r.push(n):t.set(e,[n])}function B$(t,e,n){if(null===t.facet||"super"===t.facet)return;const{fx:r,fy:i}=t;if(null!=r||null!=i){const e=xB(t.data??r??i);if(void 0===e)throw new Error(`missing facet data in ${t.ariaLabel}`);if(null===e)return;const o={};return null!=r&&(o.fx=UO(e,{value:r,scale:"fx"})),null!=i&&(o.fy=UO(e,{value:i,scale:"fy"})),C$(o,n),{channels:o,groups:tR(e,o)}}if(void 0===e)return;const{channels:o,groups:a,data:s}=e;if("auto"!==t.facet||t.data===s)return{channels:o,groups:a};s.length>0&&(a.size>1||1===a.size&&o.fx&&o.fy&&[...a][0][1].size>1)&&xB(t.data)?.length===s.length&&nz(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function O$(t,e={}){return yO({...e,x:null,y:null},((e,n,r,i,o,a)=>a.getMarkState(t)))}function z$(t,e,n,r,i,o,a){if(!e)return;const s=/^\s*both\s*$/i.test(e);a=function(t,e,{line:n=e.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:s,tickRotate:u,fontVariant:l,ariaLabel:c,ariaDescription:f,label:h=e.label,labelAnchor:d,labelArrow:p=e.labelArrow,labelOffset:m}){return{anchor:t,line:n,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:s,tickRotate:u,fontVariant:l,ariaLabel:c,ariaDescription:f,label:h,labelAnchor:d,labelArrow:p,labelOffset:m}}(s?r:e,o,a);const{line:u}=a;n!==RP&&n!==$P||!u||GB(u)||t.push(function(t){return new m$(t)}(function(t){const{anchor:e,line:n}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:!0===n?void 0:n}}(a))),t.push(n(a)),s&&t.push(n({...a,anchor:i,label:null}))}function I$(t,e,n,r){e&&!GB(e)&&t.push(n(function(t,{stroke:e=(XB(t)?t:void 0),ticks:n=(R$(t)?t:void 0),tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:e,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:o}}(e,r)))}function R$(t){switch(typeof t){case"number":return!0;case"string":return!XB(t)}return UB(t)||"function"==typeof t?.range}function P$(t,e){const n=`${e}-axis `;return t.some((t=>t.ariaLabel?.startsWith(n)))}function $$(t,e){for(const n of e)for(const e in n.channels){const{scale:r}=n.channels[e];if(r===t||"projection"===r)return!0}return!1}function j$(t){const e=t.domain();let n=t(e[0]),r=t(e[e.length-1]);return r<n&&([n,r]=[r,n]),[n,r+t.bandwidth()]}const L$=new Map([["basis",function(t){return new IN(t)}],["basis-closed",function(t){return new RN(t)}],["basis-open",function(t){return new PN(t)}],["bundle",jN],["bump-x",function(t){return new aN(t,!0)}],["bump-y",function(t){return new aN(t,!1)}],["cardinal",qN],["cardinal-closed",WN],["cardinal-open",ZN],["catmull-rom",KN],["catmull-rom-closed",GN],["catmull-rom-open",tT],["linear",nN],["linear-closed",function(t){return new eT(t)}],["monotone-x",function(t){return new aT(t)}],["monotone-y",function(t){return new sT(t)}],["natural",function(t){return new lT(t)}],["step",function(t){return new fT(t,.5)}],["step-after",function(t){return new fT(t,1)}],["step-before",function(t){return new fT(t,0)}]]);function U$(t=q$,e){return"function"!=typeof t&&"auto"===`${t}`.toLowerCase()?q$:function(t=nN,e){if("function"==typeof t)return t;const n=L$.get(`${t}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${t}`);if(void 0!==e){if("beta"in n)return n.beta(e);if("tension"in n)return n.tension(e);if("alpha"in n)return n.alpha(e)}return n}(t,e)}function q$(t){return nN(t)}function V$(t={y:"count"},e={}){[t,e]=function({cumulative:t,domain:e,thresholds:n,interval:r,...i},o){return[i,{cumulative:t,domain:e,thresholds:n,interval:r,...o}]}(t,e);const{x:n,y:r}=e;return function(t,e,n,r,{data:i=OO,filter:o=PO,sort:a,reverse:s,...u}={},l={}){t=H$(t),e=H$(e),u=function(t,e){return function(t,e,n=SO){const r=Object.entries(t);return null!=e.title&&void 0===t.title&&r.push(["title",IO]),null!=e.href&&void 0===t.href&&r.push(["href",zO]),r.filter((([,t])=>void 0!==t)).map((([t,r])=>null===r?function(t){return{name:t,initialize(){},scope(){},reduce(){}}}(t):n(t,r,e)))}(t,e,Z$)}(u,l),i=X$(i,aB),a=null==a?void 0:Z$("sort",a,l),o=null==o?void 0:Y$("filter",o,l),null!=n&&MO(u,"x","x1","x2")&&(n=null);null!=r&&MO(u,"y","y1","y2")&&(r=null);const[c,f]=zB(t),[h,d]=zB(t),[p,m]=zB(e),[g,y]=zB(e),[v,w]=null!=n?[n,"x"]:null!=r?[r,"y"]:[],[b,x]=zB(v),{x:_,y:D,z:E,fill:A,stroke:M,x1:S,x2:C,y1:k,y2:F,domain:N,cumulative:T,thresholds:B,interval:O,...z}=l,[I,R]=zB(E),[P]=yB(A),[$]=yB(M),[j,L]=zB(P),[U,q]=zB($);return{..."z"in l&&{z:I||E},..."fill"in l&&{fill:j||A},..."stroke"in l&&{stroke:U||M},...gO(z,((n,r,l)=>{const c=function(t,e){const n=PB(e?.interval,e?.type);return n?_B(t,n):t}(tB(n,v),l?.[w]),h=tB(n,E),p=tB(n,P),g=tB(n,$),b=function(t,e){for(const n in e){const r=e[n];if(void 0!==r&&!t.some((t=>t.name===n)))return r}}(u,{z:h,fill:p,stroke:g}),_=[],D=[],A=c&&x([]),M=h&&R([]),S=p&&L([]),C=g&&q([]),k=t&&f([]),F=t&&d([]),N=e&&m([]),T=e&&y([]),B=(O=t?.(n),z=e?.(n),O&&z?function*(t){const e=O.bin(t);for(const[t,[n,r]]of O.entries()){const i=z.bin(e[t]);for(const[t,[e,o]]of z.entries())yield[i[t],{x1:n,y1:e,x2:r,y2:o}]}}:O?function*(t){const e=O.bin(t);for(const[t,[n,r]]of O.entries())yield[e[t],{x1:n,x2:r}]}:function*(t){const e=z.bin(t);for(const[t,[n,r]]of z.entries())yield[e[t],{y1:n,y2:r}]});var O,z;let I=0;for(const t of u)t.initialize(n);a&&a.initialize(n),o&&o.initialize(n);for(const t of r){const e=[];for(const e of u)e.scope("facet",t);a&&a.scope("facet",t),o&&o.scope("facet",t);for(const[r,s]of kO(t,b))for(const[t,l]of kO(s,c))for(const[s,f]of B(l))if(!o||o.reduce(s,f)){e.push(I++),D.push(i.reduceIndex(s,n,f)),c&&A.push(t),h&&M.push(b===h?r:h[s[0]]),p&&S.push(b===p?r:p[s[0]]),g&&C.push(b===g?r:g[s[0]]),k&&(k.push(f.x1),F.push(f.x2)),N&&(N.push(f.y1),T.push(f.y2));for(const t of u)t.reduce(s,f);a&&a.reduce(s)}_.push(e)}return function(t,e,n){if(e){const n=e.output.transform(),r=(t,e)=>kT(n[t],n[e]);t.forEach((t=>t.sort(r)))}n&&t.forEach((t=>t.reverse()))}(_,a,s),{data:D,facets:_}})),...!MO(u,"x")&&(c?{x1:c,x2:h,x:RB(c,h)}:{x:_,x1:S,x2:C}),...!MO(u,"y")&&(p?{y1:p,y2:g,y:RB(p,g)}:{y:D,y1:k,y2:F}),...b&&{[w]:b},...Object.fromEntries(u.map((({name:t,output:e})=>[t,e])))}}(function(t,{cumulative:e,domain:n,thresholds:r,interval:i},o){void 0===(t={...LB(t)}).domain&&(t.domain=n);void 0===t.cumulative&&(t.cumulative=e);void 0===t.thresholds&&(t.thresholds=r);void 0===t.interval&&(t.interval=i);void 0===t.value&&(t.value=o);return t.thresholds=function(t,e,n=J$){if(void 0===t)return void 0===e?n:jB(e);if("string"==typeof t){switch(t.toLowerCase()){case"freedman-diaconis":return wy;case"scott":return by;case"sturges":return cy;case"auto":return J$}return XT(t)}return t}(t.thresholds,t.interval),t}(n,e,aB),null,null,r,t,PR(e))}function W$(t={}){return function(t,e,n={}){return null==n?.interval?n:t({[e]:void 0===n?.reduce?zO:n.reduce,filter:null},n)}(V$,"y",yR(t,"x"))}function H$(t){if(null==t)return;const{value:e,cumulative:n,domain:r=Lg,thresholds:i}=t,o=t=>{let o,a=tB(t,e);if(WB(a)||function(t){return function(t){return G$(t)&&"function"==typeof t&&t()instanceof Date}(t)||UB(t)&&WB(t)}(i)){a=_B(a,gB,Float64Array);let[t,e]="function"==typeof r?r(a):r,n="function"!=typeof i||G$(i)?i:i(a,t,e);"number"==typeof n&&(n=$S(t,e,n)),G$(n)&&(r===Lg&&(t=n.floor(t),e=n.offset(n.floor(e))),n=n.range(t,n.offset(e))),o=n}else{a=dB(a);let[t,e]="function"==typeof r?r(a):r,n="function"!=typeof i||G$(i)?i:i(a,t,e);if("number"==typeof n)if(r===Lg){let r=uy(t,e,n);if(isFinite(r))if(r>0){let i=Math.round(t/r),o=Math.round(e/r);i*r<=t||--i,o*r>e||++o;let a=o-i+1;n=new Float64Array(a);for(let t=0;t<a;++t)n[t]=(i+t)*r}else if(r<0){r=-r;let i=Math.round(t*r),o=Math.round(e*r);i/r<=t||--i,o/r>e||++o;let a=o-i+1;n=new Float64Array(a);for(let t=0;t<a;++t)n[t]=(i+t)/r}else n=[t];else n=[t]}else n=sy(t,e,n);else G$(n)&&(r===Lg&&(t=n.floor(t),e=n.offset(n.floor(e))),n=n.range(t,n.offset(e)));o=n}const s=[];if(1===o.length)s.push([o[0],o[0]]);else for(let t=1;t<o.length;++t)s.push([o[t-1],o[t]]);return s.bin=(n<0?ej:n>0?tj:Q$)(s,o,a),s};return o.label=IB(e),o}function Z$(t,e,n){return SO(t,e,n,Y$)}function Y$(t,e,n){return CO(t,e,n,X$)}function X$(t,e){return FO(t,e,K$)}function K$(t){switch(`${t}`.toLowerCase()){case"x":return rj;case"x1":return oj;case"x2":return aj;case"y":return ij;case"y1":return sj;case"y2":return uj}throw new Error(`invalid bin reduce: ${t}`)}function J$(t,e,n){return Math.min(200,by(t,e,n))}function G$(t){return"function"==typeof t?.range}function Q$(t,e,n){return e=dB(e),r=>{const i=t.map((()=>[]));for(const t of r)i[Og(e,n[t])-1]?.push(t);return i}}function tj(t,e,n){const r=Q$(t,e,n);return t=>{const e=r(t);for(let t=1,n=e.length;t<n;++t){const n=e[t-1],r=e[t];for(const t of n)r.push(t)}return e}}function ej(t,e,n){const r=Q$(t,e,n);return t=>{const e=r(t);for(let t=e.length-2;t>=0;--t){const n=e[t+1],r=e[t];for(const t of n)r.push(t)}return e}}function nj(t,e){const n=(+t+ +e)/2;return t instanceof Date?new Date(n):n}const rj={reduceIndex:(t,e,{x1:n,x2:r})=>nj(n,r)},ij={reduceIndex:(t,e,{y1:n,y2:r})=>nj(n,r)},oj={reduceIndex:(t,e,{x1:n})=>n},aj={reduceIndex:(t,e,{x2:n})=>n},sj={reduceIndex:(t,e,{y1:n})=>n},uj={reduceIndex:(t,e,{y2:n})=>n},lj={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class cj extends dR{constructor(t,e={}){const{x1:n,y1:r,x2:i,y2:o,curve:a,tension:s}=e;super(t,{x1:{value:n,scale:"x"},y1:{value:r,scale:"y"},x2:{value:i,scale:"x",optional:!0},y2:{value:o,scale:"y",optional:!0}},e,lj),this.curve=U$(a,s),CR(this,e)}project(t,e,n){this.curve!==q$&&super.project(t,e,n)}render(t,e,n,r,i){const{x1:o,y1:a,x2:s=o,y2:u=a}=n,{curve:l}=this;return Az("svg:g",i).call(dz,this,r,i).call(yz,this,e).call((e=>e.selectAll().data(t).enter().append("path").call(pz,this).attr("d",l===q$&&i.projection?function(t,e,n,r,i){const o=pA(t);return e=dB(e),n=dB(n),r=dB(r),i=dB(i),t=>o({type:"LineString",coordinates:[[e[t],n[t]],[r[t],i[t]]]})}(i.projection,o,a,s,u):t=>{const e=r_(),n=l(e);return n.lineStart(),n.point(o[t],a[t]),n.point(s[t],u[t]),n.lineEnd(),e}).call(lz,this,n).call(zR,this,n,i))).node()}}function fj(t,{x:e,x1:n,x2:r,y:i,y1:o,y2:a,...s}={}){return[n,r]=hj(e,n,r),[o,a]=hj(i,o,a),new cj(t,{...s,x1:n,x2:r,y1:o,y2:a})}function hj(t,e,n){if(void 0===t){if(void 0===e){if(void 0!==n)return[n]}else if(void 0===n)return[e]}else{if(void 0===e)return void 0===n?[t]:[t,n];if(void 0===n)return[t,e]}return[e,n]}const dj={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function pj(t){return void 0===t.sort&&void 0===t.reverse?function(t,{sort:e,...n}={}){return{...(MB(t)&&void 0!==t.channel?yO:bO)(n,DO(t)),sort:SB(e)?e:null}}({channel:"-r"},t):t}class mj extends dR{constructor(t,e={}){const{x:n,y:r,r:i,rotate:o,symbol:a=lN,frameAnchor:s}=e,[u,l]=vB(o,0),[c,f]=function(t){if(null==t||dO(t))return[void 0,t];if("string"==typeof t){const e=hO.get(`${t}`.toLowerCase());if(e)return[void 0,e]}return[t,void 0]}(a),[h,d]=vB(i,null==c?3:4.5);super(t,{x:{value:n,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},r:{value:h,scale:"r",filter:BT,optional:!0},rotate:{value:u,optional:!0},symbol:{value:c,scale:"auto",optional:!0}},pj(e),dj),this.r=d,this.rotate=l,this.symbol=f,this.frameAnchor=tO(s);const{channels:p}=this,{symbol:m}=p;if(m){const{fill:t,stroke:e}=p;m.hint={fill:t?t.value===m.value?"color":"currentColor":this.fill,stroke:e?e.value===m.value?"color":"currentColor":this.stroke}}}render(t,e,n,r,i){const{x:o,y:a}=e,{x:s,y:u,r:l,rotate:c,symbol:f}=n,{r:h,rotate:d,symbol:p}=this,[m,g]=Dz(this,r),y=p===lN,v=l?void 0:h*h*Math.PI;return OT(h)&&(t=[]),Az("svg:g",i).call(dz,this,r,i).call(yz,this,{x:s&&o,y:u&&a}).call((e=>e.selectAll().data(t).enter().append(y?"circle":"path").call(pz,this).call(y?t=>{t.attr("cx",s?t=>s[t]:m).attr("cy",u?t=>u[t]:g).attr("r",l?t=>l[t]:h)}:t=>{t.attr("transform",KR`translate(${s?t=>s[t]:m},${u?t=>u[t]:g})${c?t=>` rotate(${c[t]})`:d?` rotate(${d})`:""}`).attr("d",l&&f?t=>{const e=r_();return f[t].draw(e,l[t]*l[t]*Math.PI),e}:l?t=>{const e=r_();return p.draw(e,l[t]*l[t]*Math.PI),e}:f?t=>{const e=r_();return f[t].draw(e,v),e}:(()=>{const t=r_();return p.draw(t,v),t})())}).call(lz,this,n))).node()}}function gj(t,{x:e,y:n,...r}={}){return void 0===r.frameAnchor&&([e,n]=CB(e,n)),new mj(t,{...r,x:e,y:n})}const yj={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class vj extends dR{constructor(t,e={}){const{x:n,y:r,z:i,curve:o,tension:a}=e;super(t,{x:{value:n,scale:"x"},y:{value:r,scale:"y"},z:{value:kB(e),optional:!0}},e,yj),this.z=i,this.curve=U$(o,a),CR(this,e)}filter(t){return t}project(t,e,n){this.curve!==q$&&super.project(t,e,n)}render(t,e,n,r,i){const{x:o,y:a}=n,{curve:s}=this;return Az("svg:g",i).call(dz,this,r,i).call(yz,this,e).call((e=>e.selectAll().data(fz(t,[o,a],this,n)).enter().append("path").call(pz,this).call(cz,this,n).call(IR,this,n,i).attr("d",s===q$&&i.projection?function(t,e,n){const r=pA(t);return e=dB(e),n=dB(n),t=>{let i=[];const o=[i];for(const r of t)-1===r?(i=[],o.push(i)):i.push([e[r],n[r]]);return r({type:"MultiLineString",coordinates:o})}}(i.projection,o,a):oN().curve(s).defined((t=>t>=0)).x((t=>o[t])).y((t=>a[t]))))).node()}}function wj(t,{x:e=oB,y:n=aB,...r}={}){return new vj(t,W$({...r,x:e,y:n}))}const bj={ariaLabel:"geo",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class xj extends dR{constructor(t,e={}){const[n,r]=vB(e.r,3);super(t,{geometry:{value:e.geometry,scale:"projection"},r:{value:n,scale:"r",filter:BT,optional:!0}},pj(e),bj),this.r=r}render(t,e,n,r,i){const{geometry:o,r:a}=n,s=pA(i.projection??function({x:t,y:e}){if(t||e)return t??=t=>t,e??=t=>t,mA({point(n,r){this.stream.point(t(n),e(r))}})}(e)),{r:u}=this;return OT(u)?t=[]:void 0!==u&&s.pointRadius(u),Az("svg:g",i).call(dz,this,r,i).call(yz,this,e).call((e=>{e.selectAll().data(t).enter().append("path").call(pz,this).attr("d",a?t=>s.pointRadius(a[t])(o[t]):t=>s(o[t])).call(lz,this,n)})).node()}}function _j(t,{geometry:e=aB,...n}={}){switch(t?.type){case"FeatureCollection":t=t.features;break;case"GeometryCollection":t=t.geometries;break;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":t=[t]}return new xj(t,{geometry:e,...n})}function Dj(t,e,n,r={}){r={width:1080,layout:"a",colorScheme:"okhsl_flat",drawBorders:"on",lineXLabel:"x",lineYLabel:"y",lineXValues:Array.from({length:e.xIndexes.length},((t,e)=>e)),extraSpatialData:null,topRowScale:.8,...r};const i="#ededee",o=n,a=new Map(e.zIndexes.map(((t,e)=>[t,o.labels[e]]))),s=Array.from({length:o.centroids.length},(()=>0));e.zIndexes.map(((t,e)=>s[o.labels[e]]++));let u=null;u="okhsl_flat"==r.colorScheme?AT(o.embeddedCentroids,[.7,.7]):"okhsl_cone"==r.colorScheme?AT(o.embeddedCentroids,[.8,.7]):AT(o.embeddedCentroids,[.6,.6]);const l=o.embeddedCentroids.map((t=>u(t))),c=t=>l[t],f=new wT,h=t=>t.id,d=t=>c(h(t)),p=o.embeddedCentroids;p.forEach(((t,e)=>t.id=e));const m=[0,0],g=fy(p.map((t=>function(t,e){let n=0;for(let r=0;r<t.length;r++)n+=(t[r]-e[r])**2;return Math.sqrt(n)}(t,m)))),y=[{x1:m[0]-g,x2:m[0]+g,y1:m[1],y2:m[1]},{x1:m[0],x2:m[0],y1:m[1]-g,y2:m[1]+g}],v=D$({width:r.width/2*r.topRowScale,height:r.width/2*r.topRowScale,axis:null,margin:20,r:{range:[3,16]},marks:[gj(p,{x:t=>t[0],y:t=>t[1],fill:t=>s[h(t)]>0?d(t):"none",stroke:"white",r:t=>s[h(t)]}),fj(y,{x1:"x1",x2:"x2",y1:"y1",y2:"y2",stroke:"lightgrey"}),gj(p.filter((t=>0==s[h(t)])),{x:t=>t[0],y:t=>t[1],stroke:"black",symbol:"times"})]}),w=aw(v),b=w.select("g[aria-label='dot']");!function(t,e,n,r,i,o,a="lightgrey",s=null){const u=i.selectAll("*");u.data(u.data().map((e=>t[e]))),r.addResponder({update(t){gT(u,r,e,"fill",a,n)}});const l=[];if(u.each((function(t,n,r){l.push({x:parseFloat(this.getAttribute("cx")),y:parseFloat(this.getAttribute("cy")),id:e(t)})})),null!=s){const t=vT(o);u.on("mouseover.tooltip",((e,n)=>{const r=e.target.getBBox(),i=[r.x+r.width/2,r.y+r.height/2];t.show(s(n),i[0],i[1])})),u.on("mouseleave.tooltip",(()=>t.hide()))}pT(r,l,o,15),dT(r,o)}(p,h,d,f,b,w,i,(t=>`[${+t[0].toFixed(2)}, ${+t[1].toFixed(2)}] <br> ${s[t.id]} vectors`));const x=o.centroids,_=t=>c(t.id),D=[];x.forEach(((t,e)=>{t.forEach(((t,n)=>{D.push({x:n,y:t,id:e,j:n})}))}));const E=[];e.processedVectors.forEach(((t,n)=>{t.forEach(((t,r)=>{E.push({x:r,y:t,id:e.zIndexes[n]})}))}));const A=D$({style:{fontSize:12},marginLeft:50,marginBottom:50,marginTop:50,width:r.width*(3/4)*r.topRowScale,height:r.width/2*r.topRowScale,y:{domain:Lg(D,(t=>t.y)),tickSpacing:50,label:r.lineYLabel},x:{label:r.lineXLabel},marks:[wj(D,{x:t=>r.lineXValues[t.x],y:"y",z:h,stroke:_,strokeWidth:2}),wj(E,{x:t=>r.lineXValues[t.x],y:"y",z:h,stroke:"slategrey",strokeWidth:2,strokeDasharray:"2,4"}),gj(D,{x:t=>r.lineXValues[t.x],y:"y",z:h,stroke:"none",fill:"black",r:2})]}),M=aw(A),S=M.selectAll("g[aria-label='line']"),C=S.filter(((t,e)=>0==e)),k=S.filter(((t,e)=>1==e)),F=M.select("g[aria-label='dot']").selectAll("circle");k.selectAll("path").attr("visibility","hidden").data(e.zIndexes.map((t=>({id:t})))),function(t,e,n,r,i,o,a="lightgrey"){const s=i.selectAll("path").data(t),u=[];s.each(((n,r,i)=>{const o=i[r],a=o.getTotalLength();for(let n=0;n<a;n+=10){const i=o.getPointAtLength(n);u.push({x:i.x,y:i.y,id:e(t[r]),element:o})}})),r.addResponder({update(t){s.filter((t=>e(t)==r.focused)).raise(),gT(s,r,e,"stroke",a,n)}}),pT(r,u,o,15),dT(r,o)}(x.map(((t,e)=>({id:e}))),h,_,f,C,M,i),function(t,e,n,r=30,i=null,o=null){const a=vT(n);e.data(t),e.attr("visibility","hidden");const s=[];e.each((function(t,e,n){s.push({x:parseFloat(this.getAttribute("cx")),y:parseFloat(this.getAttribute("cy"))})}));const u=z_.from(s,(t=>t.x),(t=>t.y)),l=r**2,c=n.node();let f=null;n.on("mousemove.dottooltip",((n,h)=>{const d=new DOMPointReadOnly(n.clientX,n.clientY).matrixTransform(c.getScreenCTM().inverse()),p=[d.x,d.y];let m=u.find(p[0],p[1]);const g=s[m];if(null!=r&&(p[0]-g.x)**2+(p[1]-g.y)**2>l&&(m=null),o&&(o(t[m])||(m=null)),m!=f)if(e.attr("visibility","hidden"),f=m,null!=m){aw(e.nodes()[m]).attr("visibility","visible");const n=null==i?`${g.x},${g.y}`:i(t[m]);a.show(n,g.x,g.y)}else a.hide()})).on("mouseleave.dottooltip",((t,e)=>{a.hide()}))}(D,F,M,13,(t=>{let n=r.lineXValues[t.j];n=null!=n.toISOString?n.toISOString().slice(0,10):n;return` ${n} </br> ${e.processedVectors[t.id][t.j].toFixed(3)} `}),(t=>f.focused==t?.id));const N=new wT;new Map(e.vectors.map(((t,n)=>[e.zIndexes[n],t])));const T=t=>a.has(t.id)?c(a.get(t.id)):"white",B=[_j(t,{stroke:"on"==r.drawBorders?"#CCC":T,strokeWidth:"on"==r.drawBorders?.3:1,fill:T})];null!=r.extraSpatialData&&"on"==r.drawBorders&&B.push(_j(r.extraSpatialData,{stroke:"white",strokeWidth:1,fill:"none"}));const O=D$({projection:"albers-usa",width:r.width,marks:B}),z=aw(O),I=z.select("g[aria-label='geo']");oN().x(((t,e)=>null(e))).y(((t,e)=>null(t))),yT(t.features,(t=>a.get(t.id)),T,f,I,z,i,null,"fill"),"off"==r.drawBorders&&yT(t.features,(t=>a.get(t.id)),T,f,I,z,i,null,"stroke");const R=I.selectAll("path");mT(N,(t=>t.id),R,I,"area");let P=null;N.addResponder({update(t){P&&P.attr("visibility","hidden");const e=k.selectAll("path").filter((t=>t.id==N.focused));e.attr("visibility","visible"),P=e}});const $=document.createElement("div");if($.style.justifyContent="center","a"==r.layout){const t=$.appendChild(document.createElement("div"));t.style.display="flex",t.style.justifyContent="center",t.style.gap="20px",t.appendChild(v),t.appendChild(A);const e=$.appendChild(document.createElement("div"));e.style.display="flex",e.style.justifyContent="space-around",e.appendChild(O)}else{$.style.display="flex";const t=$.appendChild(document.createElement("div"));t.style.display="flex",t.style.justifyContent="center",t.appendChild(O);const e=$.appendChild(document.createElement("div"));e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e.style.gap="20px",e.style.flexDirection="column",e.appendChild(v),e.appendChild(A)}return $}const Ej=(()=>{let t=0;return()=>(t+=1,`u${`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4)}${t}`)})();function Aj(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(t[n]);return e}function Mj(t,e){const n=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return n?parseFloat(n.replace("px","")):0}function Sj(t,e={}){const n=e.width||function(t){const e=Mj(t,"border-left-width"),n=Mj(t,"border-right-width");return t.clientWidth+e+n}(t),r=e.height||function(t){const e=Mj(t,"border-top-width"),n=Mj(t,"border-bottom-width");return t.clientHeight+e+n}(t);return{width:n,height:r}}const Cj=16384;function kj(t){return new Promise(((e,n)=>{const r=new Image;r.decode=()=>e(r),r.onload=()=>e(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=t}))}async function Fj(t,e,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),o=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${e}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${e} ${n}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),i.appendChild(o),o.appendChild(t),async function(t){return Promise.resolve().then((()=>(new XMLSerializer).serializeToString(t))).then(encodeURIComponent).then((t=>`data:image/svg+xml;charset=utf-8,${t}`))}(i)}const Nj=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return null!==n&&(n.constructor.name===e.name||Nj(n,e))};function Tj(t,e,n){const r=`.${t}:${e}`,i=n.cssText?function(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}(n):function(t){return Aj(t).map((e=>`${e}: ${t.getPropertyValue(e)}${t.getPropertyPriority(e)?" !important":""};`)).join(" ")}(n);return document.createTextNode(`${r}{${i}}`)}function Bj(t,e,n){const r=window.getComputedStyle(t,n),i=r.getPropertyValue("content");if(""===i||"none"===i)return;const o=Ej();try{e.className=`${e.className} ${o}`}catch(t){return}const a=document.createElement("style");a.appendChild(Tj(o,n,r)),e.appendChild(a)}const Oj="application/font-woff",zj="image/jpeg",Ij={woff:Oj,woff2:Oj,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:zj,jpeg:zj,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Rj(t){const e=function(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}(t).toLowerCase();return Ij[e]||""}function Pj(t){return-1!==t.search(/^(data:)/)}function $j(t,e){return`data:${e};base64,${t}`}async function jj(t,e,n){const r=await fetch(t,e);if(404===r.status)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise(((t,e)=>{const o=new FileReader;o.onerror=e,o.onloadend=()=>{try{t(n({res:r,result:o.result}))}catch(t){e(t)}},o.readAsDataURL(i)}))}const Lj={};async function Uj(t,e,n){const r=function(t,e,n){let r=t.replace(/\?.*/,"");return n&&(r=t),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}(t,e,n.includeQueryParams);if(null!=Lj[r])return Lj[r];let i;n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime());try{const r=await jj(t,n.fetchRequestInit,(({res:t,result:n})=>(e||(e=t.headers.get("Content-Type")||""),function(t){return t.split(/,/)[1]}(n))));i=$j(r,e)}catch(e){i=n.imagePlaceholder||"";let r=`Failed to fetch resource: ${t}`;e&&(r="string"==typeof e?e:e.message),r&&console.warn(r)}return Lj[r]=i,i}async function qj(t,e){return Nj(t,HTMLCanvasElement)?async function(t){const e=t.toDataURL();return"data:,"===e?t.cloneNode(!1):kj(e)}(t):Nj(t,HTMLVideoElement)?async function(t,e){if(t.currentSrc){const e=document.createElement("canvas"),n=e.getContext("2d");return e.width=t.clientWidth,e.height=t.clientHeight,null==n||n.drawImage(t,0,0,e.width,e.height),kj(e.toDataURL())}const n=t.poster,r=Rj(n);return kj(await Uj(n,r,e))}(t,e):Nj(t,HTMLIFrameElement)?async function(t){var e;try{if(null===(e=null==t?void 0:t.contentDocument)||void 0===e?void 0:e.body)return await Hj(t.contentDocument.body,{},!0)}catch(t){}return t.cloneNode(!1)}(t):t.cloneNode(!1)}const Vj=t=>null!=t.tagName&&"SLOT"===t.tagName.toUpperCase();function Wj(t,e){return Nj(e,Element)&&(function(t,e){const n=e.style;if(!n)return;const r=window.getComputedStyle(t);r.cssText?(n.cssText=r.cssText,n.transformOrigin=r.transformOrigin):Aj(r).forEach((i=>{let o=r.getPropertyValue(i);if("font-size"===i&&o.endsWith("px")){const t=Math.floor(parseFloat(o.substring(0,o.length-2)))-.1;o=`${t}px`}Nj(t,HTMLIFrameElement)&&"display"===i&&"inline"===o&&(o="block"),"d"===i&&e.getAttribute("d")&&(o=`path(${e.getAttribute("d")})`),n.setProperty(i,o,r.getPropertyPriority(i))}))}(t,e),function(t,e){Bj(t,e,":before"),Bj(t,e,":after")}(t,e),function(t,e){Nj(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),Nj(t,HTMLInputElement)&&e.setAttribute("value",t.value)}(t,e),function(t,e){if(Nj(t,HTMLSelectElement)){const n=e,r=Array.from(n.children).find((e=>t.value===e.getAttribute("value")));r&&r.setAttribute("selected","")}}(t,e)),e}async function Hj(t,e,n){return n||!e.filter||e.filter(t)?Promise.resolve(t).then((t=>qj(t,e))).then((n=>async function(t,e,n){var r,i;let o=[];return o=Vj(t)&&t.assignedNodes?Aj(t.assignedNodes()):Nj(t,HTMLIFrameElement)&&(null===(r=t.contentDocument)||void 0===r?void 0:r.body)?Aj(t.contentDocument.body.childNodes):Aj((null!==(i=t.shadowRoot)&&void 0!==i?i:t).childNodes),0===o.length||Nj(t,HTMLVideoElement)||await o.reduce(((t,r)=>t.then((()=>Hj(r,n))).then((t=>{t&&e.appendChild(t)}))),Promise.resolve()),e}(t,n,e))).then((e=>Wj(t,e))).then((t=>async function(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(0===n.length)return t;const r={};for(let i=0;i<n.length;i++){const o=n[i].getAttribute("xlink:href");if(o){const n=t.querySelector(o),i=document.querySelector(o);n||!i||r[o]||(r[o]=await Hj(i,e,!0))}}const i=Object.values(r);if(i.length){const e="http://www.w3.org/1999/xhtml",n=document.createElementNS(e,"svg");n.setAttribute("xmlns",e),n.style.position="absolute",n.style.width="0",n.style.height="0",n.style.overflow="hidden",n.style.display="none";const r=document.createElementNS(e,"defs");n.appendChild(r);for(let t=0;t<i.length;t++)r.appendChild(i[t]);t.appendChild(n)}return t}(t,e))):null}const Zj=/url\((['"]?)([^'"]+?)\1\)/g,Yj=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Xj=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;async function Kj(t,e,n,r,i){try{const o=n?function(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),e&&(r.href=e),i.href=t,i.href}(e,n):e,a=Rj(e);let s;if(i){s=$j(await i(o),a)}else s=await Uj(o,a,r);return t.replace(function(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}(e),`$1${s}$3`)}catch(t){}return t}function Jj(t){return-1!==t.search(Zj)}async function Gj(t,e,n){if(!Jj(t))return t;const r=function(t,{preferredFontFormat:e}){return e?t.replace(Xj,(t=>{for(;;){const[n,,r]=Yj.exec(t)||[];if(!r)return"";if(r===e)return`src: ${n};`}})):t}(t,n),i=function(t){const e=[];return t.replace(Zj,((t,n,r)=>(e.push(r),t))),e.filter((t=>!Pj(t)))}(r);return i.reduce(((t,r)=>t.then((t=>Kj(t,r,e,n)))),Promise.resolve(r))}async function Qj(t,e,n){var r;const i=null===(r=e.style)||void 0===r?void 0:r.getPropertyValue(t);if(i){const r=await Gj(i,null,n);return e.style.setProperty(t,r,e.style.getPropertyPriority(t)),!0}return!1}async function tL(t,e){Nj(t,Element)&&(await async function(t,e){await Qj("background",t,e)||await Qj("background-image",t,e),await Qj("mask",t,e)||await Qj("mask-image",t,e)}(t,e),await async function(t,e){const n=Nj(t,HTMLImageElement);if((!n||Pj(t.src))&&(!Nj(t,SVGImageElement)||Pj(t.href.baseVal)))return;const r=n?t.src:t.href.baseVal,i=await Uj(r,Rj(r),e);await new Promise(((e,r)=>{t.onload=e,t.onerror=r;const o=t;o.decode&&(o.decode=e),"lazy"===o.loading&&(o.loading="eager"),n?(t.srcset="",t.src=i):t.href.baseVal=i}))}(t,e),await async function(t,e){const n=Aj(t.childNodes).map((t=>tL(t,e)));await Promise.all(n).then((()=>t))}(t,e))}const eL={};async function nL(t){let e=eL[t];if(null!=e)return e;const n=await fetch(t);return e={url:t,cssText:await n.text()},eL[t]=e,e}async function rL(t,e){let n=t.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,i=(n.match(/url\([^)]+\)/g)||[]).map((async i=>{let o=i.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,t.url).href),jj(o,e.fetchRequestInit,(({result:t})=>(n=n.replace(i,`url(${t})`),[i,t])))}));return Promise.all(i).then((()=>n))}function iL(t){if(null==t)return[];const e=[];let n=t.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const t=r.exec(n);if(null===t)break;e.push(t[0])}n=n.replace(r,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let t=i.exec(n);if(null===t){if(t=o.exec(n),null===t)break;i.lastIndex=o.lastIndex}else o.lastIndex=i.lastIndex;e.push(t[0])}return e}async function oL(t,e){if(null==t.ownerDocument)throw new Error("Provided element is not within a Document");const n=Aj(t.ownerDocument.styleSheets),r=await async function(t,e){const n=[],r=[];return t.forEach((n=>{if("cssRules"in n)try{Aj(n.cssRules||[]).forEach(((t,i)=>{if(t.type===CSSRule.IMPORT_RULE){let o=i+1;const a=nL(t.href).then((t=>rL(t,e))).then((t=>iL(t).forEach((t=>{try{n.insertRule(t,t.startsWith("@import")?o+=1:n.cssRules.length)}catch(e){console.error("Error inserting rule from remote css",{rule:t,error:e})}})))).catch((t=>{console.error("Error loading remote css",t.toString())}));r.push(a)}}))}catch(i){const o=t.find((t=>null==t.href))||document.styleSheets[0];null!=n.href&&r.push(nL(n.href).then((t=>rL(t,e))).then((t=>iL(t).forEach((t=>{o.insertRule(t,n.cssRules.length)})))).catch((t=>{console.error("Error loading remote stylesheet",t)}))),console.error("Error inlining remote css file",i)}})),Promise.all(r).then((()=>(t.forEach((t=>{if("cssRules"in t)try{Aj(t.cssRules||[]).forEach((t=>{n.push(t)}))}catch(e){console.error(`Error while reading CSS rules from ${t.href}`,e)}})),n)))}(n,e);return function(t){return t.filter((t=>t.type===CSSRule.FONT_FACE_RULE)).filter((t=>Jj(t.style.getPropertyValue("src"))))}(r)}async function aL(t,e){const n=null!=e.fontEmbedCSS?e.fontEmbedCSS:e.skipFonts?null:await async function(t,e){const n=await oL(t,e);return(await Promise.all(n.map((t=>{const n=t.parentStyleSheet?t.parentStyleSheet.href:null;return Gj(t.cssText,n,e)})))).join("\n")}(t,e);if(n){const e=document.createElement("style"),r=document.createTextNode(n);e.appendChild(r),t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}}async function sL(t,e={}){const{width:n,height:r}=Sj(t,e),i=await Hj(t,e,!0);await aL(i,e),await tL(i,e),function(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const r=e.style;null!=r&&Object.keys(r).forEach((t=>{n[t]=r[t]}))}(i,e);return await Fj(i,n,r)}async function uL(t,e={}){const{width:n,height:r}=Sj(t,e),i=await sL(t,e),o=await kj(i),a=document.createElement("canvas"),s=a.getContext("2d"),u=e.pixelRatio||function(){let t,e;try{e=process}catch(t){}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}(),l=e.canvasWidth||n,c=e.canvasHeight||r;return a.width=l*u,a.height=c*u,e.skipAutoScale||function(t){(t.width>Cj||t.height>Cj)&&(t.width>Cj&&t.height>Cj?t.width>t.height?(t.height*=Cj/t.width,t.width=Cj):(t.width*=Cj/t.height,t.height=Cj):t.width>Cj?(t.height*=Cj/t.width,t.width=Cj):(t.width*=Cj/t.height,t.height=Cj))}(a),a.style.width=`${l}`,a.style.height=`${c}`,e.backgroundColor&&(s.fillStyle=e.backgroundColor,s.fillRect(0,0,a.width,a.height)),s.drawImage(o,0,0,a.width,a.height),a}var lL={exports:{}};!function(t,e){t.exports=function t(e,n,r){var i,o,a=window,s="application/octet-stream",u=r||s,l=e,c=!n&&!r&&l,f=document.createElement("a"),h=function(t){return String(t)},d=a.Blob||a.MozBlob||a.WebKitBlob||h,p=n||"download";if(d=d.call?d.bind(a):Blob,"true"===String(this)&&(u=(l=[l,u])[0],l=l[1]),c&&c.length<2048&&(p=c.split("/").pop().split("?")[0],f.href=c,-1!==f.href.indexOf(c))){var m=new XMLHttpRequest;return m.open("GET",c,!0),m.responseType="blob",m.onload=function(e){t(e.target.response,p,s)},setTimeout((function(){m.send()}),0),m}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(l)){if(!(l.length>2096103.424&&d!==h))return navigator.msSaveBlob?navigator.msSaveBlob(w(l),p):b(l);u=(l=w(l)).type||s}else if(/([\x80-\xff])/.test(l)){for(var g=0,y=new Uint8Array(l.length),v=y.length;g<v;++g)y[g]=l.charCodeAt(g);l=new d([y],{type:u})}function w(t){for(var e=t.split(/[:;,]/),n=e[1],r=("base64"==e[2]?atob:decodeURIComponent)(e.pop()),i=r.length,o=0,a=new Uint8Array(i);o<i;++o)a[o]=r.charCodeAt(o);return new d([a],{type:n})}function b(t,e){if("download"in f)return f.href=t,f.setAttribute("download",p),f.className="download-js-link",f.innerHTML="downloading...",f.style.display="none",document.body.appendChild(f),setTimeout((function(){f.click(),document.body.removeChild(f),!0===e&&setTimeout((function(){a.URL.revokeObjectURL(f.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,s)),window.open(t)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=t),!0;var n=document.createElement("iframe");document.body.appendChild(n),!e&&/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,s)),n.src=t,setTimeout((function(){document.body.removeChild(n)}),333)}if(i=l instanceof d?l:new d([l],{type:u}),navigator.msSaveBlob)return navigator.msSaveBlob(i,p);if(a.URL)b(a.URL.createObjectURL(i),!0);else{if("string"==typeof i||i.constructor===h)try{return b("data:"+u+";base64,"+a.btoa(i))}catch(t){return b("data:"+u+","+encodeURIComponent(i))}(o=new FileReader).onload=function(t){b(this.result)},o.readAsDataURL(i)}return!0}}(lL);var cL=Et(lL.exports);const fL=location.pathname.substring(0,location.pathname.lastIndexOf("/")),hL={missingMode:new Map([["remove",t=>t],["mean_column",Ag.fillMeanColumnMissing],["interpolate",Ag.interpolateMissing]]),smoothingMode:new Map([["none",t=>t],["ma_1",t=>t.map((t=>Ag.movingAverageSmooth(t,1,"cut_window")))],["ma_2",t=>t.map((t=>Ag.movingAverageSmooth(t,2,"cut_window")))],["ma_3",t=>t.map((t=>Ag.movingAverageSmooth(t,3,"cut_window")))]]),normMode:new Map([["z_row",t=>Ag.zNormalize(t,"row")],["z_col",t=>Ag.zNormalize(t,"column")],["z_both",t=>Ag.zNormalize(t,"both")],["none",t=>t]])},dL=new Map([["okhsl_cone","OKHSL (Lightness Cone)"],["okhsl_flat","OKHSL (Flat)"],["remove","Remove"],["mean_column","Fill Column w/ Mean"],["none","None"],["interpolate","Interpolate"],["ma_1","Moving Average (size 3)"],["ma_2","Moving Average (size 5)"],["ma_3","Moving Average (size 7)"],["z_row","Z-score (row-wise)"],["z_col","Z-score (column-wise)"],["z_both","Z-score (row and column-wise)"],["som","Self-Organizing Map"],["kmc+sammon","K-means + Sammon"],["kmc+pca","K-means + PCA"],["kmc+umap","K-means + UMAP"],["kmc+tsne","K-means + t-SNE"],["on","On"],["off","Off"]]),pL=["spatialDataValue","vectorDataValue","spatialFieldValue","xFieldValue","yFieldValue","missingValuesValue","normValue","smoothingValue","methodValue","kValue"],mL=["colorValue","borderValue","xDateValue"],gL={};function yL(){if(gL.state.spatialData=null,document.getElementById("vector-file-upload").value=null,"USER UPLOAD"==gL.state.spatialDataValue)gL.state.vectorDataOptions=["..."];else{const t="counties.geojson"==gL.state.spatialDataValue?"county":"state";gL.state.vectorDataOptions=gL.vectorDataMap.get(t).map((t=>({value:t,label:t.split("/")[1]}))),gL.spatialDataZip.file(gL.state.spatialDataValue).async("string").then((t=>{gL.state.spatialData=JSON.parse(t)})),gL.spatialDataZip.file("states.geojson").async("string").then((t=>{gL.extraSpatialData=JSON.parse(t)}))}}function vL(){if(gL.state.vectorData=null,"USER UPLOAD"==gL.state.vectorDataValue){const t=new Set;for(const e of gL.userVectorData)for(const n of Object.keys(e))t.add(n);gL.state.spatialFieldOptions=[...t],gL.state.xFieldOptions=[...t],gL.state.yFieldOptions=[...t];const e=function(t){const e=gL.userVectorData.slice(0,100),n=new Set(gL.state.spatialData.features.map((t=>t.id))),r=[];for(const i of t){const t=new Set(e.map((t=>t[i])));r.push([i,ky(t,n).size])}r.sort(((t,e)=>e[1]-t[1]));const i=r[0][0],o=[...t].find((t=>t.includes("date")));let a=[];for(const n of t)e.map((t=>parseFloat(t[n]))),e.filter((t=>bL(t[n]))).length>50&&a.push(n);a=a.filter((t=>t!=o&&t!=i));const s=a[0];return{id:i,date:o,value:s}}(t);gL.state.xFieldValue=e.date,gL.state.yFieldValue=e.value,gL.state.spatialFieldValue=e.id,wL(!0)}else"..."==gL.state.vectorDataValue?(gL.state.spatialFieldOptions=["..."],gL.state.xFieldOptions=["..."],gL.state.yFieldOptions=["..."],wL(!1)):(gL.vectorDataZip.file(gL.state.vectorDataValue).async("string").then((t=>{gL.state.vectorData=JSON.parse(t),gL.state.spatialFieldOptions=[gL.state.vectorData.zField],gL.state.xFieldOptions=[gL.state.vectorData.xField],gL.state.yFieldOptions=[gL.state.vectorData.yField]})),wL(!1))}function wL(t){const e=["spatial-field-select","x-field-select","y-field-select"].map((t=>document.getElementById(t)));for(const n of e)t?n.removeAttribute("disabled"):n.setAttribute("disabled","")}function bL(t){return"string"==typeof t&&(!isNaN(t)&&!isNaN(parseFloat(t)))}function xL(){const t=[];gL.state.spatialData&&t.push(`${gL.state.spatialData.features.length} areas`),gL.state.vectorData&&t.push(`${gL.state.vectorData.vectors.length} vectors`),gL.infoSpan.innerText=t.join(", ")}function _L(){null==gL.state.result?ML("disabled"):(!function(){const t=new Map(gL.state.result.labels.map(((t,e)=>[gL.state.vectorData.zIndexes[e],t])));for(const e of gL.state.spatialData.features)e.properties.label_assignment=t.get(e.id)}(),DL(),ML("pointless"))}function DL(){AL(),function(){const t=.75*window.innerHeight,e=gL.plotContainer.getBoundingClientRect().height,n=t/e,r=gL.plotContainer.getBoundingClientRect().width;let i="a";EL-n*r>250&&(i="b");AL(EL*n,i)}()}!async function(){console.log("Start"),SL(!0),function(){const t=document.getElementById("tooltip");OL(document.getElementById("spatial-data-label"),t,"Upload a GeoJSON file containing the areas you wish to visualize. Optionally, you can upload 2 files and the one with fewer areas will be used to draw extra borders on the map."),OL(document.getElementById("vector-data-label"),t,"Upload a file containing row data (CSV or JSON). This data will be turned into vectors which will then be passed to the cluster embedding method."),OL(document.getElementById("spatial-id-label"),t,"The values in this field should match the ID field in the GeoJSON."),OL(document.getElementById("x-field-label"),t,"The field which will be used to index the vectors. For spatiotemporal, this will be a date/time field."),OL(document.getElementById("y-field-label"),t,"The value field. Can be any numeric field. These values will form the vectors."),OL(document.getElementById("missing-select-label"),t,"How to handle missing data."),OL(document.getElementById("norm-select-label"),t,"Vector normalization algorithm."),OL(document.getElementById("smooth-select-label"),t,"Smoothing algorithm."),OL(document.getElementById("method-select-label"),t,"The cluster embedding method which will be applied."),OL(document.getElementById("k-input-label"),t,"The number of clusters."),OL(document.getElementById("color-select-label"),t,"The coloring method."),OL(document.getElementById("border-select-label"),t,"Whether or not area borders are drawn."),OL(document.getElementById("x-date-select-label"),t,"Whether or not to treat 'x' as a date in the line chart")}(),gL.state=new Sg,gL.runButton=document.getElementById("run-button"),gL.plotContainer=document.getElementById("plot-container"),gL.infoSpan=document.getElementById("info-span"),gL.state.defineProperty("result"),function(){gL.urlParams=new URLSearchParams(window.location.hash.replace("#",""));for(const t of[...pL,...mL])gL.urlParams.has(t)&&gL.state.defineProperty(t,gL.urlParams.get(t))}(),await async function(){const t=new bs,e=await(await fetch(`${fL}/data/example_spatial_data.zip`)).blob();await t.loadAsync(e),gL.spatialDataZip=t;const n=new bs,r=await(await fetch(`${fL}/data/example_vector_data.zip`)).blob();await n.loadAsync(r);const i=new Map([["county",[]],["state",[]]]);for(const t of Object.values(n.files))if(!t.dir){const e=t.name.split("/");i.get(e[0]).push(t.name)}gL.vectorDataMap=i,gL.vectorDataZip=n}(),function(){gL.state.defineProperty("spatialDataOptions"),gL.state.defineProperty("spatialDataValue","counties.geojson"),gL.state.defineProperty("vectorDataOptions"),gL.state.defineProperty("vectorDataValue","county/cdc_covid_cases_county_week.json"),gL.state.defineProperty("spatialFieldOptions"),gL.state.defineProperty("spatialFieldValue"),gL.state.defineProperty("xFieldOptions"),gL.state.defineProperty("xFieldValue"),gL.state.defineProperty("yFieldOptions"),gL.state.defineProperty("yFieldValue"),gL.state.defineProperty("colorOptions",["okhsl_flat","okhsl_cone"]),gL.state.defineProperty("colorValue","okhsl_cone"),gL.state.defineProperty("borderOptions",["on","off"]),gL.state.defineProperty("borderValue"),gL.state.defineProperty("xDateOptions",["on","off"]),gL.state.defineProperty("xDateValue"),gL.state.defineProperty("missingValuesOptions",[...hL.missingMode.keys()]),gL.state.defineProperty("missingValuesValue"),gL.state.defineProperty("normOptions",[...hL.normMode.keys()]),gL.state.defineProperty("normValue"),gL.state.defineProperty("smoothingOptions",[...hL.smoothingMode.keys()]),gL.state.defineProperty("smoothingValue"),gL.state.defineProperty("methodOptions",["som","kmc+sammon","kmc+pca","kmc+umap","kmc+tsne"]),gL.state.defineProperty("methodValue","kmc+sammon"),gL.state.defineProperty("kValue","9"),gL.state.defineProperty("spatialData"),gL.state.defineProperty("vectorData"),Mg("#spatial-data-select",gL.state,"spatialDataOptions","spatialDataValue",BL),Mg("#vector-data-select",gL.state,"vectorDataOptions","vectorDataValue",BL),Mg("#spatial-field-select",gL.state,"spatialFieldOptions","spatialFieldValue",BL),Mg("#x-field-select",gL.state,"xFieldOptions","xFieldValue",BL),Mg("#y-field-select",gL.state,"yFieldOptions","yFieldValue",BL),Mg("#missing-select",gL.state,"missingValuesOptions","missingValuesValue",BL),Mg("#norm-select",gL.state,"normOptions","normValue",BL),Mg("#smooth-select",gL.state,"smoothingOptions","smoothingValue",BL),Mg("#method-select",gL.state,"methodOptions","methodValue",BL),function(t,e,n){const r=document.querySelector(t);if(null==r)throw new Error(`No element found for ${t}`);e.addListener((()=>{r.value=e[n]}),n),r.addEventListener("change",(()=>{e[n]=r.value})),r.value=e[n]}("#k-input",gL.state,"kValue"),Mg("#color-select",gL.state,"colorOptions","colorValue",BL),Mg("#border-select",gL.state,"borderOptions","borderValue",BL),Mg("#x-date-select",gL.state,"xDateOptions","xDateValue",BL),document.getElementById("download-results-json").addEventListener("click",(()=>{if(gL.state.result){const t={centroids:gL.state.result.centroids,embeddedCentroids:gL.state.result.embeddedCentroids,assignments:gL.state.result.labels.map(((t,e)=>({id:gL.state.vectorData.zIndexes[e],label:t})))};kL(t,"epivecs_full_results","json")}})),document.getElementById("download-results-csv").addEventListener("click",(()=>{if(gL.state.result){const t=gL.state.result.labels.map(((t,e)=>({id:gL.state.vectorData.zIndexes[e],label:t})));kL(t,"epivecs_cluster_assignments","csv")}})),document.getElementById("download-results-geojson").addEventListener("click",(()=>{gL.state.result&&kL(gL.state.spatialData,"epivecs_geo","geojson")}));let t=!1;document.getElementById("download-plot-png").addEventListener("click",(()=>{t||(t=!0,document.getElementById("button-download-svg").style.display="none",document.getElementById("download-spinner").style.display="inline-block",setTimeout((()=>{(async function(t,e={}){return(await uL(t,e)).toDataURL()})(document.getElementById("plot-container")).then((function(e){cL(e,"epivecs-plots.png"),t=!1,document.getElementById("button-download-svg").style.display="inline-block",document.getElementById("download-spinner").style.display="none"}))}),10))}))}(),gL.state.addListener(yL,"spatialDataValue"),gL.state.addListener(vL,"vectorDataValue"),gL.state.addListener(_L,"result"),gL.state.addListener(xL,"spatialData","vectorData"),gL.state.addListener(DL,"borderValue","colorValue","xDateValue"),document.getElementById("spatial-file-upload").addEventListener("change",FL),document.getElementById("vector-file-upload").addEventListener("change",NL),gL.state.addListener((t=>{"result"!=t&&ML("ready")}),"spatialData","vectorData","spatialFieldValue","xFieldValue","yFieldValue","missingValuesValue","normValue","smoothingValue","methodValue","kValue"),gL.state.addOnceListener((()=>{null!=gL.state.vectorData&&null!=gL.state.spatialData&&(CL(),function(){for(const t of pL)gL.state.addListener((()=>{gL.urlParams.set(t,gL.state[t])}),t);for(const t of mL)gL.state.addListener((()=>{gL.urlParams.set(t,gL.state[t]),window.location.hash=gL.urlParams.toString()}),t)}())}),"spatialData","vectorData"),gL.runButton.addEventListener("click",(()=>{SL(!0),setTimeout((()=>CL()),50)})),gL.state.spatialDataOptions=["counties.geojson","states.geojson"],gL.state.fireListeners("spatialDataValue"),gL.state.fireListeners("vectorDataValue")}();const EL=1100;function AL(t=EL,e="a"){gL.plotContainer.innerHTML="";const n="on"==gL.state.xDateValue?gL.state.vectorData.xIndexes.map((t=>new Date(t))):gL.state.vectorData.xIndexes,r="none"==gL.state.normValue?gL.state.yFieldValue:`${gL.state.yFieldValue} (normalized)`;gL.plotContainer.appendChild(Dj(gL.state.spatialData,gL.state.vectorData,gL.state.result,{layout:e,width:t,colorScheme:gL.state.colorValue,drawBorders:gL.state.borderValue,lineXLabel:gL.state.xFieldValue,lineXValues:n,lineYLabel:r,extraSpatialData:gL.extraSpatialData}))}function ML(t){const e=document.getElementById("run-button");"ready"==t?(e.removeAttribute("disabled"),e.className="btn btn-primary w-100"):"pointless"==t?(e.removeAttribute("disabled"),e.className="btn btn-light w-100"):(e.className="btn btn-secondary w-100",e.setAttribute("disabled",""))}function SL(t){t?(document.getElementById("dash-container").classList.add("d-none"),document.getElementById("loading-spinner").classList.remove("d-none")):(document.getElementById("dash-container").classList.remove("d-none"),document.getElementById("loading-spinner").classList.add("d-none"))}async function CL(){if(window.location.hash=gL.urlParams.toString(),gL.state.result=null,"USER UPLOAD"==gL.state.vectorDataValue&&!gL.userVectorData||"USER UPLOAD"!=gL.state.vectorDataValue&&!gL.state.vectorData)return void console.warn("Data not loaded yet!");"USER UPLOAD"!=gL.state.vectorDataValue||gL.userVectorData.hasOwnProperty("xIndexes")||(gL.state.vectorData=function(t,e,n,r){function i(t){const e=t.map((t=>[new Date(t),t]));return e.sort(((t,e)=>t[0]-e[0])),e.map((t=>t[1]))}let o=[...new Set(t.map((t=>t[e])))].filter((t=>null!=t));o=i(o);let a=[...new Set(t.map((t=>t[r])))].filter((t=>null!=t));const s=Kg(t,(t=>t[r]),(t=>t[e])),u=[];for(const[t,e]of s.entries()){const t=[];o.forEach(((r,i)=>{const o=e.get(r);if(null!=o){const e=parseFloat(o[0][n]);t[i]=Number.isFinite(e)?e:null}})),u.push(t)}return{xIndexes:o,zIndexes:a,vectors:u}}(gL.userVectorData,gL.state.xFieldValue,gL.state.yFieldValue,gL.state.spatialFieldValue));let t=[...gL.state.vectorData.vectors];var e;e=t,e=hL.missingMode.get(gL.state.missingValuesValue)(e),e=hL.smoothingMode.get(gL.state.smoothingValue)(e),t=e=hL.normMode.get(gL.state.normValue)(e),gL.state.vectorData.zIndexesAll=[...gL.state.vectorData.zIndexes],gL.state.vectorData.zIndexes=[],t=t.filter(((t,e)=>{const n=t.every((t=>Number.isFinite(t)));return n&&gL.state.vectorData.zIndexes.push(gL.state.vectorData.zIndexesAll[e]),n})),gL.state.vectorData.processedVectors=t,Dg(t,parseInt(gL.state.kValue),gL.state.methodValue).then((t=>{gL.state.result=t})),SL(!1)}function kL(t,e,n="json"){const r="csv"==n?V_(t):JSON.stringify(t),i=new Blob([r],{type:`text/${n};charset=utf-8`}),o=URL.createObjectURL(i),a=document.createElement("a");a.href=o,a.target="_blank",a.download=`${e}.${n}`,a.click(),URL.revokeObjectURL(o)}function FL(t){TL(t.target.files[0]).then((t=>{gL.state.spatialDataOptions.includes("USER UPLOAD")||(gL.state.spatialDataOptions=[...gL.state.spatialDataOptions,"USER UPLOAD"]),gL.state.spatialDataValue="USER UPLOAD",gL.state.spatialData=t,gL.userSpatialData=t})),t.target.files.length>1&&TL(t.target.files[1]).then((t=>{if(t.features.length<gL.state.spatialData.features.length)gL.extraSpatialData=t;else{const e=gL.state.spatialData;gL.state.spatialData=t,gL.extraSpatialData=e}}))}function NL(t){TL(t.target.files[0]).then((t=>{gL.userVectorData=t,gL.state.vectorDataOptions.includes("USER UPLOAD")||(gL.state.vectorDataOptions=["USER UPLOAD"]),gL.state.vectorDataValue="USER UPLOAD"}))}function TL(t){let e=null;const n=new Promise((t=>e=t)),r=new FileReader;return r.addEventListener("load",(function(){let n=null;n="application/json"==t.type||"application/geo+json"==t.type?JSON.parse(r.result):q_(r.result),e(n)}),!1),t&&r.readAsText(t),n}const BL=t=>dL.has(t)?dL.get(t):t;function OL(t,e,n){const r=_t(t,e,{modifiers:[{name:"offset",options:{offset:[16,8]}}]});function i(){e.innerHTML=n,e.setAttribute("data-show",""),r.update()}function o(){e.removeAttribute("data-show")}["mouseenter","focus"].forEach((e=>{t.addEventListener(e,i)})),["mouseleave","blur"].forEach((e=>{t.addEventListener(e,o)}))}}));
